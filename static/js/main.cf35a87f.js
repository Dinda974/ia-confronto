/*! For license information please see main.cf35a87f.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var i=n(853),r=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var z=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case C:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var j=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],M=-1;function F(e){return{current:e}}function B(e){0>M||(e.current=D[M],D[M]=null,M--)}function q(e,t){M++,D[M]=e.current,e.current=t}var U=F(null),V=F(null),H=F(null),W=F(null);function G(e,t){switch(q(H,t),q(V,e),q(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),q(U,e)}function Q(){B(U),B(V),B(H)}function Z(e){null!==e.memoizedState&&q(W,e);var t=U.current,n=ad(t,e.type);t!==n&&(q(V,e),q(U,n))}function K(e){V.current===e&&(B(U),B(V)),W.current===e&&(B(W),Zd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,$=i.unstable_scheduleCallback,X=i.unstable_cancelCallback,J=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,ae=i.unstable_NormalPriority,oe=i.unstable_LowPriority,se=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,de=null;function pe(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&i;return 0!==s?0!==(i=s&~a)?r=ye(i):0!==(o&=s)?r=ye(o):n||0!==(n=s&~e)&&(r=ye(n)):0!==(s=i&~a)?r=ye(s):0!==o?r=ye(o):n||0!==(n=i&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function xe(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-he(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-he(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function ke(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cp(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,je="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,Re="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,De="__reactHandles$"+Ae,Me="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Be(e){delete e[Pe],delete e[je],delete e[Re],delete e[Le],delete e[De]}function qe(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Pe]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ge=new Set,Qe={};function Ze(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ye,$e,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(r=t,Y.call(et,r)||!Y.call(Je,r)&&(Xe.test(r)?et[r]=!0:(Je[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+$e}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){i=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){i=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,r,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,i,r,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(j(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&wt(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&wt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,jt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[je]||null;if(!r)throw Error(o(90));gt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Lt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Pt||null!==jt)&&(qc(),Pt&&(t=Pt,e=jt,jt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[je]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(jp){Ft=!1}var qt=null,Ut=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Ut,i=n.length,r="value"in qt?qt.value:qt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Kt,Yt,$t,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Zt(Xt),en=p({},Xt,{view:0,detail:0}),tn=Zt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Kt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Kt=0,$t=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Zt(nn),an=Zt(p({},nn,{dataTransfer:0})),on=Zt(p({},en,{relatedTarget:0})),sn=Zt(p({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Zt(p({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Zt(p({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return hn}var fn=Zt(p({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Zt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Zt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Zt(p({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Zt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Zt(p({},Xt,{newState:0,oldState:0})),Cn=[9,13,27,32],Sn=Mt&&"CompositionEvent"in window,xn=null;Mt&&"documentMode"in document&&(xn=document.documentMode);var wn=Mt&&"TextEvent"in window&&!xn,Nn=Mt&&(!Sn||xn&&8<xn&&11>=xn),In=String.fromCharCode(32),En=!1;function kn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function jn(e,t,n,i){Pt?jt?jt.push(i):jt=[i]:Pt=i,0<(t=Hu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var On=null,Rn=null;function Ln(e){Lu(e,0)}function Dn(e){if(pt(Ve(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Bn;if(Mt){var qn="oninput"in document;if(!qn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),qn="function"===typeof Un.oninput}Bn=qn}else Bn=!1;Fn=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){On&&(On.detachEvent("onpropertychange",Hn),Rn=On=null)}function Hn(e){if("value"===e.propertyName&&Dn(Rn)){var t=[];jn(t,Rn,e,At(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Rn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Rn)}function Qn(e,t){if("click"===e)return Dn(t)}function Zn(e,t){if("input"===e||"change"===e)return Dn(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Y.call(t,r)||!Kn(e[r],t[r]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,i=$n(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=$n(i)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Mt&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,ai=null,oi=!1;function si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ii||ii!==ht(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ai&&Yn(ai,i)||(ai=i,0<(i=Hu(ri,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},di={};function pi(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ui[e]=n[t];return e}Mt&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var hi=pi("animationend"),mi=pi("animationiteration"),fi=pi("animationstart"),gi=pi("transitionrun"),vi=pi("transitionstart"),yi=pi("transitioncancel"),bi=pi("transitionend"),_i=new Map,Ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){_i.set(e,t),Ze(t,[e])}Ci.push("scrollEnd");var xi=new WeakMap;function wi(e,t){if("object"===typeof e&&null!==e){var n=xi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ni=[],Ii=0,Ei=0;function ki(){for(var e=Ii,t=Ei=Ii=0;t<e;){var n=Ni[t];Ni[t++]=null;var i=Ni[t];Ni[t++]=null;var r=Ni[t];Ni[t++]=null;var a=Ni[t];if(Ni[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==a&&Pi(n,r,a)}}function zi(e,t,n,i){Ni[Ii++]=e,Ni[Ii++]=t,Ni[Ii++]=n,Ni[Ii++]=i,Ei|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ti(e,t,n,i){return zi(e,t,n,i),ji(e)}function Ai(e,t){return zi(e,null,null,t),ji(e)}function Pi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-he(n),null===(i=(e=a.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),a):null}function ji(e){if(50<Pc)throw Pc=0,jc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oi={};function Ri(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(e,t,n,i){return new Ri(e,t,n,i)}function Di(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mi(e,t){var n=e.alternate;return null===n?((n=Li(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,n,i,r,a){var s=0;if(i=e,"function"===typeof e)Di(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Li(31,n,t,r)).elementType=E,e.lanes=a,e;case g:return qi(n.children,r,a,t);case v:s=8,r|=24;break;case y:return(e=Li(12,n,t,2|r)).elementType=y,e.lanes=a,e;case x:return(e=Li(13,n,t,r)).elementType=x,e.lanes=a,e;case w:return(e=Li(19,n,t,r)).elementType=w,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case C:s=10;break e;case _:s=9;break e;case S:s=11;break e;case N:s=14;break e;case I:s=16,i=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Li(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function qi(e,t,n,i){return(e=Li(7,e,i,t)).lanes=n,e}function Ui(e,t,n){return(e=Li(6,e,null,t)).lanes=n,e}function Vi(e,t,n){return(t=Li(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hi=[],Wi=0,Gi=null,Qi=0,Zi=[],Ki=0,Yi=null,$i=1,Xi="";function Ji(e,t){Hi[Wi++]=Qi,Hi[Wi++]=Gi,Gi=e,Qi=t}function er(e,t,n){Zi[Ki++]=$i,Zi[Ki++]=Xi,Zi[Ki++]=Yi,Yi=e;var i=$i;e=Xi;var r=32-he(i)-1;i&=~(1<<r),n+=1;var a=32-he(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,$i=1<<32-he(t)+r|n<<r|i,Xi=a+e}else $i=1<<a|n<<r|i,Xi=e}function tr(e){null!==e.return&&(Ji(e,1),er(e,1,0))}function nr(e){for(;e===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,Qi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Zi[--Ki],Zi[Ki]=null,Xi=Zi[--Ki],Zi[Ki]=null,$i=Zi[--Ki],Zi[Ki]=null}var ir=null,rr=null,ar=!1,or=null,sr=!1,lr=Error(o(519));function cr(e){throw fr(wi(Error(o(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Pe]=e,t[je]=i,n){case"dialog":Du("cancel",t),Du("close",t);break;case"iframe":case"object":case"embed":Du("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Du(Ou[n],t);break;case"source":Du("error",t);break;case"img":case"image":case"link":Du("error",t),Du("load",t);break;case"details":Du("toggle",t);break;case"input":Du("invalid",t),vt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Du("invalid",t);break;case"textarea":Du("invalid",t),Ct(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Yu(t.textContent,n)?(null!=i.popover&&(Du("beforetoggle",t),Du("toggle",t)),null!=i.onScroll&&Du("scroll",t),null!=i.onScrollEnd&&Du("scrollend",t),null!=i.onClick&&(t.onclick=$u),t=!0):t=!1,t||cr(e)}function dr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(sr=!1);case 27:case 3:return void(sr=!0);default:ir=ir.return}}function pr(e){if(e!==ir)return!1;if(!ar)return dr(e),ar=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,hd(e.type)?(e=yd,yd=null,rr=e):rr=n):rr=ir?vd(e.stateNode.nextSibling):null;return!0}function hr(){rr=ir=null,ar=!1}function mr(){var e=or;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),or=null),e}function fr(e){null===or?or=[e]:or.push(e)}var gr=F(null),vr=null,yr=null;function br(e,t,n){q(gr,t._currentValue),t._currentValue=n}function _r(e){e._currentValue=gr.current,B(gr)}function Cr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var s=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cr(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Cr(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function xr(e,t,n,i){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=r.type;Kn(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===W.current){if(null===(s=r.alternate))throw Error(o(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Zd):e=[Zd])}r=r.return}null!==e&&Sr(t,e,n,i),t.flags|=262144}function wr(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){vr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ir(e){return kr(vr,e)}function Er(e,t){return null===vr&&Nr(e),kr(e,t)}function kr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yr){if(null===e)throw Error(o(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return n}var zr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Tr=i.unstable_scheduleCallback,Ar=i.unstable_NormalPriority,Pr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jr(){return{controller:new zr,data:new Map,refCount:0}}function Or(e){e.refCount--,0===e.refCount&&Tr(Ar,(function(){e.controller.abort()}))}var Rr=null,Lr=0,Dr=0,Mr=null;function Fr(){if(0===--Lr&&null!==Rr){null!==Mr&&(Mr.status="fulfilled");var e=Rr;Rr=null,Dr=0,Mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Rr){var n=Rr=[];Lr=0,Dr=zu(),Mr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lr++,t.then(Fr,Fr)}(0,t),null!==Br&&Br(e,t)};var qr=F(null);function Ur(){var e=qr.current;return null!==e?e:ic.pooledCache}function Vr(e,t){q(qr,null===t?qr.current:t.pool)}function Hr(){var e=Ur();return null===e?null:{parent:Pr._currentValue,pool:e}}var Wr=Error(o(460)),Gr=Error(o(474)),Qr=Error(o(542)),Zr={then:function(){}};function Kr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yr(){}function $r(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yr,Yr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yr,Yr);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Xr=t,Wr}}var Xr=null;function Jr(){if(null===Xr)throw Error(o(459));var e=Xr;return Xr=null,e}function ea(e){if(e===Wr||e===Qr)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ji(e),Pi(e,null,n),t}return zi(e,i,t,n),ji(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function sa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Mr)throw Mr}}function ua(e,t,n,i){la=!1;var r=e.updateQueue;ta=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,m=h!==s.lane;if(m?(ac&h)===h:(i&h)===h){0!==h&&h===Dr&&(la=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(v,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(v,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:ta=!0}}null!==(h=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(m=s).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),hc|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function pa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var ha=F(null),ma=F(0);function fa(e,t){q(ma,e=dc),q(ha,t),dc=e|t.baseLanes}function ga(){q(ma,dc),q(ha,ha.current)}function va(){dc=ma.current,B(ha),B(ma)}var ya=0,ba=null,_a=null,Ca=null,Sa=!1,xa=!1,wa=!1,Na=0,Ia=0,Ea=null,ka=0;function za(){throw Error(o(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Aa(e,t,n,i,r,a){return ya=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Go:Qo,wa=!1,a=n(i,r),wa=!1,xa&&(a=ja(t,n,i,r)),Pa(e),a}function Pa(e){O.H=Wo;var t=null!==_a&&null!==_a.next;if(ya=0,Ca=_a=ba=null,Sa=!1,Ia=0,Ea=null,t)throw Error(o(300));null===e||Es||null!==(e=e.dependencies)&&wr(e)&&(Es=!0)}function ja(e,t,n,i){ba=e;var r=0;do{if(xa&&(Ea=null),Ia=0,xa=!1,25<=r)throw Error(o(301));if(r+=1,Ca=_a=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=Zo,a=t(n,i)}while(xa);return a}function Oa(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==_a?_a.memoizedState:null)!==e&&(ba.flags|=1024),t}function Ra(){var e=0!==Na;return Na=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Da(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}ya=0,Ca=_a=ba=null,xa=!1,Ia=Na=0,Ea=null}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ca?ba.memoizedState=Ca=e:Ca=Ca.next=e,Ca}function Fa(){if(null===_a){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===Ca?ba.memoizedState:Ca.next;if(null!==t)Ca=t,_a=e;else{if(null===e){if(null===ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===Ca?ba.memoizedState=Ca=e:Ca=Ca.next=e}return Ca}function Ba(e){var t=Ia;return Ia+=1,null===Ea&&(Ea=[]),e=$r(Ea,e,t),t=ba,null===(null===Ca?t.memoizedState:Ca.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Go:Qo),e}function qa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===C)return Ir(e)}throw Error(o(438,String(e)))}function Ua(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=ba.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=k;return t.index++,n}function Va(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Wa(Fa(),_a,e)}function Wa(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=s=null,c=null,u=t=r.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(ac&p)===p:(ya&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Dr&&(d=!0);else{if((ya&h)===h){u=u.next,h===Dr&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,ba.lanes|=h,hc|=h}p=u.action,wa&&n(a,p),a=u.hasEagerState?u.eagerState:n(a,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,ba.lanes|=p,hc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Kn(a,e.memoizedState)&&(Es=!0,d&&null!==(n=Mr)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ga(e){var t=Fa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Kn(a,t.memoizedState)||(Es=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Qa(e,t,n){var i=ba,r=Fa(),a=ar;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Kn((_a||r).memoizedState,n);if(s&&(r.memoizedState=n,Es=!0),r=r.queue,vo(2048,8,Ya.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==Ca&&1&Ca.memoizedState.tag){if(i.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,r,n,t),null),null===ic)throw Error(o(349));a||0!==(124&ya)||Za(i,t,n)}return n}function Za(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ka(e,t,n,i){t.value=n,t.getSnapshot=i,$a(t)&&Xa(e)}function Ya(e,t,n){return n((function(){$a(t)&&Xa(e)}))}function $a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(i){return!0}}function Xa(e){var t=Ai(e,2);null!==t&&Lc(t,e,2)}function Ja(e){var t=Ma();if("function"===typeof e){var n=e;if(e=n(),wa){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function eo(e,t,n,i){return e.baseState=n,Wa(e,_a,"function"===typeof i?i:Va)}function to(e,t,n,i,r){if(Uo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=O.T,o={};O.T=o;try{var s=n(r,i),l=O.S;null!==l&&l(o,s),io(e,t,s)}catch(c){ao(e,t,c)}finally{O.T=a}}else try{io(e,t,a=n(r,i))}catch(u){ao(e,t,u)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ro(e,t,n)}),(function(n){return ao(e,t,n)})):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ar){var n=ic.formState;if(null!==n){e:{var i=ba;if(ar){if(rr){t:{for(var r=rr,a=sr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=vd(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){rr=vd(r.nextSibling),i="F!"===r.data;break e}}cr(i)}i=!1}i&&(t=n[0])}}return(n=Ma()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=i,n=Fo.bind(null,ba,i),i.dispatch=n,i=Ja(!1),a=qo.bind(null,ba,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=Ma()).queue=r,n=to.bind(null,ba,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function co(e){return uo(Fa(),_a,e)}function uo(e,t,n){if(t=Wa(e,t,so)[0],e=Ha(Va)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Ba(t)}catch(o){if(o===Wr)throw Qr;throw o}else i=t;var r=(t=Fa()).queue,a=r.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,mo(9,{destroy:void 0,resource:void 0},po.bind(null,r,n),null)),[i,a,e]}function po(e,t){e.action=t}function ho(e){var t=Fa(),n=_a;if(null!==n)return uo(t,n,e);Fa(),t=t.memoizedState;var i=(n=Fa()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function mo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function fo(){return Fa().memoizedState}function go(e,t,n,i){var r=Ma();i=void 0===i?null:i,ba.flags|=e,r.memoizedState=mo(1|t,{destroy:void 0,resource:void 0},n,i)}function vo(e,t,n,i){var r=Fa();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==_a&&null!==i&&Ta(i,_a.memoizedState.deps)?r.memoizedState=mo(t,a,n,i):(ba.flags|=e,r.memoizedState=mo(1|t,a,n,i))}function yo(e,t){go(8390656,8,e,t)}function bo(e,t){vo(2048,8,e,t)}function _o(e,t){return vo(4,2,e,t)}function Co(e,t){return vo(4,4,e,t)}function So(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,So.bind(null,t,e),n)}function wo(){}function No(e,t){var n=Fa();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Ta(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=Fa();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Ta(t,i[1]))return i[0];if(i=e(),wa){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,t],i}function Eo(e,t,n){return void 0===n||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),ba.lanes|=e,hc|=e,n)}function ko(e,t,n,i){return Kn(n,t)?n:null!==ha.current?(e=Eo(e,n,i),Kn(e,t)||(Es=!0),e):0===(42&ya)?(Es=!0,e.memoizedState=n):(e=Rc(),ba.lanes|=e,hc|=e,t)}function zo(e,t,n,i,r){var a=R.p;R.p=0!==a&&8>a?a:8;var o=O.T,s={};O.T=s,qo(e,!1,t,n);try{var l=r(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bo(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),i}(l,i),Oc());else Bo(e,t,i,Oc())}catch(u){Bo(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{R.p=a,O.T=o}}function To(){}function Ao(e,t,n,i){if(5!==e.tag)throw Error(o(476));var r=Po(e).queue;zo(e,r,t,L,null===n?To:function(){return jo(e),n(i)})}function Po(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function jo(e){Bo(e,Po(e).next.queue,{},Oc())}function Oo(){return Ir(Zd)}function Ro(){return Fa().memoizedState}function Lo(){return Fa().memoizedState}function Do(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),i=aa(t,e=ra(n),n);return null!==i&&(Lc(i,t,n),oa(i,t,n)),t={cache:jr()},void(e.payload=t)}t=t.return}}function Mo(e,t,n){var i=Oc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Uo(e)?Vo(t,n):null!==(n=Ti(e,t,n,i))&&(Lc(n,e,i),Ho(n,t,i))}function Fo(e,t,n){Bo(e,t,n,Oc())}function Bo(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))Vo(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,Kn(s,o))return zi(e,t,r,0),null===ic&&ki(),!1}catch(l){}if(null!==(n=Ti(e,t,r,i)))return Lc(n,e,i),Ho(n,t,i),!0}return!1}function qo(e,t,n,i){if(i={lane:2,revertLane:zu(),action:i,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(o(479))}else null!==(t=Ti(e,n,i,2))&&Lc(t,e,2)}function Uo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Vo(e,t){xa=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Wo={readContext:Ir,use:qa,useCallback:za,useContext:za,useEffect:za,useImperativeHandle:za,useLayoutEffect:za,useInsertionEffect:za,useMemo:za,useReducer:za,useRef:za,useState:za,useDebugValue:za,useDeferredValue:za,useTransition:za,useSyncExternalStore:za,useId:za,useHostTransitionStatus:za,useFormState:za,useActionState:za,useOptimistic:za,useMemoCache:za,useCacheRefresh:za},Go={readContext:Ir,use:qa,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ir,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Ma();t=void 0===t?null:t;var i=e();if(wa){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ma();if(void 0!==n){var r=n(t);if(wa){pe(!0);try{n(t)}finally{pe(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Mo.bind(null,ba,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:function(e){var t=(e=Ja(e)).queue,n=Fo.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wo,useDeferredValue:function(e,t){return Eo(Ma(),e,t)},useTransition:function(){var e=Ja(!1);return e=zo.bind(null,ba,e.queue,!0,!1),Ma().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ba,r=Ma();if(ar){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&ac)||Za(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,yo(Ya.bind(null,i,a,e),[e]),i.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,a,n,t),null),n},useId:function(){var e=Ma(),t=ic.identifierPrefix;if(ar){var n=Xi;t="\xab"+t+"R"+(n=($i&~(1<<32-he($i)-1)).toString(32)+n),0<(n=Na++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=ka++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Ma();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qo.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ua,useCacheRefresh:function(){return Ma().memoizedState=Do.bind(null,ba)}},Qo={readContext:Ir,use:qa,useCallback:No,useContext:Ir,useEffect:bo,useImperativeHandle:xo,useInsertionEffect:_o,useLayoutEffect:Co,useMemo:Io,useReducer:Ha,useRef:fo,useState:function(){return Ha(Va)},useDebugValue:wo,useDeferredValue:function(e,t){return ko(Fa(),_a.memoizedState,e,t)},useTransition:function(){var e=Ha(Va)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Qa,useId:Ro,useHostTransitionStatus:Oo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Fa(),0,e,t)},useMemoCache:Ua,useCacheRefresh:Lo},Zo={readContext:Ir,use:qa,useCallback:No,useContext:Ir,useEffect:bo,useImperativeHandle:xo,useInsertionEffect:_o,useLayoutEffect:Co,useMemo:Io,useReducer:Ga,useRef:fo,useState:function(){return Ga(Va)},useDebugValue:wo,useDeferredValue:function(e,t){var n=Fa();return null===_a?Eo(n,e,t):ko(n,_a.memoizedState,e,t)},useTransition:function(){var e=Ga(Va)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Qa,useId:Ro,useHostTransitionStatus:Oo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){var n=Fa();return null!==_a?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Lo},Ko=null,Yo=0;function $o(e){var t=Yo;return Yo+=1,null===Ko&&(Ko=[]),$r(Ko,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Jo(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Mi(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ui(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===g?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&es(a)===t.type)?(Xo(t=r(t,n.props),n),t.return=e,t):(Xo(t=Bi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=qi(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ui(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xo(n=Bi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vi(t,e.mode,n)).return=e,t;case I:return p(e,t=(0,t._init)(t._payload),n)}if(j(t)||T(t))return(t=qi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,$o(t),n);if(t.$$typeof===C)return p(e,Er(e,t),n);Jo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?c(e,t,n,i):null;case f:return n.key===r?u(e,t,n,i):null;case I:return h(e,t,n=(r=n._init)(n._payload),i)}if(j(n)||T(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return h(e,t,$o(n),i);if(n.$$typeof===C)return h(e,t,Er(e,n),i);Jo(e,n)}return null}function v(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case f:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case I:return v(e,t,n,i=(0,i._init)(i._payload),r)}if(j(i)||T(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return v(e,t,n,$o(i),r);if(i.$$typeof===C)return v(e,t,n,Er(t,i),r);Jo(t,i)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&es(b)===c.type){n(l,c.sibling),Xo(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=qi(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xo(d=Bi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vi(u,l.mode,d)).return=l,l=d}return s(l);case I:return y(l,c,u=(b=u._init)(u._payload),d)}if(j(u))return function(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,f=null;null!==d&&m<s.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var g=h(r,d,s[m],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(r,d),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g,d=f}if(m===s.length)return n(r,d),ar&&Ji(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return ar&&Ji(r,m),c}for(d=i(d);m<s.length;m++)null!==(f=v(d,r,m,s[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),o=a(f,o,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(r,e)})),ar&&Ji(r,m),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(o(150));return function(r,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=s,f=s=0,g=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=h(r,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,f),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(r,m),ar&&Ji(r,f),u;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=p(r,y.value,c))&&(s=a(y,s,f),null===d?u=y:d.sibling=y,d=y);return ar&&Ji(r,f),u}for(m=i(m);!y.done;f++,y=l.next())null!==(y=v(m,r,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),s=a(y,s,f),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),ar&&Ji(r,f),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,$o(u),d);if(u.$$typeof===C)return y(l,c,Er(l,u),d);Jo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Ui(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,i){try{Yo=0;var r=y(e,t,n,i);return Ko=null,r}catch(o){if(o===Wr||o===Qr)throw o;var a=Li(29,o,null,e.mode);return a.lanes=i,a.return=e,a}}}var ns=ts(!0),is=ts(!1),rs=F(null),as=null;function os(e){var t=e.alternate;q(us,1&us.current),q(rs,e),null===as&&(null===t||null!==ha.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(q(us,us.current),q(rs,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){q(us,us.current),q(rs,rs.current)}function cs(e){B(rs),as===e&&(as=null),B(us)}var us=F(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Oc(),r=ra(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,i))&&(Lc(t,e,i),oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Oc(),r=ra(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,i))&&(Lc(t,e,i),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),i=ra(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=aa(e,i,n))&&(Lc(t,e,n),oa(t,e,n))}};function ms(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,i)||!Yn(r,a))}function fs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function bs(e){console.error(e)}function _s(e){vs(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function xs(e,t,n){return(n=ra(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function ws(e){return(e=ra(e)).tag=3,e}function Ns(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Ss(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ss(t,n,i),"function"!==typeof r&&(null===wc?wc=new Set([this]):wc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Is=Error(o(461)),Es=!1;function ks(e,t,n,i){t.child=null===e?is(t,null,n,i):ns(t,e.child,n,i)}function zs(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var s in i)"ref"!==s&&(o[s]=i[s])}else o=i;return Nr(t),i=Aa(e,t,n,o,a,r),s=Ra(),null===e||Es?(ar&&s&&tr(t),t.flags|=1,ks(e,t,i,r),t.child):(La(e,t,r),Ks(e,t,r))}function Ts(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Di(a)||void 0!==a.defaultProps||null!==n.compare?((e=Bi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,As(e,t,a,i,r))}if(a=e.child,!Ys(e,r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,i)&&e.ref===t.ref)return Ks(e,t,r)}return t.flags|=1,(e=Mi(a,i)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(Yn(a,i)&&e.ref===t.ref){if(Es=!1,t.pendingProps=i=a,!Ys(e,r))return t.lanes=e.lanes,Ks(e,t,r);0!==(131072&e.flags)&&(Es=!0)}}return Rs(e,t,n,i,r)}function Ps(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return js(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,js(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==a?a.cachePool:null),null!==a?fa(t,a):ga(),ss(t)}else null!==a?(Vr(0,a.cachePool),fa(t,a),ls(),t.memoizedState=null):(null!==e&&Vr(0,null),ga(),ls());return ks(e,t,r,n),t.child}function js(e,t,n,i){var r=Ur();return r=null===r?null:{parent:Pr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),ga(),ss(t),null!==e&&xr(e,t,i,!0),null}function Os(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rs(e,t,n,i,r){return Nr(t),n=Aa(e,t,n,i,void 0,r),i=Ra(),null===e||Es?(ar&&i&&tr(t),t.flags|=1,ks(e,t,n,r),t.child):(La(e,t,r),Ks(e,t,r))}function Ls(e,t,n,i,r,a){return Nr(t),t.updateQueue=null,n=ja(t,i,n,r),Pa(e),i=Ra(),null===e||Es?(ar&&i&&tr(t),t.flags|=1,ks(e,t,n,a),t.child):(La(e,t,a),Ks(e,t,a))}function Ds(e,t,n,i,r){if(Nr(t),null===t.stateNode){var a=Oi,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ir(o)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ir(o):Oi,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ps(t,n,o,i),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&hs.enqueueReplaceState(a,a.state,null),ua(t,i,a,r),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var c=a.context,u=n.contextType;o=Oi,"object"===typeof u&&null!==u&&(o=Ir(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&fs(t,a,i,o),ta=!1;var p=t.memoizedState;a.state=p,ua(t,i,a,r),ca(),c=t.memoizedState,s||p!==c||ta?("function"===typeof d&&(ps(t,n,d,i),c=t.memoizedState),(l=ta||ms(t,n,l,i,p,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=o,i=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ia(e,t),u=gs(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,p=a.context,c=n.contextType,l=Oi,"object"===typeof c&&null!==c&&(l=Ir(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||p!==l)&&fs(t,a,i,l),ta=!1,p=t.memoizedState,a.state=p,ua(t,i,a,r),ca();var h=t.memoizedState;o!==d||p!==h||ta||null!==e&&null!==e.dependencies&&wr(e.dependencies)?("function"===typeof s&&(ps(t,n,s,i),h=t.memoizedState),(u=ta||ms(t,n,u,i,p,h,l)||null!==e&&null!==e.dependencies&&wr(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Os(e,t),i=0!==(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):ks(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Ks(e,t,r),e}function Ms(e,t,n,i){return hr(),t.flags|=256,ks(e,t,n,i),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:Hr()}}function qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Us(e,t,n){var i,r=t.pendingProps,a=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),i&&(a=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(ar){if(a?os(t):ls(),ar){var l,c=rr;if(l=c){e:{for(l=c,c=sr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yi?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},(l=Li(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=r.children,r=r.fallback,a?(ls(),c=Hs({mode:"hidden",children:c},a=t.mode),r=qi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=Bs(n),a.childLanes=qs(e,i,n),t.memoizedState=Fs,r):(os(t),Vs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Ws(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=r.fallback,c=t.mode,r=Hs({mode:"visible",children:r.children},c),(a=qi(a,c,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ns(t,e.child,null,n),(r=t.child).memoizedState=Bs(n),r.childLanes=qs(e,i,n),t.memoizedState=Fs,t=a);else if(os(t),gd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(o(419))).stack="",r.digest=i,fr({value:r,source:null,stack:null}),t=Ws(e,t,n)}else if(Es||xr(e,t,n,!1),i=0!==(n&e.childLanes),Es||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:ke(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ai(e,r),Lc(i,e,r),Is;"$?"===c.data||Qc(),t=Ws(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=vd(c.nextSibling),ir=t,ar=!0,or=null,sr=!1,null!==e&&(Zi[Ki++]=$i,Zi[Ki++]=Xi,Zi[Ki++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Vs(t,r.children)).flags|=4096);return t}return a?(ls(),a=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Mi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Mi(u,a):(a=qi(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(u=Pr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=qs(e,i,n),t.memoizedState=Fs,r):(os(t),e=(n=e.child).sibling,(n=Mi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Li(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return ns(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Cr(e.return,t,n)}function Qs(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Zs(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(ks(e,t,i.children,n),0!==(2&(i=us.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(q(us,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ds(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!wr(e))}function $s(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Es=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),br(0,Pr,e.memoizedState.cache),hr();break;case 27:case 5:Z(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:br(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(os(t),null!==(e=Ks(e,t,n))?e.sibling:null);os(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(xr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Zs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),q(us,us.current),i)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n);case 24:br(0,Pr,e.memoizedState.cache)}return Ks(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,ar&&0!==(1048576&t.flags)&&er(t,Qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===S){t.tag=11,t=zs(null,t,i,e,n);break e}if(r===N){t.tag=14,t=Ts(null,t,i,e,n);break e}}throw t=P(i)||i,Error(o(306,t,""))}Di(i)?(e=gs(i,e),t.tag=1,t=Ds(null,t,i,e,n)):(t.tag=0,t=Rs(null,t,i,e,n))}return t;case 0:return Rs(e,t,t.type,t.pendingProps,n);case 1:return Ds(e,t,i=t.type,r=gs(i,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,ia(e,t),ua(t,i,null,n);var s=t.memoizedState;if(i=s.cache,br(0,Pr,i),i!==a.cache&&Sr(t,[Pr],n,!0),ca(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,i,n);break e}if(i!==r){fr(r=wi(Error(o(424)),t)),t=Ms(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=vd(e.firstChild),ir=t,ar=!0,or=null,sr=!0,n=is(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),i===r){t=Ks(e,t,n);break e}ks(e,t,i,n)}t=t.child}return t;case 26:return Os(e,t),null===e?(n=kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ar||(n=t.type,e=t.pendingProps,(i=id(H.current).createElement(n))[Pe]=t,i[je]=e,ed(i,n,e),We(i),t.stateNode=i):t.memoizedState=kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Z(t),null===e&&ar&&(i=t.stateNode=_d(t.type,t.pendingProps,H.current),ir=t,sr=!0,r=rr,hd(t.type)?(yd=r,rr=vd(i.firstChild)):rr=r),ks(e,t,t.pendingProps.children,n),Os(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ar&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,sr))?(t.stateNode=i,ir=t,rr=vd(i.firstChild),sr=!1,r=!0):r=!1),r||cr(t)),Z(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,od(r,a)?i=null:null!==s&&od(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=Aa(e,t,Oa,null,null,n),Zd._currentValue=r),Os(e,t),ks(e,t,i,n),t.child;case 6:return null===e&&ar&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,sr))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Us(e,t,n);case 4:return G(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ns(t,null,i,n):ks(e,t,i,n),t.child;case 11:return zs(e,t,t.type,t.pendingProps,n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,br(0,t.type,i.value),ks(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Nr(t),i=i(r=Ir(r)),t.flags|=1,ks(e,t,i,n),t.child;case 14:return Ts(e,t,t.type,t.pendingProps,n);case 15:return As(e,t,t.type,t.pendingProps,n);case 19:return Zs(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Hs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ps(e,t,n);case 24:return Nr(t),i=Ir(Pr),null===e?(null===(r=Ur())&&(r=ic,a=jr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},na(t),br(0,Pr,r)):(0!==(e.lanes&n)&&(ia(e,t),ua(t,null,null,n),ca()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),br(0,Pr,i)):(i=a.cache,br(0,Pr,i),i!==r.cache&&Sr(t,[Pr],n,!0))),ks(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xs(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=rs.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Xr=Zr,Gr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_r(Pr),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pr(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Js(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Js(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:K(t),n=H.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=U.current,pr(t)?ur(t):(e=_d(r,i,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=U.current,pr(t))ur(t);else{switch(r=id(H.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Pe]=t,e[je]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=H.current,pr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Yu(e.nodeValue,n)))||cr(t)}else(e=id(e).createTextNode(i))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=pr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[Pe]=t}else hr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=mr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Q(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return _r(t.type),nl(t),null;case 19:if(B(us),null===(r=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)tl(r,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fi(n,e),n=n.sibling;return q(us,1&us.current|2),t.child}e=e.sibling}null!==r.tail&&te()>Sc&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ds(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ar)return nl(t),null}else 2*te()-r.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=us.current,q(us,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),va(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&B(qr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_r(Pr),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _r(Pr),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(us),null;case 4:return Q(),null;case 10:return _r(t.type),null;case 22:case 23:return cs(t),va(),null!==e&&B(qr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _r(Pr),null;default:return null}}function al(e,t){switch(nr(t),t.tag){case 3:_r(Pr),Q();break;case 26:case 27:case 5:K(t);break;case 4:Q();break;case 13:cs(t);break;case 19:B(us);break;case 10:_r(t.type);break;case 22:case 23:cs(t),va(),null!==e&&B(qr);break;case 24:_r(Pr)}}function ol(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==r)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pa(t,n)}catch(i){uu(e,e.return,i)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){uu(e,t,i)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){uu(e,t,r)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function hl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(m)||Xu(e,t,m,null,i,p)}}for(var h in i){var m=i[h];if(p=n[h],i.hasOwnProperty(h)&&(null!=m||null!=p))switch(h){case"type":a=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:m!==p&&Xu(e,t,h,m,i,p)}}return void gt(e,s,l,c,u,d,a,r);case"select":for(a in m=s=l=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(a)||Xu(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Xu(e,t,r,a,i,c)}return t=l,n=s,i=m,void(null!=h?bt(e,!!n,h,!1):!!i!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=h=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=r||null!=a))switch(s){case"value":h=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==a&&Xu(e,t,s,r,i,a)}return void _t(e,h,m);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Xu(e,t,f,null,i,h);for(c in i)if(h=i[c],m=n[c],i.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Xu(e,t,c,h,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!i.hasOwnProperty(g)&&Xu(e,t,g,null,i,h);for(u in i)if(h=i[u],m=n[u],i.hasOwnProperty(u)&&h!==m&&(null!=h||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Xu(e,t,u,h,i,m)}return;default:if(It(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!i.hasOwnProperty(v)&&Ju(e,t,v,void 0,i,h);for(d in i)h=i[d],m=n[d],!i.hasOwnProperty(d)||h===m||void 0===h&&void 0===m||Ju(e,t,d,h,i,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!i.hasOwnProperty(y)&&Xu(e,t,y,null,i,h);for(p in i)h=i[p],m=n[p],!i.hasOwnProperty(p)||h===m||null==h&&null==m||Xu(e,t,p,h,i,m)}(i,e.type,n,t),i[je]=t}catch(r){uu(e,e.return,r)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==i&&(27===i&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,i,n),t[Pe]=e,t[je]=n}catch(a){uu(e,e.return,a)}}var bl=!1,_l=!1,Cl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,xl=null;function wl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&i&&ol(5,n);break;case 1:if(Dl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var r=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Dl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pa(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&i&&yl(n);case 26:case 5:Dl(e,n),null===t&&4&i&&pl(n),512&i&&ul(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&i&&Tl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=mu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||_l,r=bl;var a=_l;bl=i,(_l=t)&&!a?Fl(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),bl=r,_l=a}break;case 30:break;default:Dl(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,El=!1;function kl(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:_l||dl(n,t),kl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||dl(n,t);var i=Il,r=El;hd(n.type)&&(Il=n.stateNode,El=!1),kl(e,t,n),Cd(n.stateNode),Il=i,El=r;break;case 5:_l||dl(n,t);case 6:if(i=Il,r=El,Il=null,kl(e,t,n),El=r,null!==(Il=i))if(El)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Il.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Il&&(El?(md(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ep(e)):md(Il,n.stateNode));break;case 4:i=Il,r=El,Il=n.stateNode.containerInfo,El=!0,kl(e,t,n),Il=i,El=r;break;case 0:case 11:case 14:case 15:_l||sl(2,n,t),_l||sl(4,n,t),kl(e,t,n);break;case 1:_l||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,t,i)),kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:_l=(i=_l)||null!==n.memoizedState,kl(e,t,n),_l=i;break;default:kl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ep(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var i=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function Pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Il=l.stateNode,El=!1;break e}break;case 5:Il=l.stateNode,El=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Il)throw Error(o(160));zl(a,s,r),Il=null,El=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var jl=null;function Ol(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Rl(e),4&i&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Pl(t,e),Rl(e),512&i&&(_l||null===n||dl(n,n.return)),64&i&&bl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=jl;if(Pl(t,e),Rl(e),512&i&&(_l||null===n||dl(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Fe]||a[Pe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ed(a,i,n),a[Pe]=e,We(a),i=a;break e;case"link":var s=Fd("link","href",r).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(s=Fd("meta","content",r).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(o(468,i))}a[Pe]=e,We(a),i=a}e.stateNode=i}else Bd(r,e.type,e.stateNode);else e.stateNode=Od(r,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Bd(r,e.type,e.stateNode):Od(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Rl(e),512&i&&(_l||null===n||dl(n,n.return)),null!==n&&4&i&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Rl(e),512&i&&(_l||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{St(r,"")}catch(m){uu(e,e.return,m)}}4&i&&null!=e.stateNode&&hl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Cl=!0);break;case 6:if(Pl(t,e),Rl(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){uu(e,e.return,m)}}break;case 3:if(Md=null,r=jl,jl=wd(t.containerInfo),Pl(t,e),jl=r,Rl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ep(t.containerInfo)}catch(m){uu(e,e.return,m)}Cl&&(Cl=!1,Ll(e));break;case 4:i=jl,jl=wd(e.stateNode.containerInfo),Pl(t,e),Rl(e),jl=i;break;case 12:default:Pl(t,e),Rl(e);break;case 13:Pl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Cc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Al(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=_l;if(bl=u||r,_l=d||c,Pl(t,e),_l=d,bl=u,Rl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||bl||_l||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Rl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Al(e,i)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(ml(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;vl(e,fl(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(St(a,""),n.flags&=-33),vl(e,fl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,fl(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)wl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:Cd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Fl(r,a,n),ol(4,a);break;case 1:if(Fl(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)da(l[r],s)}catch(c){uu(i,i.return,c)}}n&&64&o&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:Fl(r,a,n),n&&null===i&&4&o&&pl(a),ul(a,a.return);break;case 12:Fl(r,a,n);break;case 13:Fl(r,a,n),n&&4&o&&Tl(r,a);break;case 22:null===a.memoizedState&&Fl(r,a,n),ul(a,a.return);break;case 30:break;default:Fl(r,a,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Or(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e))}function Ul(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,i),t=t.sibling}function Vl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,i),2048&r&&ol(9,t);break;case 1:case 13:default:Ul(e,t,n,i);break;case 3:Ul(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e)));break;case 12:if(2048&r){Ul(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Ul(e,t,n,i):Wl(e,t):2&a._visibility?Ul(e,t,n,i):(a._visibility|=2,Hl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Bl(o,t);break;case 24:Ul(e,t,n,i),2048&r&&ql(t.alternate,t)}}function Hl(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(a,o,s,l,r),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hl(a,o,s,l,r):Wl(a,o):(u._visibility|=2,Hl(a,o,s,l,r)),r&&2048&c&&Bl(o.alternate,o);break;case 24:Hl(a,o,s,l,r),r&&2048&c&&ql(o.alternate,o);break;default:Hl(a,o,s,l,r)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Wl(n,i),2048&r&&Bl(i.alternate,i);break;case 24:Wl(n,i),2048&r&&ql(i.alternate,i);break;default:Wl(n,i)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(o(475));var i=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=zd(n.href),a=e.querySelector(Td(r));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Hd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Ad(n),(r=Sd.get(r))&&Ld(n,r),We(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Hd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(jl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=jl;jl=wd(e.stateNode.containerInfo),Ql(e),jl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Kl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Jl(i,e)}Kl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Jl(i,e)}Kl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Jl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Or(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,xl=i;else e:for(n=e;null!==xl;){var r=(i=xl).sibling,a=i.return;if(Nl(i),i===n){xl=null;break e}if(null!==r){r.return=a,xl=r;break e}xl=a}}}var ec={getCacheForType:function(e){var t=Ir(Pr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,ac=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,pc=0,hc=0,mc=0,fc=0,gc=0,vc=0,yc=null,bc=null,_c=!1,Cc=0,Sc=1/0,xc=null,wc=null,Nc=0,Ic=null,Ec=null,kc=0,zc=0,Tc=null,Ac=null,Pc=0,jc=null;function Oc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==O.T){return 0!==Dr?Dr:zu()}return Te()}function Rc(){0===gc&&(gc=0===(536870912&ac)||ar?Se():536870912);var e=rs.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Vc(e,0),Bc(e,ac,gc,!1)),Ne(e,n),0!==(2&nc)&&e===ic||(e===ic&&(0===(2&nc)&&(mc|=n),4===pc&&Bc(e,ac,gc,!1)),Su(e))}function Dc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),r=i?function(e,t){var n=nc;nc|=2;var i=Wc(),r=Gc();ic!==e||ac!==t?(xc=null,Sc=te()+500,Vc(e,t)):cc=_e(e,t);e:for(;;)try{if(0!==oc&&null!==rc){t=rc;var a=sc;t:switch(oc){case 1:oc=0,sc=null,Jc(e,t,a,1);break;case 2:case 9:if(Kr(a)){oc=0,sc=null,Xc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),Su(e)},a.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Kr(a)?(oc=0,sc=null,Xc(t)):(oc=0,sc=null,Jc(e,t,a,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||qd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}oc=0,sc=null,Jc(e,t,a,5);break;case 6:oc=0,sc=null,Jc(e,t,a,6);break;case 8:Uc(),pc=6;break e;default:throw Error(o(462))}}Yc();break}catch(d){Hc(e,d)}return yr=vr=null,O.H=i,O.A=r,nc=n,null!==rc?0:(ic=null,ac=0,ki(),pc)}(e,t):Zc(e,t,!0),a=i;;){if(0===r){cc&&!i&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||Fc(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,s).flags|=256),2!==(s=Zc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,r=4;break e}a=bc,bc=r,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}r=s}if(a=!1,2!==r)continue}}if(1===r){Vc(e,0),Bc(e,t,0,!0);break}e:{switch(i=e,a=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Bc(i,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=Cc+300-te())){if(Bc(i,t,gc,!lc),0!==be(i,0,!0))break e;i.timeoutHandle=ld(Mc.bind(null,i,n,bc,xc,_c,t,gc,mc,vc,lc,a,2,-0,0),r)}else Mc(i,n,bc,xc,_c,t,gc,mc,vc,lc,a,0,-0,0)}break}r=Zc(e,t,!1),a=!1}Su(e)}function Mc(e,t,n,i,r,a,s,l,c,u,d,p,h,m){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Ud={stylesheets:null,count:0,unsuspend:Vd},Zl(t),null!==(p=function(){if(null===Ud)throw Error(o(475));var e=Ud;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nu.bind(null,e,t,a,n,i,r,s,l,c,d,1,h,m)),void Bc(e,a,s,!u);nu(e,t,a,n,i,r,s,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Kn(a(),r))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,i){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-he(r),o=1<<a;i[a]=-1,r&=~o}0!==n&&Ie(e,n,t)}function qc(){return 0!==(6&nc)||(xu(0,!1),!1)}function Uc(){if(null!==rc){if(0===oc)var e=rc.return;else yr=vr=null,Da(e=rc),Ko=null,Yo=0,e=rc;for(;null!==e;)al(e.alternate,e),e=e.return;rc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),ic=e,rc=n=Mi(e.current,null),ac=t,oc=0,sc=null,lc=!1,cc=_e(e,t),uc=!1,vc=gc=fc=mc=hc=pc=0,bc=yc=null,_c=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-he(i),a=1<<r;t|=e[r],i&=~a}return dc=t,ki(),n}function Hc(e,t){ba=null,O.H=Wo,t===Wr||t===Qr?(t=Jr(),oc=3):t===Gr?(t=Jr(),oc=4):oc=t===Is?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===rc&&(pc=1,Cs(e,wi(t,e.current)))}function Wc(){var e=O.H;return O.H=Wo,null===e?Wo:e}function Gc(){var e=O.A;return O.A=ec,e}function Qc(){pc=4,lc||(4194048&ac)!==ac&&null!==rs.current||(cc=!0),0===(134217727&hc)&&0===(134217727&mc)||null===ic||Bc(ic,ac,gc,!1)}function Zc(e,t,n){var i=nc;nc|=2;var r=Wc(),a=Gc();ic===e&&ac===t||(xc=null,Vc(e,t)),t=!1;var o=pc;e:for(;;)try{if(0!==oc&&null!==rc){var s=rc,l=sc;switch(oc){case 8:Uc(),o=6;break e;case 3:case 2:case 9:case 6:null===rs.current&&(t=!0);var c=oc;if(oc=0,sc=null,Jc(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,Jc(e,s,l,c)}}Kc(),o=pc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,yr=vr=null,nc=i,O.H=r,O.A=a,null===rc&&(ic=null,ac=0,ki()),o}function Kc(){for(;null!==rc;)$c(rc)}function Yc(){for(;null!==rc&&!J();)$c(rc)}function $c(e){var t=$s(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Da(t);default:al(n,t),t=$s(n,t=rc=Fi(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Jc(e,t,n,i){yr=vr=null,Da(t),Ko=null,Yo=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&xr(t,n,r,!0),null!==(n=rs.current)){switch(n.tag){case 13:return null===as?Qc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Zr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),du(e,i,r)),!1;case 22:return n.flags|=65536,i===Zr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),du(e,i,r)),!1}throw Error(o(435,n.tag))}return du(e,i,r),Qc(),!1}if(ar)return null!==(t=rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&fr(wi(e=Error(o(422),{cause:i}),n))):(i!==lr&&fr(wi(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=wi(i,n),sa(e,r=xs(e.stateNode,i,r)),4!==pc&&(pc=2)),!1;var a=Error(o(520),{cause:i});if(a=wi(a,n),null===yc?yc=[a]:yc.push(a),4!==pc&&(pc=2),null===t)return!0;i=wi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,sa(n,e=xs(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===wc||!wc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Ns(r=ws(r),e,n,i),sa(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ac))return pc=1,Cs(e,wi(n,e.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return pc=1,Cs(e,wi(n,e.current)),void(rc=null)}32768&t.flags?(ar||1===i?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=rs.current)&&13===i.tag&&(i.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===pc&&(pc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);pc=6,rc=null}function nu(e,t,n,i,r,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Nc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-he(n),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==i&&Ie(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Ei,s,l,c),e===ic&&(rc=ic=null,ac=0),Ec=t,Ic=e,kc=n,zc=a,Tc=r,Ac=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ae,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=O.T,O.T=null,r=R.p,R.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=np,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==a||0!==i&&3!==p.nodeType||(c=s+i),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===r&&(l=s),h===a&&++d===i&&(c=s),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(a=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var f=gs(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=s,R.p=r,O.T=i}}Nc=1,iu(),ru(),au()}}function iu(){if(1===Nc){Nc=0;var e=Ic,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var i=R.p;R.p=2;var r=nc;nc|=4;try{Ol(t,e);var a=nd,o=ei(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Jn(s.ownerDocument.documentElement,s)){if(null!==l&&ti(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!h.extend&&f>g&&(o=g,g=f,f=o);var v=Xn(s,f),y=Xn(s,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),f>g?(h.addRange(b),h.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}np=!!td,nd=td=null}finally{nc=r,R.p=i,O.T=n}}e.current=t,Nc=2}}function ru(){if(2===Nc){Nc=0;var e=Ic,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var i=R.p;R.p=2;var r=nc;nc|=4;try{wl(e,t.alternate,t)}finally{nc=r,R.p=i,O.T=n}}Nc=3}}function au(){if(4===Nc||3===Nc){Nc=0,ee();var e=Ic,t=Ec,n=kc,i=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,Ec=Ic=null,ou(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(wc=null),ze(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=O.T,r=R.p,R.p=2,O.T=null;try{for(var a=e.onRecoverableError,o=0;o<i.length;o++){var s=i[o];a(s.value,{componentStack:s.stack})}}finally{O.T=t,R.p=r}}0!==(3&kc)&&su(),Su(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===jc?Pc++:(Pc=0,jc=e):Pc=0,xu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Or(t)))}function su(e){return iu(),ru(),au(),lu()}function lu(){if(5!==Nc)return!1;var e=Ic,t=zc;zc=0;var n=ze(kc),i=O.T,r=R.p;try{R.p=32>n?32:n,O.T=null,n=Tc,Tc=null;var a=Ic,s=kc;if(Nc=0,Ec=Ic=null,kc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,$l(a.current),Vl(a,a.current,s,n),nc=l,xu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{R.p=r,O.T=i,ou(e,t)}}function cu(e,t,n){t=wi(n,t),null!==(e=aa(e,t=xs(e.stateNode,t,2),2))&&(Ne(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===wc||!wc.has(i))){e=wi(n,e),null!==(i=aa(t,n=ws(2),2))&&(Ns(n,i,t,e),Ne(i,2),Su(i));break}}t=t.return}}function du(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(uc=!0,r.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===pc||3===pc&&(62914560&ac)===ac&&300>te()-Cc?0===(2&nc)&&Vc(e,0):fc|=n,vc===ac&&(vc=0)),Su(e)}function hu(e,t){0===t&&(t=xe()),null!==(e=Ai(e,t))&&(Ne(e,t),Su(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),hu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,_u=!1,Cu=0;function Su(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd((function(){0!==(6&nc)?$(ie,wu):Nu()})))}function xu(e,t){if(!_u&&bu){_u=!0;do{for(var n=!1,i=gu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var o=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=r&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ku(i,a))}else a=ac,0===(3&(a=be(i,i===ic?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||_e(i,a)||(n=!0,ku(i,a));i=i.next}}while(n);_u=!1}}function wu(){Nu()}function Nu(){bu=yu=!1;var e=0;0!==Cu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=Cu),Cu=0);for(var t=te(),n=null,i=gu;null!==i;){var r=i.next,a=Iu(i,t);0===a?(i.next=null,null===n?gu=r:n.next=r,null===r&&(vu=n)):(n=i,(0!==e||0!==(3&a))&&(bu=!0)),i=r}xu(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-he(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=Ce(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&X(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&X(i),ze(n)){case 2:case 8:n=re;break;case 32:default:n=ae;break;case 268435456:n=se}return i=Eu.bind(null,e),n=$(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&X(i),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var i=ac;return 0===(i=be(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,i,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function ku(e,t){if(su())return null;Dc(e,t,!0)}function zu(){return 0===Cu&&(Cu=Se()),Cu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:zt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<Ci.length;Pu++){var ju=Ci[Pu];Si(ju.toLowerCase(),"on"+(ju[0].toUpperCase()+ju.slice(1)))}Si(hi,"onAnimationEnd"),Si(mi,"onAnimationIteration"),Si(fi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(gi,"onTransitionRun"),Si(vi,"onTransitionStart"),Si(yi,"onTransitionCancel"),Si(bi,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){vs(u)}r.currentTarget=null,a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){vs(u)}r.currentTarget=null,a=l}}}}function Du(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var i=e+"__bubble";n.has(i)||(qu(t,e,2,!1),n.add(i))}function Mu(e,t,n){var i=0;t&&(i|=4),qu(n,e,i,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Fu]){e[Fu]=!0,Ge.forEach((function(t){"selectionchange"!==t&&(Ru.has(t)||Mu(t,!1,e),Mu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Mu("selectionchange",!1,t))}}function qu(e,t,n,i){switch(cp(t)){case 2:var r=ip;break;case 8:r=rp;break;default:r=ap}n=r.bind(null,t,n,e),r=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Uu(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==s;){if(null===(o=qe(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=a=o;continue e}s=s.parentNode}}i=i.return}Lt((function(){var i=a,r=At(n),o=[];e:{var s=_i.get(e);if(void 0!==s){var c=Jt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case hi:case mi:case fi:c=sn;break;case bi:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=_n}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var m,f=i;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===h||null!=(g=Dt(f,h))&&d.push(Vu(f,g,m)),p)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,r),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[Oe])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?s:Ve(c),m=null==u?s:Ve(u),(s=new d(g,f+"leave",c,n,r)).target=p,s.relatedTarget=m,g=null,qe(r)===i&&((d=new d(h,f+"enter",u,n,r)).target=m,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(h=u,f=0,m=d=c;m;m=Wu(m))f++;for(m=0,g=h;g;g=Wu(g))m++;for(;0<f-m;)d=Wu(d),f--;for(;0<m-f;)h=Wu(h),m--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Wu(d),h=Wu(h)}d=null}else d=null;null!==c&&Gu(o,s,c,d,!1),null!==u&&null!==p&&Gu(o,p,u,d,!0)}if("select"===(c=(s=i?Ve(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Mn;else if(Pn(s))if(Fn)v=Zn;else{v=Gn;var y=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?i&&It(i.elementType)&&(v=Mn):v=Qn;switch(v&&(v=v(e,i))?jn(o,v,n,r):(y&&y(e,s,i),"focusout"===e&&i&&"number"===s.type&&null!=i.memoizedProps.value&&yt(s,"number",s.value)),y=i?Ve(i):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(ii=y,ri=i,ai=null);break;case"focusout":ai=ri=ii=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,si(o,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":si(o,n,r)}var b;if(Sn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Tn?kn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Nn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Tn&&(b=Ht()):(Ut="value"in(qt=r)?qt.value:qt.textContent,Tn=!0)),0<(y=Hu(i,_)).length&&(_=new cn(_,e,null,n,r),o.push({event:_,listeners:y}),b?_.data=b:null!==(b=zn(n))&&(_.data=b))),(b=wn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(En=!0,In);case"textInput":return(e=t.data)===In&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!Sn&&kn(e,t)?(e=Ht(),Vt=Ut=qt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=Hu(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),o.push({event:y,listeners:_}),y.data=b)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var a=Tu((r[je]||null).action),o=i.submitter;o&&null!==(t=(t=o[je]||null)?Tu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Jt("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Cu){var e=o?Au(r,o):new FormData(r);Ao(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Au(r,o):new FormData(r),Ao(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(o,e,i,n,r)}Lu(o,t)}))}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Dt(e,n))&&i.unshift(Vu(e,r,a)),null!=(r=Dt(e,t))&&i.push(Vu(e,r,a))),3===e.tag)return i;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===i)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=Dt(n,a))&&o.unshift(Vu(n,c,l)):r||null!=(c=Dt(n,a))&&o.push(Vu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qu=/\r\n?/g,Zu=/\u0000|\uFFFD/g;function Ku(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Zu,"")}function Yu(e,t){return t=Ku(t),Ku(e)===t}function $u(){}function Xu(e,t,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||St(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&St(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Nt(e,i,a);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=zt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Xu(e,t,"name",r.name,r,null),Xu(e,t,"formEncType",r.formEncType,r,null),Xu(e,t,"formMethod",r.formMethod,r,null),Xu(e,t,"formTarget",r.formTarget,r,null)):(Xu(e,t,"encType",r.encType,r,null),Xu(e,t,"method",r.method,r,null),Xu(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=zt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=$u);break;case"onScroll":null!=i&&Du("scroll",e);break;case"onScrollEnd":null!=i&&Du("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=zt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Du("beforetoggle",e),Du("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,i)}}function Ju(e,t,n,i,r,a){switch(n){case"style":Nt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof i?St(e,i):("number"===typeof i||"bigint"===typeof i)&&St(e,""+i);break;case"onScroll":null!=i&&Du("scroll",e);break;case"onScrollEnd":null!=i&&Du("scrollend",e);break;case"onClick":null!=i&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[je]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Du("error",e),Du("load",e);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,i,s,n,null)}}return a&&Xu(e,t,"srcSet",n.srcSet,n,null),void(r&&Xu(e,t,"src",n.src,n,null));case"input":Du("invalid",e);var l=i=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Xu(e,t,r,d,n,null)}}return vt(e,i,l,c,u,s,a,!1),void dt(e);case"select":for(a in Du("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:Xu(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=n&&bt(e,!!r,n,!0));case"textarea":for(s in Du("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Xu(e,t,s,l,n,null)}return Ct(e,r,a,i),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Xu(e,t,c,r,n,null);return;case"dialog":Du("beforetoggle",e),Du("toggle",e),Du("cancel",e),Du("close",e);break;case"iframe":case"object":Du("load",e);break;case"video":case"audio":for(r=0;r<Ou.length;r++)Du(Ou[r],e);break;case"image":Du("error",e),Du("load",e);break;case"details":Du("toggle",e);break;case"embed":case"source":case"link":Du("error",e),Du("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,u,r,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Ju(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Xu(e,t,l,r,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function md(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<i&&8>i){n=i;var o=e.ownerDocument;if(1&n&&Cd(o.documentElement),2&n&&Cd(o.body),4&n)for(Cd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===r)return e.removeChild(a),void Ep(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Ep(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Cd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Sd=new Map,xd=new Set;function wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=R.d;R.d={f:function(){var e=Nd.f(),t=qc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?jo(t):Nd.r(e)},D:function(e){Nd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var i=Id;if(i&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var a=r;switch(t){case"style":a=zd(e);break;case"script":a=Pd(e)}Sd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Td(a))||"script"===t&&i.querySelector(jd(a))||(ed(t=i.createElement("link"),"link",e),We(t),i.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=Id;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Pd(e)}if(!Sd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jd(a)))return}ed(i=n.createElement("link"),"link",e),We(i),n.head.appendChild(i)}}},X:function(e,t){Nd.X(e,t);var n=Id;if(n&&e){var i=He(n).hoistableScripts,r=Pd(e),a=i.get(r);a||((a=n.querySelector(jd(r)))||(e=p({src:e,async:!0},t),(t=Sd.get(r))&&Dd(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(e,t,n){Nd.S(e,t,n);var i=Id;if(i&&e){var r=He(i).hoistableStyles,a=zd(e);t=t||"default";var o=r.get(a);if(!o){var s={loading:0,preload:null};if(o=i.querySelector(Td(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&Ld(e,n);var l=o=i.createElement("link");We(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Rd(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:s},r.set(a,o)}}},M:function(e,t){Nd.M(e,t);var n=Id;if(n&&e){var i=He(n).hoistableScripts,r=Pd(e),a=i.get(r);a||((a=n.querySelector(jd(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=Sd.get(r))&&Dd(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Id="undefined"===typeof document?null:document;function Ed(e,t,n){var i=Id;if(i&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),xd.has(r)||(xd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(ed(t=i.createElement("link"),"link",e),We(t),i.head.appendChild(t)))}}function kd(e,t,n,i){var r,a,s,l,c=(c=H.current)?wd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=zd(n.href),(i=(n=He(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=zd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(r=c,a=e,s=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),ed(a,"link",s),We(a),r.head.appendChild(a))))),t&&null===i)throw Error(o(528,""));return d}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(i=(n=He(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function zd(e){return'href="'+ft(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+ft(e)+'"]'}function jd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,We(i),i;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",r),Rd(i,n.precedence,e),t.instance=i;case"stylesheet":r=zd(n.href);var a=e.querySelector(Td(r));if(a)return t.state.loading|=4,t.instance=a,We(a),a;i=Ad(n),(r=Sd.get(r))&&Ld(i,r),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",i),t.state.loading|=4,Rd(a,n.precedence,e),t.instance=a;case"script":return a=Pd(n.src),(r=e.querySelector(jd(a)))?(t.instance=r,We(r),r):(i=n,(r=Sd.get(a))&&Dd(i=p({},n),r),We(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Rd(i,n.precedence,e));return t.instance}function Rd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,o=0;o<i.length;o++){var s=i[o];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Fd(e,t,n){if(null===Md){var i=new Map,r=Md=new Map;r.set(n,i)}else(i=(r=Md).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Fe]||a[Pe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=i.get(o);s?s.push(a):i.set(o,[a])}}return i}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Qd,e),Wd=null,Hd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var i=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var o=r[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(r=t.instance).getAttribute("data-precedence"),(a=n.get(o)||i)===i&&n.set(null,r),n.set(o,r),this.count++,i=Hd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Zd={$$typeof:C,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Kd(e,t,n,i,r,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,i,r,a,o,s,l,c,u,d){return e=new Kd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Li(3,null,null,t),e.current=a,a.stateNode=e,(t=jr()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},na(a),e}function $d(e){return e?e=Oi:Oi}function Xd(e,t,n,i,r,a){r=$d(r),null===i.context?i.context=r:i.pendingContext=r,(i=ra(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=aa(e,i,t))&&(Lc(n,0,t),oa(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function tp(e){if(13===e.tag){var t=Ai(e,67108864);null!==t&&Lc(t,0,67108864),ep(e,67108864)}}var np=!0;function ip(e,t,n,i){var r=O.T;O.T=null;var a=R.p;try{R.p=2,ap(e,t,n,i)}finally{R.p=a,O.T=r}}function rp(e,t,n,i){var r=O.T;O.T=null;var a=R.p;try{R.p=8,ap(e,t,n,i)}finally{R.p=a,O.T=r}}function ap(e,t,n,i){if(np){var r=op(i);if(null===r)Uu(e,t,i,sp,n),yp(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return dp=bp(dp,e,t,n,i,r),!0;case"dragenter":return pp=bp(pp,e,t,n,i,r),!0;case"mouseover":return hp=bp(hp,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return mp.set(a,bp(mp.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,fp.set(a,bp(fp.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(yp(e,i),4&t&&-1<vp.indexOf(e)){for(;null!==r;){var a=Ue(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ye(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-he(o);s.entanglements[1]|=l,o&=~l}Su(a),0===(6&nc)&&(Sc=te()+500,xu(0,!1))}}break;case 13:null!==(s=Ai(a,2))&&Lc(s,0,2),qc(),ep(a,2)}if(null===(a=op(i))&&Uu(e,t,i,sp,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Uu(e,t,i,null,n)}}function op(e){return lp(e=At(e))}var sp=null;function lp(e){if(sp=null,null!==(e=qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var up=!1,dp=null,pp=null,hp=null,mp=new Map,fp=new Map,gp=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(t.pointerId)}}function bp(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function _p(e){var t=qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=ke(e);var t=Ai(n,e);null!==t&&Lc(t,0,e),ep(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Cp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=op(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tp(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Tt=i,n.target.dispatchEvent(i),Tt=null,t.shift()}return!0}function Sp(e,t,n){Cp(e)&&n.delete(t)}function xp(){up=!1,null!==dp&&Cp(dp)&&(dp=null),null!==pp&&Cp(pp)&&(pp=null),null!==hp&&Cp(hp)&&(hp=null),mp.forEach(Sp),fp.forEach(Sp)}function wp(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xp)))}var Np=null;function Ip(e){Np!==e&&(Np=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Np===e&&(Np=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===lp(i||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Ao(a,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Ep(e){function t(t){return wp(t,e)}null!==dp&&wp(dp,e),null!==pp&&wp(pp,e),null!==hp&&wp(hp,e),mp.forEach(t),fp.forEach(t);for(var n=0;n<gp.length;n++){var i=gp[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)_p(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],o=r[je]||null;if("function"===typeof a)o||Ip(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,o=a[je]||null)s=o.formAction;else if(null!==lp(r))continue}else s=o.action;"function"===typeof s?n[i+1]=s:(n.splice(i,3),i-=3),Ip(n)}}}function kp(e){this._internalRoot=e}function zp(e){this._internalRoot=e}zp.prototype.render=kp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xd(t.current,Oc(),e,t,null,null)},zp.prototype.unmount=kp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),qc(),t[Oe]=null}},zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&_p(e)}};var Tp=r.version;if("19.1.0"!==Tp)throw Error(o(527,Tp,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return u(r),e;if(a===i)return u(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=a;break}if(c===i){s=!0,i=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,i=r;break}if(c===i){s=!0,i=a,n=r;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ap={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{ue=Pp.inject(Ap),de=Pp}catch(Op){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,i="",r=ys,a=bs,l=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,i,r,a,l,0,null),e[Oe]=t.current,Bu(e),new kp(t)}},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},245:(e,t,n)=>{"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=u(n(173)),a=u(n(742)),o=u(n(612)),s=n(43),l=u(s),c=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},p=(0,s.forwardRef)((function(e,t){var n=e.bgColor,r=void 0===n?"#FFFFFF":n,s=e.fgColor,u=void 0===s?"#000000":s,d=e.level,p=void 0===d?"L":d,h=e.size,m=void 0===h?256:h,f=e.value,g=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new o.default(-1,a.default[p]);v.addData(f),v.make();var y=v.modules;return l.default.createElement(c.default,i({},g,{bgColor:r,bgD:y.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:u,fgD:y.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:m,viewBoxSize:y.length}))}));p.displayName="QRCode",p.propTypes=d,t.Ay=p},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,f(_,v.prototype),_.isPureReactComponent=!0;var C=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function w(e,t,i,r,a,o){return i=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(){}function z(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case p:return z((u=e._init)(e._payload),t,r,a,o)}}if(u)return o=o(e),u=""===a?"."+E(e,0):a,C(o)?(r="",null!=u&&(r=u.replace(I,"$&/")+"/"),z(o,t,r,"",(function(e){return e}))):null!=o&&(N(o)&&(l=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+u,o=w(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,m=""===a?".":a+":";if(C(e))for(var f=0;f<e.length;f++)u+=z(a=e[f],t,r,s=m+E(a,f),o);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=z(a=a.value,t,r,s=m+E(a,f++),o);else if("object"===s){if("function"===typeof e.then)return z(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var i=[],r=0;return z(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function j(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!x.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(i[a]=t[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];i.children=o}return w(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var i,r={},a=null;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return w(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var i=e(),r=S.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(j,P)}catch(a){P(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},343:(e,t,n)=>{var i=n(957);function r(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},392:(e,t,n)=>{var i=n(460);function r(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=i.gexp(i.glog(this.get(n))+i.glog(e.get(a)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=i.glog(this.get(0))-i.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(a=0;a<e.getLength();a++)n[a]^=i.gexp(i.glog(e.get(a))+t);return new r(n,0).mod(e)}},e.exports=r},436:(e,t,n)=>{var i=n(742);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=new Array,o=0;o<i;o++)for(var s=n[3*o+0],l=n[3*o+1],c=n[3*o+2],u=0;u<s;u++)a.push(new r(l,c));return a},r.getRsBlockTable=function(e,t){switch(t){case i.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case i.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case i.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case i.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},497:(e,t,n)=>{"use strict";var i=n(218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},612:(e,t,n)=>{var i=n(343),r=n(436),a=n(813),o=n(898),s=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new a,i=0,s=0;s<t.length;s++)i+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=o.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},c.createMovieClip=function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(i.beginFill(0,100),i.moveTo(s,a),i.lineTo(s+1,a),i.lineTo(s+1,a+1),i.lineTo(s,a+1),i.endFill())}return i},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[i+a][r+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},c.setupTypeNumber=function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=o.getBCHTypeInfo(n),r=0;r<15;r++){var a=!e&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++){a=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[i][s-l]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1)),o.getMask(t,i,s-l)&&(c=!c),this.modules[i][s-l]=c,-1==--r&&(a++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var i=r.getRSBlocks(e,t),s=new a,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),o.getLengthInBits(u.mode,e)),u.write(s)}var d=0;for(c=0;c<i.length;c++)d+=i[c].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,i)},l.createBytes=function(e,t){for(var n=0,i=0,r=0,a=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;i=Math.max(i,u),r=Math.max(r,d),a[c]=new Array(u);for(var p=0;p<a[c].length;p++)a[c][p]=255&e.buffer[p+n];n+=u;var h=o.getErrorCorrectPolynomial(d),m=new s(a[c],h.getLength()-1).mod(h);l[c]=new Array(h.getLength()-1);for(p=0;p<l[c].length;p++){var f=p+m.getLength()-l[c].length;l[c][p]=f>=0?m.get(f):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var v=new Array(g),y=0;for(p=0;p<i;p++)for(c=0;c<t.length;c++)p<a[c].length&&(v[y++]=a[c][p]);for(p=0;p<r;p++)for(c=0;c<t.length;c++)p<l[c].length&&(v[y++]=l[c][p]);return v},e.exports=l},672:(e,t,n)=>{"use strict";var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=s(n(173)),a=n(43),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,a.forwardRef)((function(e,t){var n=e.bgColor,r=e.bgD,a=e.fgD,s=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=e.xmlns,p=void 0===d?"http://www.w3.org/2000/svg":d,h=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",i({},h,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l,xmlns:p}),c?o.default.createElement("title",null,c):null,o.default.createElement("path",{d:r,fill:n}),o.default.createElement("path",{d:a,fill:s}))}));c.displayName="QRCodeSvg",c.propTypes=l,t.default=c},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in i={},t)"key"!==a&&(i[a]=t[a]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,m=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function S(e){if(g=!1,C(e),!f)if(null!==i(c))f=!0,w||(w=!0,x());else{var t=i(u);null!==t&&P(S,t.startTime-e)}}var x,w=!1,N=-1,I=5,E=-1;function k(){return!!v||!(t.unstable_now()-E<I)}function z(){if(v=!1,w){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(N),N=-1),m=!0;var a=h;try{t:{for(C(e),p=i(c);null!==p&&!(p.expirationTime>e&&k());){var o=p.callback;if("function"===typeof o){p.callback=null,h=p.priorityLevel;var s=o(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,C(e),n=!0;break t}p===i(c)&&r(c),C(e)}else r(c);p=i(c)}if(null!==p)n=!0;else{var l=i(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{p=null,h=a,m=!1}n=void 0}}finally{n?x():w=!1}}}if("function"===typeof _)x=function(){_(z)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=z,x=function(){A.postMessage(null)}}else x=function(){y(z,0)};function P(e,n){N=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(g?(b(N),N=-1):g=!0,P(S,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,w||(w=!0,x()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},898:(e,t,n)=>{var i=n(957),r=n(392),a=n(460),o=0,s=1,l=2,c=3,u=4,d=5,p=6,h=7,m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;m.getBCHDigit(t)-m.getBCHDigit(m.G15)>=0;)t^=m.G15<<m.getBCHDigit(t)-m.getBCHDigit(m.G15);return(e<<10|t)^m.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;m.getBCHDigit(t)-m.getBCHDigit(m.G18)>=0;)t^=m.G18<<m.getBCHDigit(t)-m.getBCHDigit(m.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return m.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case o:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,a.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var a=0,o=e.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==s&&0==l||o==e.isDark(i+s,r+l)&&a++;a>5&&(n+=3+a-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++){var c=0;e.isDark(i,r)&&c++,e.isDark(i+1,r)&&c++,e.isDark(i,r+1)&&c++,e.isDark(i+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=m},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),(()=>{"use strict";var e=n(43),t=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function a(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(Lt){return console.warn("Errore nel leggere dal localStorage:",Lt),t}},c=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(Lt){return console.warn("Errore nel salvare nel localStorage:",Lt),!1}},u=!1,d=!1,p="${JSCORE_VERSION}",h=function(e,t){if(!e)throw m(t)},m=function(e){return new Error("Firebase Database ("+p+") INTERNAL ASSERT FAILED: "+e)},f=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],a=r+1<e.length,o=a?e[r+1]:0,s=r+2<e.length,l=s?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,p=63&l;s||(p=64,a||(d=64)),i.push(n[c],n[u],n[d],n[p])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&a)}else if(r>239&&r<365){const a=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(a>>10)),t[i++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const s=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==a||null==o||null==s)throw new v;const l=t<<2|a>>4;if(i.push(l),64!==o){const e=a<<4&240|o>>2;if(i.push(e),64!==s){const e=o<<6&192|s;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(e){const t=f(e);return g.encodeByteArray(t,!0)},b=function(e){return y(e).replace(/\./g,"")},_=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function C(e){return S(void 0,e)}function S(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=S(e[n],t[n]));return e}const x=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return x()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ia-confronto",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&_(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},N=e=>{const t=(e=>{var t,n;return null===(n=null===(t=w())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},I=()=>{var e;return null===(e=w())||void 0===e?void 0:e.config};class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function T(){return!0===u||!0===d}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(j,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",a="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new A(n,a,t)}}const j=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function R(e){return JSON.stringify(e)}const L=function(e){let t={},n={},i={},r="";try{const a=e.split(".");t=O(_(a[0])||""),n=O(_(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:i,signature:r}};function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function F(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function q(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],a=t[r];if(U(n)&&U(a)){if(!q(n,a))return!1}else if(n!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function U(e){return null!==e&&"object"===typeof e}class V{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,a=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^o&(s^l),r=1518500249):(i=o^s^l,r=1859775393):u<60?(i=o&s|l&(o|s),r=2400959708):(i=o^s^l,r=3395469782);const e=(a<<5|a>>>27)+i+c+r+n[u]&4294967295;c=l,l=s,s=4294967295&(o<<30|o>>>2),o=a,a=e}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let a=this.inbuf_;for(;i<t;){if(0===a)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(r),a=0;break}}else for(;i<t;)if(r[a]=e[i],++a,++i,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function H(e,t){return"".concat(e," failed: ").concat(t," argument ")}const W=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function G(e){return e&&e._delegate?e._delegate:e}class Q{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Z="[DEFAULT]";class K{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new E;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===Z?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.component?this.component.multipleInstances?e:Z:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $=[];var X;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(X||(X={}));const J={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ee=X.INFO,te={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ne=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=te[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...a)};class ie{constructor(e){this.name=e,this._logLevel=ee,this._logHandler=ne,this._userLogHandler=null,$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?J[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...t),this._logHandler(this,X.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...t),this._logHandler(this,X.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,X.INFO,...t),this._logHandler(this,X.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,X.WARN,...t),this._logHandler(this,X.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,X.ERROR,...t),this._logHandler(this,X.ERROR,...t)}}let re,ae;const oe=new WeakMap,se=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap;let de={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return se.get(e);if("objectStoreNames"===t)return e.objectStoreNames||le.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return me(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(fe(this),n),me(oe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return me(e.apply(fe(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const a=e.call(fe(this),t,...i);return le.set(a,t.sort?t.sort():[t]),me(a)}}function he(e){return"function"===typeof e?pe(e):(e instanceof IDBTransaction&&function(e){if(se.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)}));se.set(e,t)}(e),t=e,(re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,de):e);var t}function me(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(me(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&oe.set(t,e)})).catch((()=>{})),ue.set(t,e),t}(e);if(ce.has(e))return ce.get(e);const t=he(e);return t!==e&&(ce.set(e,t),ue.set(t,e)),t}const fe=e=>ue.get(e);const ge=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],ye=new Map;function be(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ye.get(t))return ye.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=ve.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ge.includes(n))return;const a=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return i&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),r&&t.done]))[0]};return ye.set(t,a),a}de=(e=>s(s({},e),{},{get:(t,n,i)=>be(t,n)||e.get(t,n,i),has:(t,n)=>!!be(t,n)||e.has(t,n)}))(de);class _e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ce="@firebase/app",Se="0.10.13",xe=new ie("@firebase/app"),we="@firebase/app-compat",Ne="@firebase/analytics-compat",Ie="@firebase/analytics",Ee="@firebase/app-check-compat",ke="@firebase/app-check",ze="@firebase/auth",Te="@firebase/auth-compat",Ae="@firebase/database",Pe="@firebase/data-connect",je="@firebase/database-compat",Oe="@firebase/functions",Re="@firebase/functions-compat",Le="@firebase/installations",De="@firebase/installations-compat",Me="@firebase/messaging",Fe="@firebase/messaging-compat",Be="@firebase/performance",qe="@firebase/performance-compat",Ue="@firebase/remote-config",Ve="@firebase/remote-config-compat",He="@firebase/storage",We="@firebase/storage-compat",Ge="@firebase/firestore",Qe="@firebase/vertexai-preview",Ze="@firebase/firestore-compat",Ke="firebase",Ye="[DEFAULT]",$e={[Ce]:"fire-core",[we]:"fire-core-compat",[Ie]:"fire-analytics",[Ne]:"fire-analytics-compat",[ke]:"fire-app-check",[Ee]:"fire-app-check-compat",[ze]:"fire-auth",[Te]:"fire-auth-compat",[Ae]:"fire-rtdb",[Pe]:"fire-data-connect",[je]:"fire-rtdb-compat",[Oe]:"fire-fn",[Re]:"fire-fn-compat",[Le]:"fire-iid",[De]:"fire-iid-compat",[Me]:"fire-fcm",[Fe]:"fire-fcm-compat",[Be]:"fire-perf",[qe]:"fire-perf-compat",[Ue]:"fire-rc",[Ve]:"fire-rc-compat",[He]:"fire-gcs",[We]:"fire-gcs-compat",[Ge]:"fire-fst",[Ze]:"fire-fst-compat",[Qe]:"fire-vertex","fire-js":"fire-js",[Ke]:"fire-js-all"},Xe=new Map,Je=new Map,et=new Map;function tt(e,t){try{e.container.addComponent(t)}catch(n){xe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function nt(e){const t=e.name;if(et.has(t))return xe.debug("There were multiple attempts to register component ".concat(t,".")),!1;et.set(t,e);for(const n of Xe.values())tt(n,e);for(const n of Je.values())tt(n,e);return!0}function it(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const rt=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class at{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Q("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}function ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw rt.create("bad-app-name",{appName:String(r)});if(n||(n=I()),!n)throw rt.create("no-options");const a=Xe.get(r);if(a){if(q(n,a.options)&&q(i,a.config))return a;throw rt.create("duplicate-app",{appName:r})}const o=new Y(r);for(const l of et.values())o.addComponent(l);const s=new at(n,i,o);return Xe.set(r,s),s}function st(e,t,n){var i;let r=null!==(i=$e[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xe.warn(e.join(" "))}nt(new Q("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const lt="firebase-heartbeat-store";let ct=null;function ut(){return ct||(ct=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=me(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(me(o.result),e.oldVersion,e.newVersion,me(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lt)}catch(n){console.warn(n)}}}).catch((e=>{throw rt.create("idb-open",{originalErrorMessage:e.message})}))),ct}async function dt(e,t){try{const n=(await ut()).transaction(lt,"readwrite"),i=n.objectStore(lt);await i.put(t,pt(e)),await n.done}catch(n){if(n instanceof A)xe.warn(n.message);else{const e=rt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xe.warn(e.message)}}}function pt(e){return"".concat(e.name,"!").concat(e.options.appId)}class ht{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ft(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){xe.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=mt(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),gt(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),gt(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=b(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return xe.warn(t),""}}}function mt(){return(new Date).toISOString().substring(0,10)}class ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(Lt){t(Lt)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ut()).transaction(lt),n=await t.objectStore(lt).get(pt(e));return await t.done,n}catch(t){if(t instanceof A)xe.warn(t.message);else{const e=rt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function gt(e){return b(JSON.stringify({version:2,heartbeats:e})).length}var vt;vt="",nt(new Q("platform-logger",(e=>new _e(e)),"PRIVATE")),nt(new Q("heartbeat",(e=>new ht(e)),"PRIVATE")),st(Ce,Se,vt),st(Ce,Se,"esm2017"),st("fire-js","");st("firebase","10.14.1","app");const yt="@firebase/database",bt="1.0.8";let _t="";function Ct(e){_t=e}class St{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),R(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:O(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return D(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const wt=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new St(t)}}catch(t){}return new xt},Nt=wt("localStorage"),It=wt("sessionStorage"),Et=new ie("@firebase/database"),kt=function(){let e=1;return function(){return e++}}(),zt=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,h(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new V;n.update(t);const i=n.digest();return g.encodeByteArray(i)},Tt=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Tt.apply(null,n):e+="object"===typeof n?R(n):n,e+=" "}return e};let At=null,Pt=!0;const jt=function(e,t){h(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Et.logLevel=X.VERBOSE,At=Et.log.bind(Et),t&&It.set("logging_enabled",!0)):"function"===typeof e?At=e:(At=null,It.remove("logging_enabled"))},Ot=function(){if(!0===Pt&&(Pt=!1,null===At&&!0===It.get("logging_enabled")&&jt(!0)),At){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Tt.apply(null,t);At(i)}},Rt=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ot(e,...n)}},Lt=function(){const e="FIREBASE INTERNAL ERROR: "+Tt(...arguments);Et.error(e)},Dt=function(){const e="FIREBASE FATAL ERROR: ".concat(Tt(...arguments));throw Et.error(e),new Error(e)},Mt=function(){const e="FIREBASE WARNING: "+Tt(...arguments);Et.warn(e)},Ft=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Bt="[MIN_NAME]",qt="[MAX_NAME]",Ut=function(e,t){if(e===t)return 0;if(e===Bt||t===qt)return-1;if(t===Bt||e===qt)return 1;{const n=Yt(e),i=Yt(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},Vt=function(e,t){return e===t?0:e<t?-1:1},Ht=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+R(t))},Wt=function(e){if("object"!==typeof e||null===e)return R(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=R(t[i]),n+=":",n+=Wt(e[t[i]]);return n+="}",n},Gt=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Qt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Zt=function(e){h(!Ft(e),"Invalid JSON number");const t=1023;let n,i,r,a,o;0===e?(i=0,r=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=a+t,r=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Kt=new RegExp("^-?(0*)\\d{1,10}$"),Yt=function(e){if(Kt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$t=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Mt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Xt=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Jt{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Mt('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class en{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(e)}}class tn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tn.OWNER="owner";const nn="5",rn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,an="ac",on="websocket",sn="long_polling";class ln{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function cn(e,t,n){let i;if(h("string"===typeof t,"typeof type must == string"),h("object"===typeof n,"typeof params must == object"),t===on)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==sn)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return Qt(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}class un{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;D(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return C(this.counters_)}}const dn={},pn={};function hn(e){const t=e.toString();return dn[t]||(dn[t]=new un),dn[t]}class mn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&$t((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const fn="start";class gn{constructor(e,t,n,i,r,a,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rt(e),this.stats_=hn(t),this.urlFn=e=>(this.appCheckToken&&(e[an]=this.appCheckToken),cn(t,sn,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new mn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(T()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new vn((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,a,o,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===fn)n.id=a,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,a]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,a)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[fn]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=nn,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[an]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&rn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gn.forceAllow_=!0}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){return!T()&&(!!gn.forceAllow_||!gn.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=y(t),i=Gt(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(T())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=R(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class vn{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,T())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=vn.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){Ot("frame writing exception"),r.stack&&Ot(r.stack),Ot(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ot("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){T()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let yn=null;"undefined"!==typeof MozWebSocket?yn=MozWebSocket:"undefined"!==typeof WebSocket&&(yn=WebSocket);class bn{constructor(e,t,n,i,r,a,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rt(this.connId),this.stats_=hn(t),this.connURL=bn.connectionURL_(t,a,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const a={};return a.v=nn,!T()&&"undefined"!==typeof location&&location.hostname&&rn.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),i&&(a[an]=i),r&&(a.p=r),cn(e,on,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nt.set("previous_websocket_failure",!0);try{let e;if(T()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(nn,"/").concat(_t,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/ia-confronto",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new yn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){bn.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==yn&&!bn.forceDisallow_}static previouslyFailed(){return Nt.isInMemoryStorage||!0===Nt.get("previous_websocket_failure")}markConnectionHealthy(){Nt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=O(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(h(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Gt(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bn.responsesRequiredToBeHealthy=2,bn.healthyTimeout=3e4;class _n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gn,bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=bn&&bn.isAvailable();let n=t&&!bn.previouslyFailed();if(e.webSocketOnly&&(t||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[bn];else{const e=this.transports_=[];for(const t of _n.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);_n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_n.globalTransportInitialized_=!1;class Cn{constructor(e,t,n,i,r,a,o,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rt("c:"+this.id+":"),this.transportManager_=new _n(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xt((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ht("t",e),n=Ht("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ht("t",e),n=Ht("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ht("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Lt("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lt("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),nn!==n&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Xt((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xt((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Sn{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class xn{constructor(e){this.allowedEvents_=e,this.listeners_={},h(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){h(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class wn extends xn{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||z()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new wn}getInitialEvent(e){return h("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function In(){return new Nn("")}function En(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kn(e){return e.pieces_.length-e.pieceNum_}function zn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Nn(e.pieces_,t)}function Tn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function An(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Pn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Nn(t,0)}function jn(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Nn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Nn(n,0)}function On(e){return e.pieceNum_>=e.pieces_.length}function Rn(e,t){const n=En(e),i=En(t);if(null===n)return t;if(n===i)return Rn(zn(e),zn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ln(e,t){const n=An(e,0),i=An(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=Ut(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function Dn(e,t){if(kn(e)!==kn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Mn(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(kn(e)>kn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Fn{constructor(e,t){this.errorPrefix_=t,this.parts_=An(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=W(this.parts_[n]);Bn(this)}}function Bn(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qn(e))}function qn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Un extends xn{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Un}getInitialEvent(e){return h("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vn=1e3;class Hn extends Sn{constructor(e,t,n,i,r,a,o,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=s,this.id=Hn.nextPersistentConnectionId_++,this.log_=Rt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!T())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Un.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(R(r)),h(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new E,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),h(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),h(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(a).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const a=r.d,o=r.s;Hn.warnOnListenWarnings_(a,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,a))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&D(e,"w")){const n=M(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Mt("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=L(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),h(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const a={p:t,d:n};void 0!==r&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+R(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Lt("Unrecognized action received from server: "+R(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){h(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Hn.nextConnectionId_++,r=this.lastSessionId;let a=!1,o=null;const s=function(){o?o.close():(a=!0,n())},l=function(e){h(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,o=new Cn(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Mt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(Lt){this.log_("Failed to get token: "+Lt),a||(this.repoInfo_.nodeAdmin&&Mt(Lt),s())}}}interrupt(e){Ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],F(this.interruptReasons_)&&(this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Wt(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new Nn(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){Ot("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ot("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";T()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+_t.replace(/\./g,"-")]=1,z()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wn.getInstance().currentlyOnline();return F(this.interruptReasons_)&&e}}Hn.nextPersistentConnectionId_=0,Hn.nextConnectionId_=0;class Wn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Wn(e,t)}}class Gn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Wn(Bt,e),i=new Wn(Bt,t);return 0!==this.compare(n,i)}minPost(){return Wn.MIN}}let Qn;class Zn extends Gn{static get __EMPTY_NODE(){return Qn}static set __EMPTY_NODE(e){Qn=e}compare(e,t){return Ut(e.name,t.name)}isDefinedOn(e){throw m("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Wn.MIN}maxPost(){return new Wn(qt,Qn)}makePost(e,t){return h("string"===typeof e,"KeyIndex indexValue must always be a string."),new Wn(e,Qn)}toString(){return".key"}}const Kn=new Zn;class Yn{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,i&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $n{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:$n.RED,this.left=null!=i?i:Xn.EMPTY_NODE,this.right=null!=r?r:Xn.EMPTY_NODE}copy(e,t,n,i,r){return new $n(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xn.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Xn.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$n.RED=!0,$n.BLACK=!1;class Xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Xn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$n.BLACK,null,null))}remove(e){return new Xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$n.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yn(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Yn(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Yn(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Yn(this.root_,null,this.comparator_,!0,e)}}function Jn(e,t){return Ut(e.name,t.name)}function ei(e,t){return Ut(e,t)}let ti;Xn.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new $n(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ni=function(e){return"number"===typeof e?"number:"+Zt(e):"string:"+e},ii=function(e){if(e.isLeafNode()){const t=e.val();h("string"===typeof t||"number"===typeof t||"object"===typeof t&&D(t,".sv"),"Priority must be a string or number.")}else h(e===ti||e.isEmpty(),"priority of unexpected type.");h(e===ti||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ri,ai,oi;class si{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,h(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ii(this.priorityNode_)}static set __childrenNodeConstructor(e){ri=e}static get __childrenNodeConstructor(){return ri}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new si(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return On(e)?this:".priority"===En(e)?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:si.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=En(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(h(".priority"!==n||1===kn(e),".priority must be the last token in a path"),this.updateImmediateChild(n,si.__childrenNodeConstructor.EMPTY_NODE.updateChild(zn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ni(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Zt(this.value_):this.value_,this.lazyHash_=zt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===si.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof si.__childrenNodeConstructor?-1:(h(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=si.VALUE_TYPE_ORDER.indexOf(t),r=si.VALUE_TYPE_ORDER.indexOf(n);return h(i>=0,"Unknown leaf type: "+t),h(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}si.VALUE_TYPE_ORDER=["object","boolean","number","string"];const li=new class extends Gn{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?Ut(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Wn.MIN}maxPost(){return new Wn(qt,new si("[PRIORITY-POST]",oi))}makePost(e,t){const n=ai(e);return new Wn(t,new si("[PRIORITY-POST]",n))}toString(){return".priority"}},ci=Math.log(2);class ui{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ci,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const di=function(e,t,n,i){e.sort(t);const r=function(t,i){const a=i-t;let o,s;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new $n(s,o.node,$n.BLACK,null,null);{const l=parseInt(a/2,10)+t,c=r(t,l),u=r(l+1,i);return o=e[l],s=n?n(o):o,new $n(s,o.node,$n.BLACK,c,u)}},a=function(t){let i=null,a=null,o=e.length;const s=function(t,i){const a=o-t,s=o;o-=t;const c=r(a+1,s),u=e[a],d=n?n(u):u;l(new $n(d,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(a=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?s(i,$n.BLACK):(s(i,$n.BLACK),s(i,$n.RED))}return a}(new ui(e.length));return new Xn(i||t,a)};let pi;const hi={};class mi{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return h(hi&&li,"ChildrenNode.ts has not been loaded"),pi=pi||new mi({".priority":hi},{".priority":li}),pi}get(e){const t=M(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xn?t:null}hasIndex(e){return D(this.indexSet_,e.toString())}addIndex(e,t){h(e!==Kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(Wn.Wrap);let a,o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=r.getNext();a=i?di(n,e.getCompare()):hi;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const c=Object.assign({},this.indexes_);return c[s]=a,new mi(c,l)}addToIndexes(e,t){const n=B(this.indexes_,((n,i)=>{const r=M(this.indexSet_,i);if(h(r,"Missing index implementation for "+i),n===hi){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(Wn.Wrap);let a=i.getNext();for(;a;)a.name!==e.name&&n.push(a),a=i.getNext();return n.push(e),di(n,r.getCompare())}return hi}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new Wn(e.name,i))),r.insert(e,e.node)}}));return new mi(n,this.indexSet_)}removeFromIndexes(e,t){const n=B(this.indexes_,(n=>{if(n===hi)return n;{const i=t.get(e.name);return i?n.remove(new Wn(e.name,i)):n}}));return new mi(n,this.indexSet_)}}let fi;class gi{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ii(this.priorityNode_),this.children_.isEmpty()&&h(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fi||(fi=new gi(new Xn(ei),null,mi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fi}updatePriority(e){return this.children_.isEmpty()?this:new gi(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?fi:t}}getChild(e){const t=En(e);return null===t?this:this.getImmediateChild(t).getChild(zn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(h(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Wn(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const a=i.isEmpty()?fi:this.priorityNode_;return new gi(i,a,r)}}updateChild(e,t){const n=En(e);if(null===n)return t;{h(".priority"!==En(e)||1===kn(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(zn(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(li,((a,o)=>{t[a]=o.val(e),n++,r&&gi.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ni(this.getPriority().val())+":"),this.forEachChild(li,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":zt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Wn(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Wn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Wn(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Wn.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Wn.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vi?-1:0}withIndex(e){if(e===Kn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new gi(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Kn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(li),n=t.getIterator(li);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Kn?null:this.indexMap_.get(e.toString())}}gi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const vi=new class extends gi{constructor(){super(new Xn(ei),gi.EMPTY_NODE,mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return gi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Wn,{MIN:{value:new Wn(Bt,gi.EMPTY_NODE)},MAX:{value:new Wn(qt,vi)}}),Zn.__EMPTY_NODE=gi.EMPTY_NODE,si.__childrenNodeConstructor=gi,ti=vi,function(e){oi=e}(vi);function yi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return gi.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),h(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new si(e,yi(t))}if(e instanceof Array){let n=gi.EMPTY_NODE;return Qt(e,((t,i)=>{if(D(e,t)&&"."!==t.substring(0,1)){const e=yi(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(yi(t))}{const n=[];let i=!1;if(Qt(e,((e,t)=>{if("."!==e.substring(0,1)){const r=yi(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Wn(e,r)))}})),0===n.length)return gi.EMPTY_NODE;const r=di(n,Jn,(e=>e.name),ei);if(i){const e=di(n,li.getCompare());return new gi(r,yi(t),new mi({".priority":e},{".priority":li}))}return new gi(r,yi(t),mi.Default)}}!function(e){ai=e}(yi);class bi extends Gn{constructor(e){super(),this.indexPath_=e,h(!On(e)&&".priority"!==En(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?Ut(e.name,t.name):r}makePost(e,t){const n=yi(e),i=gi.EMPTY_NODE.updateChild(this.indexPath_,n);return new Wn(t,i)}maxPost(){const e=gi.EMPTY_NODE.updateChild(this.indexPath_,vi);return new Wn(qt,e)}toString(){return An(this.indexPath_,0).join("/")}}const _i=new class extends Gn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ut(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Wn.MIN}maxPost(){return Wn.MAX}makePost(e,t){const n=yi(e);return new Wn(t,n)}toString(){return".value"}};function Ci(e){return{type:"value",snapshotNode:e}}function Si(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wi(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Ni{constructor(e){this.index_=e}updateChild(e,t,n,i,r,a){h(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(xi(t,o)):h(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Si(t,n)):a.trackChildChange(wi(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(li,((e,i)=>{t.hasChild(e)||n.trackChildChange(xi(e,i))})),t.isLeafNode()||t.forEachChild(li,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(wi(t,i,r))}else n.trackChildChange(Si(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?gi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ii{constructor(e){this.indexedFilter_=new Ni(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ii.getStartPost_(e),this.endPost_=Ii.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,a){return this.matches(new Wn(t,n))||(n=gi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,a)}updateFullNode(e,t,n){t.isLeafNode()&&(t=gi.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(gi.EMPTY_NODE);const r=this;return t.forEachChild(li,((e,t)=>{r.matches(new Wn(e,t))||(i=i.updateImmediateChild(e,gi.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ei{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ii(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,a){return this.rangedFilter_.matches(new Wn(t,n))||(n=gi.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,a):this.fullLimitUpdateChild_(e,t,n,r,a)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=gi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=gi.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(gi.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,gi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let a;if(this.reverse_){const e=this.index_.getCompare();a=(t,n)=>e(n,t)}else a=this.index_.getCompare();const o=e;h(o.numChildren()===this.limit_,"");const s=new Wn(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:a(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=r&&r.trackChildChange(wi(t,n,e)),o.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(xi(t,e));const n=o.updateImmediateChild(t,gi.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(Si(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=r&&(r.trackChildChange(xi(l.name,l.node)),r.trackChildChange(Si(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,gi.EMPTY_NODE)):e}}class ki{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return h(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return h(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bt}hasEnd(){return this.endSet_}getIndexEndValue(){return h(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return h(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return h(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===li}copy(){const e=new ki;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zi(e){const t={};if(e.isDefault())return t;let n;if(e.index_===li?n="$priority":e.index_===_i?n="$value":e.index_===Kn?n="$key":(h(e.index_ instanceof bi,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=R(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=R(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+R(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=R(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+R(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ti(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==li&&(t.i=e.index_.toString()),t}class Ai extends Sn{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Rt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(h(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=Ai.getListenId_(e,n),o={};this.listens_[a]=o;const s=zi(e._queryParams);this.restRequest_(r+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(r,s,!1,n),M(this.listens_,a)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=Ai.getListenId_(e,t);delete this.listens_[n]}get(e){const t=zi(e._queryParams),n=e._path.toString(),i=new E;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((i=>{let[r,a]=i;r&&r.accessToken&&(t.auth=r.accessToken),a&&a.token&&(t.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=O(s.responseText)}catch(e){Mt("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Mt("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}class Pi{constructor(){this.rootNode_=gi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ji(){return{value:null,children:new Map}}function Oi(e,t,n){if(On(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=En(t);e.children.has(i)||e.children.set(i,ji());Oi(e.children.get(i),t=zn(t),n)}}function Ri(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{Ri(i,new Nn(t.toString()+"/"+e),n)}))}class Li{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Qt(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Di{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Li(e);const n=1e4+2e4*Math.random();Xt(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Qt(e,((e,i)=>{i>0&&D(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),Xt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mi;function Fi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mi||(Mi={}));class Bi{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return h(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Nn(e));return new Bi(In(),t,this.revert)}}return h(En(this.path)===e,"operationForChild called for unrelated child."),new Bi(zn(this.path),this.affectedTree,this.revert)}}class qi{constructor(e,t){this.source=e,this.path=t,this.type=Mi.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new qi(this.source,In()):new qi(this.source,zn(this.path))}}class Ui{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mi.OVERWRITE}operationForChild(e){return On(this.path)?new Ui(this.source,In(),this.snap.getImmediateChild(e)):new Ui(this.source,zn(this.path),this.snap)}}class Vi{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mi.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new Nn(e));return t.isEmpty()?null:t.value?new Ui(this.source,In(),t.value):new Vi(this.source,In(),t)}return h(En(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vi(this.source,zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hi{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=En(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Wi{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gi(e,t,n,i,r,a){const o=i.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw m("Should only compare child_ events.");const i=new Wn(t.childName,t.snapshotNode),r=new Wn(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n))),o.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function Qi(e,t){return{eventCache:e,serverCache:t}}function Zi(e,t,n,i){return Qi(new Hi(t,n,i),e.serverCache)}function Ki(e,t,n,i){return Qi(e.eventCache,new Hi(t,n,i))}function Yi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $i(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Xi;class Ji{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Xi||(Xi=new Xn(Vt)),Xi);this.value=e,this.children=t}static fromObject(e){let t=new Ji(null);return Qt(e,((e,n)=>{t=t.set(new Nn(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:In(),value:this.value};if(On(e))return null;{const n=En(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(zn(e),t);if(null!=r){return{path:jn(new Nn(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(On(e))return this;{const t=En(e),n=this.children.get(t);return null!==n?n.subtree(zn(e)):new Ji(null)}}set(e,t){if(On(e))return new Ji(t,this.children);{const n=En(e),i=(this.children.get(n)||new Ji(null)).set(zn(e),t),r=this.children.insert(n,i);return new Ji(this.value,r)}}remove(e){if(On(e))return this.children.isEmpty()?new Ji(null):new Ji(null,this.children);{const t=En(e),n=this.children.get(t);if(n){const i=n.remove(zn(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Ji(null):new Ji(this.value,r)}return this}}get(e){if(On(e))return this.value;{const t=En(e),n=this.children.get(t);return n?n.get(zn(e)):null}}setTree(e,t){if(On(e))return t;{const n=En(e),i=(this.children.get(n)||new Ji(null)).setTree(zn(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Ji(this.value,r)}}fold(e){return this.fold_(In(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(jn(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,In(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(On(e))return null;{const i=En(e),r=this.children.get(i);return r?r.findOnPath_(zn(e),jn(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,In(),t)}foreachOnPath_(e,t,n){if(On(e))return this;{this.value&&n(t,this.value);const i=En(e),r=this.children.get(i);return r?r.foreachOnPath_(zn(e),jn(t,i),n):new Ji(null)}}foreach(e){this.foreach_(In(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(jn(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class er{constructor(e){this.writeTree_=e}static empty(){return new er(new Ji(null))}}function tr(e,t,n){if(On(t))return new er(new Ji(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let a=i.value;const o=Rn(r,t);return a=a.updateChild(o,n),new er(e.writeTree_.set(r,a))}{const i=new Ji(n),r=e.writeTree_.setTree(t,i);return new er(r)}}}function nr(e,t,n){let i=e;return Qt(n,((e,n)=>{i=tr(i,jn(t,e),n)})),i}function ir(e,t){if(On(t))return er.empty();{const n=e.writeTree_.setTree(t,new Ji(null));return new er(n)}}function rr(e,t){return null!=ar(e,t)}function ar(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Rn(n.path,t)):null}function or(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(li,((e,n)=>{t.push(new Wn(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Wn(e,n.value))})),t}function sr(e,t){if(On(t))return e;{const n=ar(e,t);return new er(null!=n?new Ji(n):e.writeTree_.subtree(t))}}function lr(e){return e.writeTree_.isEmpty()}function cr(e,t){return ur(In(),e.writeTree_,t)}function ur(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(h(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=ur(jn(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(jn(e,".priority"),i)),n}}function dr(e,t){return wr(t,e)}function pr(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));h(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,a=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&hr(t,i.path)?r=!1:Mn(i.path,t.path)&&(a=!0)),o--}if(r){if(a)return function(e){e.visibleWrites=fr(e.allWrites,mr,In()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=ir(e.visibleWrites,i.path);else{Qt(i.children,(t=>{e.visibleWrites=ir(e.visibleWrites,jn(i.path,t))}))}return!0}return!1}function hr(e,t){if(e.snap)return Mn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Mn(jn(e.path,n),t))return!0;return!1}function mr(e){return e.visible}function fr(e,t,n){let i=er.empty();for(let r=0;r<e.length;++r){const a=e[r];if(t(a)){const e=a.path;let t;if(a.snap)Mn(n,e)?(t=Rn(n,e),i=tr(i,t,a.snap)):Mn(e,n)&&(t=Rn(e,n),i=tr(i,In(),a.snap.getChild(t)));else{if(!a.children)throw m("WriteRecord should have .snap or .children");if(Mn(n,e))t=Rn(n,e),i=nr(i,t,a.children);else if(Mn(e,n))if(t=Rn(e,n),On(t))i=nr(i,In(),a.children);else{const e=M(a.children,En(t));if(e){const n=e.getChild(zn(t));i=tr(i,In(),n)}}}}}return i}function gr(e,t,n,i,r){if(i||r){const a=sr(e.visibleWrites,t);if(!r&&lr(a))return n;if(r||null!=n||rr(a,In())){const a=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(Mn(e.path,t)||Mn(t,e.path))};return cr(fr(e.allWrites,a,t),n||gi.EMPTY_NODE)}return null}{const i=ar(e.visibleWrites,t);if(null!=i)return i;{const i=sr(e.visibleWrites,t);if(lr(i))return n;if(null!=n||rr(i,In())){return cr(i,n||gi.EMPTY_NODE)}return null}}}function vr(e,t,n,i){return gr(e.writeTree,e.treePath,t,n,i)}function yr(e,t){return function(e,t,n){let i=gi.EMPTY_NODE;const r=ar(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(li,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=sr(e.visibleWrites,t);return n.forEachChild(li,((e,t)=>{const n=cr(sr(r,new Nn(e)),t);i=i.updateImmediateChild(e,n)})),or(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return or(sr(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function br(e,t,n,i){return function(e,t,n,i,r){h(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=jn(t,n);if(rr(e.visibleWrites,a))return null;{const t=sr(e.visibleWrites,a);return lr(t)?r.getChild(n):cr(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function _r(e,t){return function(e,t){return ar(e.visibleWrites,t)}(e.writeTree,jn(e.treePath,t))}function Cr(e,t,n,i,r,a){return function(e,t,n,i,r,a,o){let s;const l=sr(e.visibleWrites,t),c=ar(l,In());if(null!=c)s=c;else{if(null==n)return[];s=cr(l,n)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=o.getCompare(),n=a?s.getReverseIteratorFrom(i,o):s.getIteratorFrom(i,o);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,a)}function Sr(e,t,n){return function(e,t,n,i){const r=jn(t,n),a=ar(e.visibleWrites,r);if(null!=a)return a;if(i.isCompleteForChild(n))return cr(sr(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function xr(e,t){return wr(jn(e.treePath,t),e.writeTree)}function wr(e,t){return{treePath:e,writeTree:t}}class Nr{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;h("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),h(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,wi(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,xi(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Si(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw m("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,wi(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ir=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Er{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sr(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$i(this.viewCache_),r=Cr(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}function kr(e,t,n,i,r){const a=new Nr;let o,s;if(n.type===Mi.OVERWRITE){const l=n;l.source.fromUser?o=Ar(e,t,l.path,l.snap,i,r,a):(h(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!On(l.path),o=Tr(e,t,l.path,l.snap,i,r,s,a))}else if(n.type===Mi.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,i,r,a,o){let s=t;return i.foreach(((i,l)=>{const c=jn(n,i);Pr(t,En(c))&&(s=Ar(e,s,c,l,r,a,o))})),i.foreach(((i,l)=>{const c=jn(n,i);Pr(t,En(c))||(s=Ar(e,s,c,l,r,a,o))})),s}(e,t,l.path,l.children,i,r,a):(h(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),o=Or(e,t,l.path,l.children,i,r,s,a))}else if(n.type===Mi.ACK_USER_WRITE){const s=n;o=s.revert?function(e,t,n,i,r,a){let o;if(null!=_r(i,n))return t;{const s=new Er(i,t,r),l=t.eventCache.getNode();let c;if(On(n)||".priority"===En(n)){let n;if(t.serverCache.isFullyInitialized())n=vr(i,$i(t));else{const e=t.serverCache.getNode();h(e instanceof gi,"serverChildren would be complete if leaf node"),n=yr(i,e)}c=e.filter.updateFullNode(l,n,a)}else{const r=En(n);let u=Sr(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,zn(n),s,a):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,gi.EMPTY_NODE,zn(n),s,a):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=vr(i,$i(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,a)))}return o=t.serverCache.isFullyInitialized()||null!=_r(i,In()),Zi(t,c,o,e.filter.filtersNodes())}}(e,t,s.path,i,r,a):function(e,t,n,i,r,a,o){if(null!=_r(r,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(On(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Tr(e,t,n,l.getNode().getChild(n),r,a,s,o);if(On(n)){let i=new Ji(null);return l.getNode().forEachChild(Kn,((e,t)=>{i=i.set(new Nn(e),t)})),Or(e,t,n,i,r,a,s,o)}return t}{let c=new Ji(null);return i.foreach(((e,t)=>{const i=jn(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),Or(e,t,n,c,r,a,s,o)}}(e,t,s.path,s.affectedTree,i,r,a)}else{if(n.type!==Mi.LISTEN_COMPLETE)throw m("Unknown operation type: "+n.type);o=function(e,t,n,i,r){const a=t.serverCache,o=Ki(t,a.getNode(),a.isFullyInitialized()||On(n),a.isFiltered());return zr(e,o,n,i,Ir,r)}(e,t,n.path,i,a)}const l=a.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Yi(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(Ci(Yi(t)))}}(t,o,l),{viewCache:o,changes:l}}function zr(e,t,n,i,r,a){const o=t.eventCache;if(null!=_r(i,n))return t;{let s,l;if(On(n))if(h(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=$i(t),r=yr(i,n instanceof gi?n:gi.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),r,a)}else{const n=vr(i,$i(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}else{const c=En(n);if(".priority"===c){h(1===kn(n),"Can't have a priority with additional path components");const r=o.getNode();l=t.serverCache.getNode();const a=br(i,n,r,l);s=null!=a?e.filter.updatePriority(r,a):o.getNode()}else{const u=zn(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=br(i,n,o.getNode(),l);d=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else d=Sr(i,c,t.serverCache);s=null!=d?e.filter.updateChild(o.getNode(),c,d,u,r,a):o.getNode()}}return Zi(t,s,o.isFullyInitialized()||On(n),e.filter.filtersNodes())}}function Tr(e,t,n,i,r,a,o,s){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(On(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=En(n);if(!l.isCompleteForPath(n)&&kn(n)>1)return t;const r=zn(n),a=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),a):u.updateChild(l.getNode(),e,a,r,Ir,null)}const d=Ki(t,c,l.isFullyInitialized()||On(n),u.filtersNodes());return zr(e,d,n,r,new Er(r,d,a),s)}function Ar(e,t,n,i,r,a,o){const s=t.eventCache;let l,c;const u=new Er(r,t,a);if(On(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Zi(t,c,!0,e.filter.filtersNodes());else{const r=En(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Zi(t,c,s.isFullyInitialized(),s.isFiltered());else{const a=zn(n),c=s.getNode().getImmediateChild(r);let d;if(On(a))d=i;else{const e=u.getCompleteChild(r);d=null!=e?".priority"===Tn(a)&&e.getChild(Pn(a)).isEmpty()?e:e.updateChild(a,i):gi.EMPTY_NODE}if(c.equals(d))l=t;else{l=Zi(t,e.filter.updateChild(s.getNode(),r,d,a,u,o),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Pr(e,t){return e.eventCache.isCompleteForChild(t)}function jr(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Or(e,t,n,i,r,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=On(n)?i:new Ji(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=jr(0,t.serverCache.getNode().getImmediateChild(n),i);c=Tr(e,c,new Nn(n),l,r,a,o,s)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=jr(0,t.serverCache.getNode().getImmediateChild(n),i);c=Tr(e,c,new Nn(n),l,r,a,o,s)}})),c}class Rr{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Ni(n.getIndex()),r=(a=n).loadsAllData()?new Ni(a.getIndex()):a.hasLimit()?new Ei(a):new Ii(a);var a;this.processor_=function(e){return{filter:e}}(r);const o=t.serverCache,s=t.eventCache,l=i.updateFullNode(gi.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(gi.EMPTY_NODE,s.getNode(),null),u=new Hi(l,o.isFullyInitialized(),i.filtersNodes()),d=new Hi(c,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=Qi(d,u),this.eventGenerator_=new Wi(this.query_)}get query(){return this.query_}}function Lr(e,t){const n=$i(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!On(t)&&!n.getImmediateChild(En(t)).isEmpty())?n.getChild(t):null}function Dr(e){return 0===e.eventRegistrations_.length}function Mr(e,t,n){const i=[];if(n){h(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function Fr(e,t,n,i){t.type===Mi.MERGE&&null!==t.source.queryId&&(h($i(e.viewCache_),"We should always have a full cache before handling merges"),h(Yi(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,a=kr(e.processor_,r,t,n,i);var o,s;return o=e.processor_,s=a.viewCache,h(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),h(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),h(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Br(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Br(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],a=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gi(e,r,"child_removed",t,i,n),Gi(e,r,"child_added",t,i,n),Gi(e,r,"child_moved",a,i,n),Gi(e,r,"child_changed",t,i,n),Gi(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}let qr,Ur;class Vr{constructor(){this.views=new Map}}function Hr(e,t,n,i){const r=t.source.queryId;if(null!==r){const a=e.views.get(r);return h(null!=a,"SyncTree gave us an op for an invalid query."),Fr(a,t,n,i)}{let r=[];for(const a of e.views.values())r=r.concat(Fr(a,t,n,i));return r}}function Wr(e,t,n,i,r){const a=t._queryIdentifier,o=e.views.get(a);if(!o){let e=vr(n,r?i:null),a=!1;e?a=!0:i instanceof gi?(e=yr(n,i),a=!1):(e=gi.EMPTY_NODE,a=!1);const o=Qi(new Hi(e,a,!1),new Hi(i,r,!1));return new Rr(t,o)}return o}function Gr(e,t,n,i,r,a){const o=Wr(e,t,i,r,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(li,((e,t)=>{i.push(Si(e,t))}));return n.isFullyInitialized()&&i.push(Ci(n.getNode())),Br(e,i,n.getNode(),t)}(o,n)}function Qr(e,t,n,i){const r=t._queryIdentifier,a=[];let o=[];const s=Xr(e);if("default"===r)for(const[l,c]of e.views.entries())o=o.concat(Mr(c,n,i)),Dr(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{const t=e.views.get(r);t&&(o=o.concat(Mr(t,n,i)),Dr(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||a.push(t.query)))}return s&&!Xr(e)&&a.push(new(h(qr,"Reference.ts has not been loaded"),qr)(t._repo,t._path)),{removed:a,events:o}}function Zr(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Kr(e,t){let n=null;for(const i of e.views.values())n=n||Lr(i,t);return n}function Yr(e,t){if(t._queryParams.loadsAllData())return Jr(e);{const n=t._queryIdentifier;return e.views.get(n)}}function $r(e,t){return null!=Yr(e,t)}function Xr(e){return null!=Jr(e)}function Jr(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ea=1;class ta{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ji(null),this.pendingWriteTree_={visibleWrites:er.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function na(e,t,n,i,r){return function(e,t,n,i,r){h(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=tr(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?da(e,new Ui({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ia(e,t,n,i){!function(e,t,n,i){h(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=nr(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=Ji.fromObject(n);return da(e,new Vi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(pr(e.pendingWriteTree_,t)){let t=new Ji(null);return null!=i.snap?t=t.set(In(),!0):Qt(i.children,(e=>{t=t.set(new Nn(e),!0)})),da(e,new Bi(i.path,t,n))}return[]}function aa(e,t,n){return da(e,new Ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function oa(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=t._path,o=e.syncPointTree_.get(a);let s=[];if(o&&("default"===t._queryIdentifier||$r(o,t))){const l=Qr(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));const c=l.removed;if(s=l.events,!r){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(a,((e,t)=>Xr(t)));if(n&&!r){const t=e.syncPointTree_.subtree(a);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Xr(t)){return[Jr(t)]}{let e=[];return t&&(e=Zr(t)),Qt(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,a=ma(e,i);e.listenProvider_.startListening(_a(r),fa(e,r),a.hashFn,a.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(_a(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(ga(t));e.listenProvider_.stopListening(_a(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=ga(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function sa(e,t,n,i){const r=va(e,i);if(null!=r){const i=ya(r),a=i.path,o=i.queryId,s=Rn(a,t);return ba(e,a,new Ui(Fi(o),s,n))}return[]}function la(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t._path;let a=null,o=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=Rn(e,r);a=a||Kr(t,n),o=o||Xr(t)}));let s,l=e.syncPointTree_.get(r);if(l?(o=o||Xr(l),a=a||Kr(l,In())):(l=new Vr,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=a)s=!0;else{s=!1,a=gi.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=Kr(t,In());n&&(a=a.updateImmediateChild(e,n))}))}const c=$r(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=ga(t);h(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=ea++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=Gr(l,t,n,dr(e.pendingWriteTree_,r),a,s);if(!c&&!o&&!i){const n=Yr(l,t);u=u.concat(function(e,t,n){const i=t._path,r=fa(e,t),a=ma(e,n),o=e.listenProvider_.startListening(_a(t),r,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(i);if(r)h(!Xr(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!On(e)&&t&&Xr(t))return[Jr(t).query];{let e=[];return t&&(e=e.concat(Zr(t).map((e=>e.query)))),Qt(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(_a(i),fa(e,i))}}return o}(e,t,n))}return u}function ca(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=Kr(n,Rn(e,t));if(i)return i}));return gr(i,t,r,n,!0)}function ua(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const r=Rn(e,n);i=i||Kr(t,r)}));let r=e.syncPointTree_.get(n);r?i=i||Kr(r,In()):(r=new Vr,e.syncPointTree_=e.syncPointTree_.set(n,r));const a=null!=i,o=a?new Hi(i,!0,!1):null;return function(e){return Yi(e.viewCache_)}(Wr(r,t,dr(e.pendingWriteTree_,t._path),a?o.getNode():gi.EMPTY_NODE,a))}function da(e,t){return pa(t,e.syncPointTree_,null,dr(e.pendingWriteTree_,In()))}function pa(e,t,n,i){if(On(e.path))return ha(e,t,n,i);{const r=t.get(In());null==n&&null!=r&&(n=Kr(r,In()));let a=[];const o=En(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const e=n?n.getImmediateChild(o):null,t=xr(i,o);a=a.concat(pa(s,l,e,t))}return r&&(a=a.concat(Hr(r,e,i,n))),a}}function ha(e,t,n,i){const r=t.get(In());null==n&&null!=r&&(n=Kr(r,In()));let a=[];return t.children.inorderTraversal(((t,r)=>{const o=n?n.getImmediateChild(t):null,s=xr(i,t),l=e.operationForChild(t);l&&(a=a.concat(ha(l,r,o,s)))})),r&&(a=a.concat(Hr(r,e,i,n))),a}function ma(e,t){const n=t.query,i=fa(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||gi.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=va(e,n);if(i){const n=ya(i),r=n.path,a=n.queryId,o=Rn(r,t);return ba(e,r,new qi(Fi(a),o))}return[]}(e,n._path,i):function(e,t){return da(e,new qi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return oa(e,n,null,i)}}}}function fa(e,t){const n=ga(t);return e.queryToTagMap.get(n)}function ga(e){return e._path.toString()+"$"+e._queryIdentifier}function va(e,t){return e.tagToQueryMap.get(t)}function ya(e){const t=e.indexOf("$");return h(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Nn(e.substr(0,t))}}function ba(e,t,n){const i=e.syncPointTree_.get(t);h(i,"Missing sync point for query tag that we're tracking");return Hr(i,n,dr(e.pendingWriteTree_,t),null)}function _a(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(h(Ur,"Reference.ts has not been loaded"),Ur)(e._repo,e._path):e}class Ca{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ca(t)}node(){return this.node_}}class Sa{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=jn(this.path_,e);return new Sa(this.syncTree_,t)}node(){return ca(this.syncTree_,this.path_)}}const xa=function(e,t,n){return e&&"object"===typeof e?(h(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?wa(e[".sv"],t,n):"object"===typeof e[".sv"]?Na(e[".sv"],t):void h(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},wa=function(e,t,n){if("timestamp"===e)return n.timestamp;h(!1,"Unexpected server value: "+e)},Na=function(e,t,n){e.hasOwnProperty("increment")||h(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!==typeof i&&h(!1,"Unexpected increment value: "+i);const r=t.node();if(h(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!==typeof a?i:a+i},Ia=function(e,t,n,i){return ka(t,new Sa(n,e),i)},Ea=function(e,t,n){return ka(e,new Ca(t),n)};function ka(e,t,n){const i=e.getPriority().val(),r=xa(i,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const i=e,a=xa(i.getValue(),t,n);return a!==i.getValue()||r!==i.getPriority().val()?new si(a,yi(r)):e}{const i=e;return a=i,r!==i.getPriority().val()&&(a=a.updatePriority(new si(r))),i.forEachChild(li,((e,i)=>{const r=ka(i,t.getImmediateChild(e),n);r!==i&&(a=a.updateImmediateChild(e,r))})),a}}class za{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Ta(e,t){let n=t instanceof Nn?t:new Nn(t),i=e,r=En(n);for(;null!==r;){const e=M(i.node.children,r)||{children:{},childCount:0};i=new za(r,i,e),n=zn(n),r=En(n)}return i}function Aa(e){return e.node.value}function Pa(e,t){e.node.value=t,Da(e)}function ja(e){return e.node.childCount>0}function Oa(e,t){Qt(e.node.children,((n,i)=>{t(new za(n,e,i))}))}function Ra(e,t,n,i){n&&!i&&t(e),Oa(e,(e=>{Ra(e,t,!0,i)})),n&&i&&t(e)}function La(e){return new Nn(null===e.parent?e.name:La(e.parent)+"/"+e.name)}function Da(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===Aa(e)&&!ja(e)}(n),r=D(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Da(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Da(e))}(e.parent,e.name,e)}const Ma=/[\[\].#$\/\u0000-\u001F\u007F]/,Fa=/[\[\].#$\u0000-\u001F\u007F]/,Ba=10485760,qa=function(e){return"string"===typeof e&&0!==e.length&&!Ma.test(e)},Ua=function(e){return"string"===typeof e&&0!==e.length&&!Fa.test(e)},Va=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Ft(e)||e&&"object"===typeof e&&D(e,".sv")},Ha=function(e,t,n,i){i&&void 0===t||Wa(H(e,"value"),t,n)},Wa=function(e,t,n){const i=n instanceof Nn?new Fn(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+qn(i));if("function"===typeof t)throw new Error(e+"contains a function "+qn(i)+" with contents = "+t.toString());if(Ft(t))throw new Error(e+"contains "+t.toString()+" "+qn(i));if("string"===typeof t&&t.length>Ba/3&&W(t)>Ba)throw new Error(e+"contains a string greater than "+Ba+" utf8 bytes "+qn(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(Qt(t,((t,a)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!qa(t)))throw new Error(e+" contains an invalid key ("+t+") "+qn(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=W(t),Bn(e)}(i,t),Wa(e,a,i),function(e){const t=e.parts_.pop();e.byteLength_-=W(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+qn(i)+" in addition to actual children.")}},Ga=function(e,t,n,i){if(i&&void 0===t)return;const r=H(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];Qt(t,((e,t)=>{const i=new Nn(e);if(Wa(r,t,jn(n,i)),".priority"===Tn(i)&&!Va(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(i)})),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=An(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!qa(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ln);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&Mn(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,a)},Qa=function(e,t,n,i){if((!i||void 0!==n)&&!Ua(n))throw new Error(H(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Za=function(e,t){if(".info"===En(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ka=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qa(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ua(e)}(n))throw new Error(H(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ya{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $a(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();null===n||Dn(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(r)}n&&e.eventLists_.push(n)}function Xa(e,t,n){$a(e,n),eo(e,(e=>Dn(e,t)))}function Ja(e,t,n){$a(e,n),eo(e,(e=>Mn(e,t)||Mn(t,e)))}function eo(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(to(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function to(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();At&&Ot("event: "+n.toString()),$t(i)}}}const no="repo_interrupt";class io{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ya,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ji(),this.transactionQueueTree_=new za,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ro(e,t,n){if(e.stats_=hn(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ai(e.repoInfo_,((t,n,i,r)=>{so(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>lo(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{R(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Hn(e.repoInfo_,t,((t,n,i,r)=>{so(e,t,n,i,r)}),(t=>{lo(e,t)}),(t=>{!function(e,t){Qt(t,((t,n)=>{co(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return pn[n]||(pn[n]=t()),pn[n]}(e.repoInfo_,(()=>new Di(e.stats_,e.server_))),e.infoData_=new Pi,e.infoSyncTree_=new ta({startListening:(t,n,i,r)=>{let a=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=aa(e.infoSyncTree_,t._path,o),setTimeout((()=>{r("ok")}),0)),a},stopListening:()=>{}}),co(e,"connected",!1),e.serverSyncTree_=new ta({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const a=r(n,i);Ja(e.eventQueue_,t._path,a)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ao(e){const t=e.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function oo(e){return(t=(t={timestamp:ao(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function so(e,t,n,i,r){e.dataUpdateCount++;const a=new Nn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const t=B(n,(e=>yi(e)));o=function(e,t,n,i){const r=va(e,i);if(r){const i=ya(r),a=i.path,o=i.queryId,s=Rn(a,t),l=Ji.fromObject(n);return ba(e,a,new Vi(Fi(o),s,l))}return[]}(e.serverSyncTree_,a,t,r)}else{const t=yi(n);o=sa(e.serverSyncTree_,a,t,r)}else if(i){const t=B(n,(e=>yi(e)));o=function(e,t,n){const i=Ji.fromObject(n);return da(e,new Vi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,a,t)}else{const t=yi(n);o=aa(e.serverSyncTree_,a,t)}let s=a;o.length>0&&(s=bo(e,a)),Ja(e.eventQueue_,s,o)}function lo(e,t){co(e,"connected",t),!1===t&&function(e){fo(e,"onDisconnectEvents");const t=oo(e),n=ji();Ri(e.onDisconnect_,In(),((i,r)=>{const a=Ia(i,r,e.serverSyncTree_,t);Oi(n,i,a)}));let i=[];Ri(n,In(),((t,n)=>{i=i.concat(aa(e.serverSyncTree_,t,n));const r=wo(e,t);bo(e,r)})),e.onDisconnect_=ji(),Ja(e.eventQueue_,In(),i)}(e)}function co(e,t,n){const i=new Nn("/.info/"+t),r=yi(n);e.infoData_.updateSnapshot(i,r);const a=aa(e.infoSyncTree_,i,r);Ja(e.eventQueue_,i,a)}function uo(e){return e.nextWriteId_++}function po(e,t,n,i,r){fo(e,"set",{path:t.toString(),value:n,priority:i});const a=oo(e),o=yi(n,i),s=ca(e.serverSyncTree_,t),l=Ea(o,s,a),c=uo(e),u=na(e.serverSyncTree_,t,l,c,!0);$a(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,i)=>{const a="ok"===n;a||Mt("set at "+t+" failed: "+n);const o=ra(e.serverSyncTree_,c,!a);Ja(e.eventQueue_,t,o),go(e,r,n,i)}));const d=wo(e,t);bo(e,d),Ja(e.eventQueue_,d,[])}function ho(e,t,n){let i;i=".info"===En(t._path)?oa(e.infoSyncTree_,t,n):oa(e.serverSyncTree_,t,n),Xa(e.eventQueue_,t._path,i)}function mo(e){e.persistentConnection_&&e.persistentConnection_.interrupt(no)}function fo(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Ot(t,...i)}function go(e,t,n,i){t&&$t((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const a=new Error(r);a.code=e,t(a)}}))}function vo(e,t,n){return ca(e.serverSyncTree_,t,n)||gi.EMPTY_NODE}function yo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||xo(e,t),Aa(t)){const n=Co(e,t);h(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=vo(e,t,i);let a=r;const o=r.hash();for(let c=0;c<n.length;c++){const e=n[c];h(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=Rn(t,e.path);a=a.updateChild(i,e.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,(i=>{fo(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(ra(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();xo(e,Ta(e.transactionQueueTree_,t)),yo(e,e.transactionQueueTree_),Ja(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)$t(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Mt("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}bo(e,t)}}),o)}(e,La(t),n)}else ja(t)&&Oa(t,(t=>{yo(e,t)}))}function bo(e,t){const n=_o(e,t),i=La(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const a=t.filter((e=>0===e.status)),o=a.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const a=t[l],c=Rn(n,a.path);let u,d=!1;if(h(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)d=!0,u=a.abortReason,r=r.concat(ra(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)d=!0,u="maxretry",r=r.concat(ra(e.serverSyncTree_,a.currentWriteId,!0));else{const n=vo(e,a.path,o);a.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){Wa("transaction failed: Data returned ",i,a.path);let t=yi(i);"object"===typeof i&&null!=i&&D(i,".priority")||(t=t.updatePriority(n.getPriority()));const s=a.currentWriteId,l=oo(e),c=Ea(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=uo(e),o.splice(o.indexOf(s),1),r=r.concat(na(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),r=r.concat(ra(e.serverSyncTree_,s,!0))}else d=!0,u="nodata",r=r.concat(ra(e.serverSyncTree_,a.currentWriteId,!0))}Ja(e.eventQueue_,n,r),r=[],d&&(t[l].status=2,s=t[l].unwatcher,setTimeout(s,Math.floor(0)),t[l].onComplete&&("nodata"===u?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var s;xo(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)$t(i[l]);yo(e,e.transactionQueueTree_)}(e,Co(e,n),i),i}function _o(e,t){let n,i=e.transactionQueueTree_;for(n=En(t);null!==n&&void 0===Aa(i);)i=Ta(i,n),n=En(t=zn(t));return i}function Co(e,t){const n=[];return So(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function So(e,t,n){const i=Aa(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Oa(t,(t=>{So(e,t,n)}))}function xo(e,t){const n=Aa(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Pa(t,n.length>0?n:void 0)}Oa(t,(t=>{xo(e,t)}))}function wo(e,t){const n=La(_o(e,t)),i=Ta(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{No(e,t)})),No(e,i),Ra(i,(t=>{No(e,t)})),n}function No(e,t){const n=Aa(t);if(n){const i=[];let r=[],a=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(h(a===t-1,"All SENT items should be at beginning of queue."),a=t,n[t].status=3,n[t].abortReason="set"):(h(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(ra(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Pa(t,void 0):n.length=a+1,Ja(e.eventQueue_,La(t),r);for(let e=0;e<i.length;e++)$t(i[e])}}const Io=function(e,t){const n=Eo(e),i=n.namespace;"firebase.com"===n.domain&&Dt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Dt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ln(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Nn(n.pathString)}},Eo=function(e){let t="",n="",i="",r="",a="",o=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,d)));const p=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Mt("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=i}"ns"in p&&(a=p.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:s,pathString:r,namespace:a}},ko="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zo=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const a=new Array(8);for(r=7;r>=0;r--)a[r]=ko.charAt(n%64),n=Math.floor(n/64);h(0===n,"Cannot push at time == 0");let o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=ko.charAt(t[r]);return h(20===o.length,"nextPushId: Length should be 20."),o}}();class To{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+R(this.snapshot.exportVal())}}class Ao{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Po{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return h(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class jo{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return On(this._path)?null:Tn(this._path)}get ref(){return new Oo(this._repo,this._path)}get _queryIdentifier(){const e=Ti(this._queryParams),t=Wt(e);return"{}"===t?"default":t}get _queryObject(){return Ti(this._queryParams)}isEqual(e){if(!((e=G(e))instanceof jo))return!1;const t=this._repo===e._repo,n=Dn(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Oo extends jo{constructor(e,t){super(e,t,new ki,!1)}get parent(){const e=Pn(this._path);return null===e?null:new Oo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ro{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Nn(e),n=Do(this.ref,e);return new Ro(this._node.getChild(t),n,li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Ro(n,Do(this.ref,t),li))))}hasChild(e){const t=new Nn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lo(e,t){return(e=G(e))._checkNotDeleted("ref"),void 0!==t?Do(e._root,t):e._root}function Do(e,t){var n,i,r,a;return null===En((e=G(e))._path)?(n="child",i="path",a=!1,(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Qa(n,i,r,a)):Qa("child","path",t,!1),new Oo(e._repo,jn(e._path,t))}function Mo(e){return Za("remove",e._path),Fo(e,null)}function Fo(e,t){e=G(e),Za("set",e._path),Ha("set",t,e._path,!1);const n=new E;return po(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Bo(e,t){Ga("update",t,e._path,!1);const n=new E;return function(e,t,n,i){fo(e,"update",{path:t.toString(),value:n});let r=!0;const a=oo(e),o={};if(Qt(n,((n,i)=>{r=!1,o[n]=Ia(jn(t,n),yi(i),e.serverSyncTree_,a)})),r)Ot("update() called with empty data.  Don't do anything."),go(0,i,"ok",void 0);else{const r=uo(e),a=ia(e.serverSyncTree_,t,o,r);$a(e.eventQueue_,a),e.server_.merge(t.toString(),n,((n,a)=>{const o="ok"===n;o||Mt("update at "+t+" failed: "+n);const s=ra(e.serverSyncTree_,r,!o),l=s.length>0?bo(e,t):t;Ja(e.eventQueue_,l,s),go(0,i,n,a)})),Qt(n,(n=>{const i=wo(e,jn(t,n));bo(e,i)})),Ja(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function qo(e){e=G(e);const t=new Po((()=>{})),n=new Uo(t);return function(e,t,n){const i=ua(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then((i=>{const r=yi(i).withIndex(t._queryParams.getIndex());let a;if(la(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())a=aa(e.serverSyncTree_,t._path,r);else{const n=fa(e.serverSyncTree_,t);a=sa(e.serverSyncTree_,t._path,r,n)}return Ja(e.eventQueue_,t._path,a),oa(e.serverSyncTree_,t,n,null,!0),r}),(n=>(fo(e,"get for query "+R(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Ro(t,new Oo(e._repo,e._path),e._queryParams.getIndex())))}class Uo{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new To("value",this,new Ro(e.snapshotNode,new Oo(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ao(this,e,t):null}matches(e){return e instanceof Uo&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Vo{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ao(this,e,t):null}createEvent(e,t){h(null!=e.childName,"Child events should have a childName.");const n=Do(new Oo(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new To(e.type,this,new Ro(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Vo&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ho(e,t,n,i,r){let a;if("object"===typeof i&&(a=void 0,r=i),"function"===typeof i&&(a=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{ho(e._repo,e,s),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new Po(n,a||void 0),s="value"===t?new Uo(o):new Vo(t,o);return function(e,t,n){let i;i=".info"===En(t._path)?la(e.infoSyncTree_,t,n):la(e.serverSyncTree_,t,n),Xa(e.eventQueue_,t._path,i)}(e._repo,e,s),()=>ho(e._repo,e,s)}function Wo(e,t,n,i){return Ho(e,"value",t,n,i)}!function(e){h(!qr,"__referenceConstructor has already been defined"),qr=e}(Oo),function(e){h(!Ur,"__referenceConstructor has already been defined"),Ur=e}(Oo);const Go={};let Qo=!1;function Zo(e,t,n,i,r){let a=i||e.options.databaseURL;void 0===a&&(e.options.projectId||Dt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,s,l=Io(a,r),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/ia-confronto",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),s?(o=!0,a="http://".concat(s,"?ns=").concat(c.namespace),l=Io(a,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new tn(tn.OWNER):new en(e.name,e.options,t);Ka("Invalid Firebase Database URL",l),On(l.path)||Dt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let r=Go[t.name];r||(r={},Go[t.name]=r);let a=r[e.toURLString()];a&&Dt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new io(e,Qo,n,i),r[e.toURLString()]=a,a}(c,e,u,new Jt(e.name,n));return new Ko(d,e)}class Ko{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ro(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Oo(this._repo,In())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Go[t];n&&n[e.key]===e||Dt("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),mo(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Dt("Cannot call "+e+" on a deleted database.")}}Hn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Hn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ct("10.14.1"),nt(new Q("database",((e,t)=>{let{instanceIdentifier:n}=t;return Zo(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),st(yt,bt,e),st(yt,bt,"esm2017")}();const Yo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;const t=Xe.get(e);if(!t&&e===Ye&&I())return ot();if(!t)throw rt.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=it(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=N("database");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=G(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Dt("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Dt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new tn(tn.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b(JSON.stringify({alg:"none",type:"JWT"})),b(JSON.stringify(a)),""].join(".")}(i.mockUserToken,e.app.options.projectId);a=new tn(t)}!function(e,t,n,i){e.repoInfo_=new ln("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,t,n,a)}(n,...e)}return n}(ot({apiKey:"AIzaSyD6uzsg8_NIjLLMTlbYSlYQpHapN8c223k",authDomain:"ia-confronto.firebaseapp.com",databaseURL:"https://ia-confronto-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ia-confronto",storageBucket:"ia-confronto.firebasestorage.app",messagingSenderId:"618448484359",appId:"1:618448484359:web:1a63912cf15e6adad012a2"})),$o={startSession:e=>Fo(Lo(Yo,"sessions/".concat(e)),{active:!0,currentModule:0,facilitatorMode:!0,timestamp:Date.now(),pollResults:{yes:0,no:0},activePoll:null,participants:{}}),endSession:e=>Fo(Lo(Yo,"sessions/".concat(e,"/active")),!1),setCurrentModule:(e,t)=>Fo(Lo(Yo,"sessions/".concat(e,"/currentModule")),t),startPoll:(e,t)=>{const n={};return n["sessions/".concat(e,"/activePoll")]=t,n["sessions/".concat(e,"/pollResults")]={yes:0,no:0},Bo(Lo(Yo),n)},endPoll:e=>Fo(Lo(Yo,"sessions/".concat(e,"/activePoll")),null),votePoll:async(e,t)=>{const n=Lo(Yo,"sessions/".concat(e,"/pollResults"));try{const e=(await qo(n)).val()||{yes:0,no:0};return Fo(n,s(s({},e),{},{[t]:(e[t]||0)+1}))}catch(Lt){return console.error("Vote error:",Lt),function(e,t){e=G(e),Za("push",e._path),Ha("push",t,e._path,!0);const n=ao(e._repo),i=zo(n),r=Do(e,i),a=Do(e,i);let o;return o=null!=t?Fo(a,t).then((()=>a)):Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(Lo(Yo,"sessions/".concat(e,"/votes/").concat(t)),{timestamp:Date.now()})}},subscribeToSession:(e,t)=>{const n=Wo(Lo(Yo,"sessions/".concat(e)),(e=>{const n=e.val();n&&t(n)}),(e=>{console.error("Firebase listener error:",e),t(null)}));return n},addParticipant:(e,t,n)=>Fo(Lo(Yo,"sessions/".concat(e,"/participants/").concat(t)),s(s({},n),{},{joinedAt:Date.now(),online:!0})),removeParticipant:(e,t)=>Mo(Lo(Yo,"sessions/".concat(e,"/participants/").concat(t))),generateSessionId:()=>Math.random().toString(36).substr(2,8).toUpperCase(),testConnection:async()=>{try{const e=Lo(Yo,"test");return await Fo(e,{timestamp:Date.now()}),await Mo(e),!0}catch(Lt){return console.error("Firebase connection test failed:",Lt),!1}}};var Xo=n(579);const Jo=(0,e.createContext)(),es={currentStep:"welcome",userProfile:{name:"",email:"",experience:"",goals:[],readinessScore:0},assessmentAnswers:{},buddy:null,progress:{onboardingComplete:!1,modulesCompleted:[],achievements:[]},sessionId:null,sessionActive:!1,currentModule:0,facilitatorMode:!1,isConnected:!1,participants:{},activePoll:null,pollResults:{yes:0,no:0},hasVoted:!1,activeWorkshop:null,workshopData:{raceBuilder:{ruolo:"",azione:"",contesto:"",esempio:""},promptOptimizer:{selectedScenario:null,selectedTechnique:null,customInput:"",results:null},biasSimulator:{step:1,selectedScenario:null,userInput:"",simulationResults:null,biasDetected:[],checklistCompleted:!1},roiPlanner:{step:1,businessProfile:{},selectedTools:[],timeline:"12months",investmentLevel:"starter",calculations:null,reportGenerated:!1}}};function ts(e,t){switch(t.type){case"SET_STEP":return s(s({},e),{},{currentStep:t.payload});case"UPDATE_USER_PROFILE":return s(s({},e),{},{userProfile:s(s({},e.userProfile),t.payload)});case"SET_ASSESSMENT_ANSWER":return s(s({},e),{},{assessmentAnswers:s(s({},e.assessmentAnswers),{},{[t.payload.questionId]:t.payload.answer})});case"CALCULATE_READINESS_SCORE":const n=function(e){let t=0,n=0;const i=[{id:"ai_usage",type:"scale",maxScore:5},{id:"tools_familiarity",type:"multiple",options:[{value:"chatgpt",points:2},{value:"claude",points:2},{value:"gemini",points:2},{value:"copilot",points:3},{value:"specialized",points:4},{value:"none",points:0}]},{id:"prompt_skills",type:"scale",maxScore:5},{id:"business_goals",type:"multiple",options:[{value:"efficiency",points:2},{value:"quality",points:2},{value:"communication",points:2},{value:"analysis",points:3},{value:"innovation",points:4},{value:"competitive",points:4}]},{id:"tech_comfort",type:"scale",maxScore:5},{id:"concerns",type:"multiple",options:[{value:"privacy",points:-1},{value:"accuracy",points:-1},{value:"legal",points:-2},{value:"cost",points:-1},{value:"learning",points:-1},{value:"replacement",points:-2},{value:"none",points:2}]}];i.forEach((i=>{const r=e[i.id];if("scale"===i.type)"number"===typeof r&&(t+=r,n+=i.maxScore);else if("multiple"===i.type){Array.isArray(r)&&r.forEach((e=>{const n=i.options.find((t=>t.value===e));n&&(t+=n.points)}));const e=i.options.filter((e=>e.points>0)).reduce(((e,t)=>e+t.points),0);n+=e}}));const r=n>0?t/n*100:0;return Math.max(0,Math.min(100,Math.round(r)))}(e.assessmentAnswers);return s(s({},e),{},{userProfile:s(s({},e.userProfile),{},{readinessScore:n})});case"SET_BUDDY":return s(s({},e),{},{buddy:t.payload});case"COMPLETE_ONBOARDING":return s(s({},e),{},{progress:s(s({},e.progress),{},{onboardingComplete:!0}),currentStep:"modules"});case"TOGGLE_FACILITATOR_MODE":const i=!e.facilitatorMode;return console.log("\ud83c\udf9b\ufe0f Facilitator mode:",i),s(s({},e),{},{facilitatorMode:i});case"SET_CURRENT_MODULE":return s(s({},e),{},{currentModule:t.payload});case"START_SESSION":return s(s({},e),{},{sessionActive:!0});case"END_SESSION":return s(s({},e),{},{sessionActive:!1,currentModule:0});case"SET_SESSION_ID":return s(s({},e),{},{sessionId:t.payload});case"SET_CONNECTION_STATUS":return s(s({},e),{},{isConnected:t.payload});case"UPDATE_PARTICIPANTS":return s(s({},e),{},{participants:t.payload});case"START_POLL":return s(s({},e),{},{activePoll:t.payload,pollResults:{yes:0,no:0},hasVoted:!1});case"END_POLL":return s(s({},e),{},{activePoll:null,pollResults:{yes:0,no:0},hasVoted:!1});case"UPDATE_POLL_RESULTS":return s(s({},e),{},{pollResults:t.payload});case"SET_HAS_VOTED":return s(s({},e),{},{hasVoted:!0});case"SUBMIT_POLL_RESPONSE":const r=s({},e.pollResults),a=t.payload;return r[a]=(r[a]||0)+1,s(s({},e),{},{pollResults:r});case"SYNC_FROM_FIREBASE":const{currentModule:o,sessionActive:l,activePoll:c,pollResults:u,participants:d}=t.payload;return s(s({},e),{},{currentModule:void 0!==o?o:e.currentModule,sessionActive:void 0!==l?l:e.sessionActive,activePoll:void 0!==c?c:e.activePoll,pollResults:u||e.pollResults,participants:d||e.participants});case"OPEN_WORKSHOP":return s(s({},e),{},{activeWorkshop:t.payload});case"CLOSE_WORKSHOP":return s(s({},e),{},{activeWorkshop:null});case"UPDATE_WORKSHOP_DATA":return s(s({},e),{},{workshopData:s(s({},e.workshopData),{},{[t.payload.workshop]:s(s({},e.workshopData[t.payload.workshop]),t.payload.data)})});case"RESET_WORKSHOP_DATA":return s(s({},e),{},{workshopData:s(s({},e.workshopData),{},{[t.payload]:es.workshopData[t.payload]})});default:return e}}function ns(t){let{children:n}=t;const[i,r]=(0,e.useReducer)(ts,es),[a,o]=e.useState(!1),s=(0,e.useRef)(null),u=(0,e.useRef)(!1);(0,e.useEffect)((()=>{if(a)return;console.log("\ud83d\udd04 Loading saved state...");const e=l("ia-confronto-progress",null);console.log("\ud83d\udcbe Saved state:",e),e&&(e.userProfile&&r({type:"UPDATE_USER_PROFILE",payload:e.userProfile}),e.currentStep&&r({type:"SET_STEP",payload:e.currentStep}),e.assessmentAnswers&&Object.keys(e.assessmentAnswers).forEach((t=>{r({type:"SET_ASSESSMENT_ANSWER",payload:{questionId:t,answer:e.assessmentAnswers[t]}})})),!0===e.facilitatorMode&&(console.log("\ud83c\udf9b\ufe0f Restoring facilitator mode"),r({type:"TOGGLE_FACILITATOR_MODE"})),e.progress);const t=(()=>{const e=new URLSearchParams(window.location.search).get("session");if(e)return console.log("\ud83d\udd17 Joining session from URL:",e),e;const t=localStorage.getItem("ia-confronto-sessionId");if(t)return console.log("\ud83d\udcbe Reusing saved session:",t),t;const n=$o.generateSessionId();return console.log("\ud83c\udd95 Generated new session:",n),localStorage.setItem("ia-confronto-sessionId",n),n})();r({type:"SET_SESSION_ID",payload:t}),o(!0),console.log("\u2705 Initialization complete")}),[a]),(0,e.useEffect)((()=>{if(!a||u.current||!i.sessionId)return;console.log("\ud83d\udd25 Initializing Firebase for session:",i.sessionId);return(async()=>{try{const e=await $o.testConnection();if(r({type:"SET_CONNECTION_STATUS",payload:e}),e){console.log("\u2705 Firebase connected");const e=$o.subscribeToSession(i.sessionId,(e=>{e&&(console.log("\ud83d\udce1 Firebase data received:",e),r({type:"SYNC_FROM_FIREBASE",payload:{currentModule:e.currentModule,sessionActive:e.active,activePoll:e.activePoll,pollResults:e.pollResults,participants:e.participants}}))}));s.current=e}else console.log("\u26a0\ufe0f Firebase connection failed, using local mode")}catch(Lt){console.error("Firebase initialization error:",Lt),r({type:"SET_CONNECTION_STATUS",payload:!1})}})(),u.current=!0,()=>{s.current&&(console.log("\ud83e\uddf9 Cleaning up Firebase listener"),s.current(),s.current=null)}}),[a,i.sessionId]),(0,e.useEffect)((()=>{if(!a)return;(e=>{c("ia-confronto-progress",{userProfile:e.userProfile,progress:e.progress,currentStep:e.currentStep,assessmentAnswers:e.assessmentAnswers,timestamp:(new Date).toISOString()})})({currentStep:i.currentStep,userProfile:i.userProfile,assessmentAnswers:i.assessmentAnswers,facilitatorMode:i.facilitatorMode,progress:i.progress})}),[a,i.currentStep,i.userProfile,i.assessmentAnswers,i.facilitatorMode,i.progress]);const d=e.useCallback((async e=>{if(console.log("\ud83d\ude80 Dispatch action:",e.type),r(e),i.isConnected&&i.facilitatorMode&&i.sessionId)try{switch(e.type){case"START_SESSION":await $o.startSession(i.sessionId),console.log("\ud83d\udce1 Session started in Firebase");break;case"END_SESSION":await $o.endSession(i.sessionId),console.log("\ud83d\udce1 Session ended in Firebase");break;case"SET_CURRENT_MODULE":await $o.setCurrentModule(i.sessionId,e.payload),console.log("\ud83d\udce1 Module synced to Firebase:",e.payload);break;case"START_POLL":await $o.startPoll(i.sessionId,e.payload),console.log("\ud83d\udce1 Poll started in Firebase:",e.payload);break;case"END_POLL":await $o.endPoll(i.sessionId),console.log("\ud83d\udce1 Poll ended in Firebase")}}catch(Lt){console.error("Firebase sync error:",Lt)}}),[i.isConnected,i.facilitatorMode,i.sessionId]),p=e.useCallback((async e=>{if(!i.hasVoted&&(r({type:"SET_HAS_VOTED"}),r({type:"SUBMIT_POLL_RESPONSE",payload:e}),i.isConnected&&i.sessionId))try{await $o.votePoll(i.sessionId,e),console.log("\ud83d\udce1 Vote submitted to Firebase:",e)}catch(Lt){console.error("Firebase vote error:",Lt)}}),[i.hasVoted,i.isConnected,i.sessionId]),h={state:i,dispatch:d,submitVote:p,isFirebaseConnected:i.isConnected,connectionStatus:i.isConnected?"\ud83d\udfe2 Connesso":"\ud83d\udfe1 Locale"};return(0,Xo.jsx)(Jo.Provider,{value:h,children:n})}function is(){const t=(0,e.useContext)(Jo);if(!t)throw new Error("useApp deve essere usato all'interno di AppProvider");return t}const rs=function(){const{state:e,dispatch:t}=is();return(0,Xo.jsx)("header",{className:"header",children:(0,Xo.jsx)("div",{className:"container",children:(0,Xo.jsxs)("div",{className:"header-content",children:[(0,Xo.jsxs)("div",{className:"logo-section",children:[(0,Xo.jsx)("div",{className:"logo-placeholder",children:(0,Xo.jsx)("span",{className:"logo-text",children:"IA"})}),(0,Xo.jsx)("h1",{className:"header-title",children:"A Confronto con l'Intelligenza Artificiale"}),(0,Xo.jsx)("p",{className:"header-subtitle",children:"Strategie Avanzate per Amministratori di Condominio"})]}),(!e.sessionActive||e.facilitatorMode)&&(0,Xo.jsx)("button",{onClick:()=>{t({type:"TOGGLE_FACILITATOR_MODE"})},className:"facilitator-toggle ".concat(e.facilitatorMode?"active":""),children:e.facilitatorMode?"\ud83d\udc65 Modalit\xe0 Partecipante":"\ud83c\udfaf Modalit\xe0 Facilitatore"})]})})})};const as=function(e){let{children:t}=e;const{state:n}=is();return(0,Xo.jsxs)("div",{className:"layout",children:[(0,Xo.jsx)(rs,{}),(0,Xo.jsx)("main",{className:"main-content",children:(0,Xo.jsx)("div",{className:"content-wrapper",children:t})}),(0,Xo.jsx)("footer",{className:"footer",children:(0,Xo.jsx)("div",{className:"container",children:(0,Xo.jsx)("p",{children:'\xa9 2025 - Seminario "A Confronto con l\'IA" | Avv.ta Adriana Augenti | Privacy & GDPR Compliant'})})})]})};const os=["children","onClick","variant","size","disabled","className"];const ss=function(e){let{children:t,onClick:n,variant:i="primary",size:r="medium",disabled:a=!1,className:o=""}=e,l=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,os);const c="btn-".concat(i),u="btn-".concat(r),d=a?"btn-disabled":"",p="".concat("btn"," ").concat(c," ").concat(u," ").concat(d," ").concat(o).trim();return(0,Xo.jsx)("button",s(s({className:p,onClick:n,disabled:a},l),{},{children:t}))};var ls=n(245);const cs=function(){const{dispatch:t}=is(),[n,i]=(0,e.useState)({name:"",email:"",role:"",experience:""}),r=e=>{const{name:t,value:n}=e.target;i((e=>s(s({},e),{},{[t]:n})))},a=n.name&&n.email&&n.role&&n.experience,o=window.location.origin+window.location.pathname;return(0,Xo.jsx)("div",{className:"welcome-screen fade-in",children:(0,Xo.jsxs)("div",{className:"card card-large",children:[(0,Xo.jsxs)("div",{className:"welcome-header",children:[(0,Xo.jsx)("h1",{children:"\ud83d\ude80 Benvenuti al Seminario!"}),(0,Xo.jsx)("p",{className:"welcome-subtitle",children:"Dall'Euforia alla Strategia: L'Evoluzione dell'IA nell'Amministrazione Condominiale"}),(0,Xo.jsxs)("div",{className:"welcome-description",children:[(0,Xo.jsx)("p",{children:"Oggi esploreremo insieme come l'Intelligenza Artificiale sta trasformando il settore dell'amministrazione condominiale. Dalle competenze avanzate alle implicazioni normative, dalla risoluzione di problemi reali alla visione strategica del futuro."}),(0,Xo.jsxs)("div",{className:"features-preview",children:[(0,Xo.jsxs)("div",{className:"feature-item",children:[(0,Xo.jsx)("span",{className:"feature-icon",children:"\ud83c\udfaf"}),(0,Xo.jsx)("span",{children:"Assessment personalizzato"})]}),(0,Xo.jsxs)("div",{className:"feature-item",children:[(0,Xo.jsx)("span",{className:"feature-icon",children:"\ud83e\udd1d"}),(0,Xo.jsx)("span",{children:"Networking intelligente"})]}),(0,Xo.jsxs)("div",{className:"feature-item",children:[(0,Xo.jsx)("span",{className:"feature-icon",children:"\ud83d\udee0\ufe0f"}),(0,Xo.jsx)("span",{children:"Workshop interattivi"})]}),(0,Xo.jsxs)("div",{className:"feature-item",children:[(0,Xo.jsx)("span",{className:"feature-icon",children:"\ud83d\udcda"}),(0,Xo.jsx)("span",{children:"Risorse scaricabili"})]})]})]})]}),(0,Xo.jsx)("div",{className:"qr-section",children:(0,Xo.jsx)("div",{className:"qr-container",children:(0,Xo.jsxs)("div",{className:"qr-content",children:[(0,Xo.jsxs)("div",{className:"qr-text",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcf1 Accesso Rapido"}),(0,Xo.jsx)("p",{children:"Condividi questo QR code per un accesso immediato al seminario"})]}),(0,Xo.jsxs)("div",{className:"qr-code-wrapper",children:[(0,Xo.jsx)(ls.Ay,{size:120,style:{height:"auto",maxWidth:"100%",width:"100%"},value:o,viewBox:"0 0 120 120"}),(0,Xo.jsx)("p",{className:"qr-url",children:o})]})]})})}),(0,Xo.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({type:"UPDATE_USER_PROFILE",payload:n}),t({type:"SET_STEP",payload:"assessment"})},className:"welcome-form",children:[(0,Xo.jsx)("h3",{children:"Iniziamo con le presentazioni"}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{htmlFor:"name",children:"Nome e Cognome *"}),(0,Xo.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:r,placeholder:"Es. Mario Rossi",required:!0})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,Xo.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:r,placeholder:"mario.rossi@email.com",required:!0})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{htmlFor:"role",children:"Ruolo Professionale *"}),(0,Xo.jsxs)("select",{id:"role",name:"role",value:n.role,onChange:r,required:!0,children:[(0,Xo.jsx)("option",{value:"",children:"Seleziona il tuo ruolo"}),(0,Xo.jsx)("option",{value:"amministratore-senior",children:"Amministratore Senior (10+ anni)"}),(0,Xo.jsx)("option",{value:"amministratore-junior",children:"Amministratore Junior (2-10 anni)"}),(0,Xo.jsx)("option",{value:"amministratore-neo",children:"Neo Amministratore (0-2 anni)"}),(0,Xo.jsx)("option",{value:"collaboratore",children:"Collaboratore/Dipendente Studio"}),(0,Xo.jsx)("option",{value:"aspirante",children:"Aspirante Amministratore"}),(0,Xo.jsx)("option",{value:"altro",children:"Altro"})]})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{htmlFor:"experience",children:"Esperienza con l'IA *"}),(0,Xo.jsxs)("select",{id:"experience",name:"experience",value:n.experience,onChange:r,required:!0,children:[(0,Xo.jsx)("option",{value:"",children:"Seleziona il tuo livello"}),(0,Xo.jsx)("option",{value:"beginner",children:"Principiante - Ho sentito parlare di ChatGPT"}),(0,Xo.jsx)("option",{value:"basic",children:"Base - Ho provato qualche volta ChatGPT"}),(0,Xo.jsx)("option",{value:"intermediate",children:"Intermedio - Uso IA occasionalmente per lavoro"}),(0,Xo.jsx)("option",{value:"advanced",children:"Avanzato - Uso IA regolarmente e conosco diversi strumenti"}),(0,Xo.jsx)("option",{value:"expert",children:"Esperto - Integro IA nei miei workflow quotidiani"})]})]}),(0,Xo.jsx)("div",{className:"form-actions",children:(0,Xo.jsx)(ss,{type:"submit",variant:"primary",size:"large",disabled:!a,children:"Inizia il tuo Assessment IA \ud83c\udfaf"})})]}),(0,Xo.jsx)("div",{className:"welcome-footer",children:(0,Xo.jsxs)("p",{className:"privacy-note",children:[(0,Xo.jsx)("strong",{children:"Privacy:"})," I tuoi dati restano sul tuo dispositivo e sono utilizzati solo per personalizzare l'esperienza del seminario. Conformit\xe0 GDPR garantita."]})})]})})},us=[{id:"ai_usage",title:"Utilizzo attuale dell'IA",subtitle:"Quanto spesso usi strumenti di IA nel tuo lavoro?",type:"scale",options:[{value:1,label:"Mai",description:"Non ho mai usato IA per lavoro"},{value:2,label:"Raramente",description:"Qualche volta per curiosit\xe0"},{value:3,label:"Occasionalmente",description:"Una volta al mese"},{value:4,label:"Regolarmente",description:"Alcune volte a settimana"},{value:5,label:"Quotidianamente",description:"Parte del mio workflow"}]},{id:"tools_familiarity",title:"Familiarit\xe0 con strumenti IA",subtitle:"Con quali strumenti hai esperienza?",type:"multiple",options:[{value:"chatgpt",label:"ChatGPT",points:2},{value:"claude",label:"Claude (Anthropic)",points:2},{value:"gemini",label:"Google Gemini/Bard",points:2},{value:"copilot",label:"Microsoft Copilot",points:3},{value:"specialized",label:"Strumenti IA specializzati per immobiliare",points:4},{value:"none",label:"Nessuno",points:0}]},{id:"prompt_skills",title:"Competenze di Prompt Engineering",subtitle:'Come descriveresti la tua abilit\xe0 nel "dialogare" con l\'IA?',type:"scale",options:[{value:1,label:"Principiante",description:"Faccio domande semplici"},{value:2,label:"Base",description:"So chiedere cose specifiche"},{value:3,label:"Intermedio",description:"Uso contesto e ruoli"},{value:4,label:"Avanzato",description:"Tecniche strutturate"},{value:5,label:"Esperto",description:"Prompt complessi e iterativi"}]},{id:"business_goals",title:"Obiettivi professionali con l'IA",subtitle:"Cosa vorresti ottenere dall'IA nel tuo lavoro?",type:"multiple",options:[{value:"efficiency",label:"Maggiore efficienza operativa",points:2},{value:"quality",label:"Migliorare qualit\xe0 documenti",points:2},{value:"communication",label:"Comunicazione pi\xf9 efficace",points:2},{value:"analysis",label:"Analisi dati e reporting",points:3},{value:"innovation",label:"Servizi innovativi ai clienti",points:4},{value:"competitive",label:"Vantaggio competitivo",points:4}]},{id:"tech_comfort",title:"Comfort tecnologico generale",subtitle:"Come ti senti con le nuove tecnologie?",type:"scale",options:[{value:1,label:"Intimorito",description:"Preferisco metodi tradizionali"},{value:2,label:"Cauto",description:"Adotto dopo che altri hanno testato"},{value:3,label:"Neutrale",description:"Aperto se vedo benefici chiari"},{value:4,label:"Entusiasta",description:"Mi piace sperimentare"},{value:5,label:"Early Adopter",description:"Sempre tra i primi a provare"}]},{id:"concerns",title:"Preoccupazioni principali",subtitle:"Cosa ti preoccupa di pi\xf9 nell'uso dell'IA?",type:"multiple",options:[{value:"privacy",label:"Privacy e protezione dati",points:-1},{value:"accuracy",label:"Accuratezza delle risposte",points:-1},{value:"legal",label:"Responsabilit\xe0 legale",points:-2},{value:"cost",label:"Costi di implementazione",points:-1},{value:"learning",label:"Curva di apprendimento",points:-1},{value:"replacement",label:"Paura di essere sostituito",points:-2},{value:"none",label:"Nessuna preoccupazione particolare",points:2}]}],ds=[{min:0,max:25,level:"Principiante Assoluto",color:"#f56565",description:"Sei all'inizio del tuo viaggio con l'IA. Oggi imparerai le basi!",recommendations:["Focus su strumenti gratuiti e semplici","Inizia con casi d'uso basilari","Priorit\xe0 su formazione e supporto"]},{min:26,max:50,level:"Esploratore Cauto",color:"#ed8936",description:"Hai curiosit\xe0 ma serve fiducia. Perfetto per un approccio graduale!",recommendations:["Testa strumenti in ambiente sicuro","Concentrati su ROI misurabili","Sviluppa competenze step-by-step"]},{min:51,max:70,level:"Adottatore Strategico",color:"#38a169",description:"Hai buone basi e visione. Pronto per implementazioni serie!",recommendations:["Integra IA nei workflow esistenti","Sperimenta con strumenti avanzati","Diventa punto di riferimento nel team"]},{min:71,max:85,level:"Innovatore Avanzato",color:"#3182ce",description:"Sei gi\xe0 avanti! Oggi porterai le tue competenze al livello successivo.",recommendations:["Focus su casi d'uso complessi","Sperimenta con automazioni avanzate","Considera ruolo di mentor per altri"]},{min:86,max:100,level:"Pioneer dell'IA",color:"#805ad5",description:"Sei un leader tecnologico! Oggi affineremo la strategia per il dominio del mercato.",recommendations:["Sviluppa soluzioni proprietarie","Punta su competitive advantage","Considera thought leadership settoriale"]}];function ps(e){let{question:t,value:n,onChange:i}=e;return(0,Xo.jsx)("div",{className:"scale-question",children:(0,Xo.jsx)("div",{className:"scale-options",children:t.options.map((e=>(0,Xo.jsxs)("div",{className:"scale-option ".concat(n===e.value?"selected":""),onClick:()=>i(e.value),children:[(0,Xo.jsx)("div",{className:"scale-number",children:e.value}),(0,Xo.jsx)("div",{className:"scale-label",children:e.label}),(0,Xo.jsx)("div",{className:"scale-description",children:e.description})]},e.value)))})})}function hs(e){let{question:t,value:n,onChange:i}=e;return(0,Xo.jsxs)("div",{className:"multiple-question",children:[(0,Xo.jsx)("div",{className:"multiple-options",children:t.options.map((e=>(0,Xo.jsxs)("div",{className:"multiple-option ".concat(n.includes(e.value)?"selected":""),onClick:()=>(e=>{const t="none"===e,r=n.includes("none");let a;a=t?r?[]:["none"]:r?[e]:n.includes(e)?n.filter((t=>t!==e)):[...n,e],i(a)})(e.value),children:[(0,Xo.jsx)("div",{className:"option-checkbox",children:n.includes(e.value)&&(0,Xo.jsx)("span",{children:"\u2713"})}),(0,Xo.jsx)("div",{className:"option-content",children:(0,Xo.jsx)("div",{className:"option-label",children:e.label})})]},e.value)))}),(0,Xo.jsx)("div",{className:"multiple-hint",children:'\ud83d\udca1 Puoi selezionare pi\xf9 opzioni (tranne "Nessuno")'})]})}const ms=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(0),[a,o]=(0,e.useState)({});(0,e.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[i]);const l=us[i],c=i===us.length-1,u=(e,t)=>{const i=s(s({},a),{},{[e]:t});o(i),n({type:"SET_ASSESSMENT_ANSWER",payload:{questionId:e,answer:t}})},d=void 0!==a[l.id];return(0,Xo.jsx)("div",{className:"assessment-screen fade-in",children:(0,Xo.jsxs)("div",{className:"card card-large",children:[(0,Xo.jsxs)("div",{className:"assessment-header",children:["          ",(0,Xo.jsx)("h2",{children:l.title}),(0,Xo.jsx)("p",{className:"question-subtitle",children:l.subtitle})]}),"                                       ",(0,Xo.jsxs)("div",{className:"question-content",children:["scale"===l.type&&(0,Xo.jsx)(ps,{question:l,value:a[l.id],onChange:e=>u(l.id,e)}),"multiple"===l.type&&(0,Xo.jsx)(hs,{question:l,value:a[l.id]||[],onChange:e=>u(l.id,e)})]}),(0,Xo.jsx)("div",{className:"assessment-actions",children:(0,Xo.jsxs)("div",{className:"action-buttons",children:[i>0&&(0,Xo.jsx)(ss,{variant:"secondary",onClick:()=>{i>0&&r((e=>e-1))},children:"\u2190 Precedente"}),(0,Xo.jsx)("div",{className:"spacer"}),(0,Xo.jsx)(ss,{variant:"primary",onClick:()=>{c?(n({type:"CALCULATE_READINESS_SCORE"}),n({type:"SET_STEP",payload:"score"})):r((e=>e+1))},disabled:!d,size:"large",children:c?"Calcola il mio Punteggio! \ud83c\udfaf":"Prossima \u2192"})]})})]})})};function fs(t){let{title:n,score:i,description:r}=t;const[a,o]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{setTimeout((()=>o(!0)),800)}),[]),(0,Xo.jsxs)("div",{className:"competency-item",children:[(0,Xo.jsxs)("div",{className:"competency-header",children:[(0,Xo.jsx)("span",{className:"competency-title",children:n}),(0,Xo.jsxs)("span",{className:"competency-score",children:[i,"%"]})]}),(0,Xo.jsx)("div",{className:"competency-bar",children:(0,Xo.jsx)("div",{className:"competency-fill",style:{width:a?"".concat(i,"%"):"0%",backgroundColor:ys(i)}})}),(0,Xo.jsx)("div",{className:"competency-description",children:r})]})}function gs(e){let{icon:t,title:n,content:i}=e;return(0,Xo.jsxs)("div",{className:"insight-card",children:[(0,Xo.jsx)("div",{className:"insight-icon",children:t}),(0,Xo.jsxs)("div",{className:"insight-content",children:[(0,Xo.jsx)("h4",{children:n}),(0,Xo.jsx)("p",{children:i})]})]})}function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e[t];if(!i)return 0;if(Array.isArray(i)){const e=2*i.length;return Math.min(100,e/8*100)}return(n?6-i:i)/5*100}function ys(e){return e>=80?"#38a169":e>=60?"#3182ce":e>=40?"#ed8936":"#f56565"}function bs(e,t){const n=t.role||"";return e.level.includes("Principiante")?"Come ".concat(n,", inizia con ChatGPT gratuito per email e comunicazioni semplici. Dedica 30 minuti al giorno per familiarizzare."):e.level.includes("Cauto")?"\xc8 il momento di integrare l'IA nel tuo workflow settimanale. Prova prompt strutturati per verbali e analisi documenti.":e.level.includes("Strategico")?"Passa a strumenti premium e sperimenta con automazioni. Considera di diventare il referente IA del tuo studio.":e.level.includes("Avanzato")?"Focus su casi d'uso complessi e mentoring. Sviluppa competenze in ambiti specialistici come analisi predittiva.":"Considera sviluppo di soluzioni proprietarie e thought leadership nel settore. Il mercato ha bisogno di innovatori come te."}function _s(e){const t=e.prompt_skills||1;return t<=2?"Impara il framework RACE per prompt strutturati. Risultati migliori in 5 minuti.":t<=3?"Sperimenta con ruoli specifici nei prompt: 'Sei un amministratore esperto...'":"Testa tecniche avanzate come chain-of-thought per problemi complessi."}function Cs(e){const t=e.tech_comfort||1,n=e.concerns||[];return n.includes("legal")?"Priorit\xe0 su aspetti normativi: GDPR, AI Act e responsabilit\xe0 professionali.":t<=2?"Focus su basics e hands-on practice. Approccio graduale e supportato.":n.includes("accuracy")?"Tecniche di validazione output e prompt engineering per maggiore precisione.":"Competenze avanzate in automazione e integrazione con tools esistenti."}const Ss=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(!1),[a,o]=(0,e.useState)(0),s=t.userProfile.readinessScore||0,l=ds.find((e=>s>=e.min&&s<=e.max))||ds[0];return(0,e.useEffect)((()=>{setTimeout((()=>r(!0)),500);let e=0;const t=s/30,n=setInterval((()=>{e+=t,e>=s?(o(s),clearInterval(n)):o(Math.floor(e))}),50);return()=>clearInterval(n)}),[s]),(0,Xo.jsx)("div",{className:"readiness-score-screen fade-in",children:(0,Xo.jsxs)("div",{className:"card card-large",children:[(0,Xo.jsxs)("div",{className:"score-header",children:[(0,Xo.jsx)("div",{className:"celebration-icon",children:"\ud83c\udfaf"}),(0,Xo.jsx)("h1",{children:"Il Tuo Punteggio IA Readiness"}),(0,Xo.jsx)("p",{className:"score-subtitle",children:"Abbiamo analizzato le tue risposte e calcolato il tuo livello di preparazione all'IA"})]}),(0,Xo.jsxs)("div",{className:"score-display",children:[(0,Xo.jsxs)("div",{className:"score-circle-container",children:[(0,Xo.jsxs)("svg",{className:"score-circle",viewBox:"0 0 200 200",children:[(0,Xo.jsx)("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#e2e8f0",strokeWidth:"12"}),(0,Xo.jsx)("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:l.color,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*80),strokeDashoffset:"".concat(i?2*Math.PI*80*(1-s/100):2*Math.PI*80),className:"score-progress",style:{transition:"stroke-dashoffset 2s ease-in-out",transform:"rotate(-90deg)",transformOrigin:"100px 100px"}})]}),(0,Xo.jsxs)("div",{className:"score-content",children:[(0,Xo.jsx)("div",{className:"score-number",children:a}),(0,Xo.jsx)("div",{className:"score-label",children:"/ 100"})]})]}),(0,Xo.jsxs)("div",{className:"level-info",children:[(0,Xo.jsx)("div",{className:"level-badge",style:{backgroundColor:l.color},children:l.level}),(0,Xo.jsx)("p",{className:"level-description",children:l.description})]})]}),(0,Xo.jsxs)("div",{className:"competency-breakdown",children:[(0,Xo.jsx)("h3",{children:"Analisi delle tue competenze"}),(0,Xo.jsxs)("div",{className:"breakdown-grid",children:[(0,Xo.jsx)(fs,{title:"Esperienza IA",score:vs(t.assessmentAnswers,"ai_usage"),description:"Uso pratico degli strumenti"}),(0,Xo.jsx)(fs,{title:"Conoscenza Strumenti",score:vs(t.assessmentAnswers,"tools_familiarity"),description:"Familiarit\xe0 con piattaforme IA"}),(0,Xo.jsx)(fs,{title:"Prompt Skills",score:vs(t.assessmentAnswers,"prompt_skills"),description:"Capacit\xe0 di dialogare con IA"}),(0,Xo.jsx)(fs,{title:"Visione Business",score:vs(t.assessmentAnswers,"business_goals"),description:"Obiettivi strategici chiari"}),(0,Xo.jsx)(fs,{title:"Comfort Tech",score:vs(t.assessmentAnswers,"tech_comfort"),description:"Apertura alle innovazioni"}),(0,Xo.jsx)(fs,{title:"Gestione Rischi",score:vs(t.assessmentAnswers,"concerns",!0),description:"Consapevolezza e preparazione"})]})]}),(0,Xo.jsxs)("div",{className:"recommendations",children:[(0,Xo.jsx)("h3",{children:"\ud83c\udfaf Le tue raccomandazioni personalizzate"}),(0,Xo.jsx)("div",{className:"recommendations-list",children:l.recommendations.map(((e,t)=>(0,Xo.jsxs)("div",{className:"recommendation-item",children:[(0,Xo.jsx)("div",{className:"recommendation-icon",children:"\u2713"}),(0,Xo.jsx)("span",{children:e})]},t)))})]}),(0,Xo.jsxs)("div",{className:"personal-insights",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udca1 Insight personalizzati"}),(0,Xo.jsxs)("div",{className:"insights-grid",children:[(0,Xo.jsx)(gs,{icon:"\ud83d\ude80",title:"Il tuo prossimo step",content:bs(l,t.userProfile)}),(0,Xo.jsx)(gs,{icon:"\u26a1",title:"Quick Win",content:_s(t.assessmentAnswers)}),(0,Xo.jsx)(gs,{icon:"\ud83c\udf93",title:"Focus formativo",content:Cs(t.assessmentAnswers)})]})]}),(0,Xo.jsx)("div",{className:"score-actions",children:(0,Xo.jsxs)("div",{className:"action-buttons",children:[(0,Xo.jsx)(ss,{variant:"outline",onClick:()=>{n({type:"SET_STEP",payload:"assessment"})},children:"\ud83d\udd04 Rifai Assessment"}),(0,Xo.jsx)(ss,{variant:"primary",size:"large",onClick:()=>{n({type:"SET_STEP",payload:"buddy"})},children:"Continua il Setup \ud83e\udd1d"})]})})]})})};function xs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[{name:"Laura Verdi",role:"Amministratore Senior",avatar:"\ud83d\udc69\u200d\ud83d\udcbc",description:"15 anni di esperienza, appassionata di innovazione tecnologica",compatibility:92,commonTraits:["Stesso livello di esperienza IA","Focus su efficienza operativa","Interesse per automazione"],goals:"Integrare IA per ridurre tempo amministrativo e migliorare servizio clienti"},{name:"Marco Bianchi",role:"Amministratore Junior",avatar:"\ud83d\udc68\u200d\ud83d\udcbc",description:"5 anni di esperienza, curioso delle nuove tecnologie",compatibility:87,commonTraits:["Approccio cauto ma interessato","Focus su apprendimento graduale","Attenzione agli aspetti legali"],goals:"Acquisire competenze IA per crescita professionale e competitivit\xe0"},{name:"Anna Rossi",role:"Collaboratore Studio",avatar:"\ud83d\udc69\u200d\ud83d\udcbb",description:"Giovane professionista, entusiasta dell'innovazione",compatibility:89,commonTraits:["Early adopter di tecnologie","Interesse per prompt engineering","Visione strategica del business"],goals:"Diventare esperta IA per supportare team e clienti pi\xf9 efficacemente"},{name:"Giuseppe Neri",role:"Amministratore Senior",avatar:"\ud83d\udc68\u200d\ud83c\udf93",description:"20 anni di esperienza, leader nell'innovazione settoriale",compatibility:94,commonTraits:["Visione strategica avanzata","Competenze tecniche solide","Focus su competitive advantage"],goals:"Sviluppare thought leadership e soluzioni IA proprietarie"},{name:"Francesca Blu",role:"Neo Amministratore",avatar:"\ud83d\udc69\u200d\ud83c\udf93",description:"Appena entrata nel settore, molto motivata ad apprendere",compatibility:85,commonTraits:["Motivazione alta all'apprendimento","Approccio strutturato","Interesse per best practice"],goals:"Costruire solide fondamenta IA per iniziare al meglio la carriera"}],r=e.experience||"beginner";e.role;let a=i;return a="beginner"===r||"basic"===r?i.filter((e=>e.name.includes("Marco")||e.name.includes("Francesca")||e.name.includes("Anna"))):"intermediate"===r?i.filter((e=>e.name.includes("Laura")||e.name.includes("Anna")||e.name.includes("Marco"))):i.filter((e=>e.name.includes("Giuseppe")||e.name.includes("Laura"))),n&&a.length>1&&(a=a.slice(1)),a[Math.floor(Math.random()*a.length)]||i[0]}const ws=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(!1),[a,o]=(0,e.useState)(!1),[s,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=setTimeout((()=>{r(!0),setTimeout((()=>{const e=xs(t.userProfile,t.assessmentAnswers);l(e),o(!0),r(!1),n({type:"SET_BUDDY",payload:e})}),3e3)}),1e3);return()=>clearTimeout(e)}),[t.userProfile,t.assessmentAnswers,n]),(0,Xo.jsx)("div",{className:"buddy-matching-screen fade-in",children:(0,Xo.jsxs)("div",{className:"card card-large",children:[(0,Xo.jsxs)("div",{className:"buddy-header",children:[(0,Xo.jsx)("div",{className:"buddy-icon",children:"\ud83e\udd1d"}),(0,Xo.jsx)("h1",{children:"Trova il tuo Accountability Partner"}),(0,Xo.jsx)("p",{className:"buddy-subtitle",children:"Stiamo cercando il compagno perfetto per il tuo percorso IA! Un partner con obiettivi simili pu\xf2 aumentare del 65% la probabilit\xe0 di successo."})]}),i&&!a&&(0,Xo.jsxs)("div",{className:"matching-process",children:[(0,Xo.jsx)("div",{className:"matching-animation",children:(0,Xo.jsxs)("div",{className:"search-circle",children:[(0,Xo.jsx)("div",{className:"search-dot"}),(0,Xo.jsx)("div",{className:"search-dot"}),(0,Xo.jsx)("div",{className:"search-dot"})]})}),(0,Xo.jsx)("h3",{children:"\ud83d\udd0d Ricerca in corso..."}),(0,Xo.jsx)("p",{children:"Stiamo analizzando profili compatibili con le tue competenze e obiettivi"}),(0,Xo.jsxs)("div",{className:"matching-criteria",children:[(0,Xo.jsxs)("div",{className:"criteria-item",children:[(0,Xo.jsx)("span",{className:"criteria-icon",children:"\ud83c\udfaf"}),(0,Xo.jsx)("span",{children:"Livello di esperienza simile"})]}),(0,Xo.jsxs)("div",{className:"criteria-item",children:[(0,Xo.jsx)("span",{className:"criteria-icon",children:"\ud83c\udfe2"}),(0,Xo.jsx)("span",{children:"Ruolo professionale compatibile"})]}),(0,Xo.jsxs)("div",{className:"criteria-item",children:[(0,Xo.jsx)("span",{className:"criteria-icon",children:"\ud83d\udcda"}),(0,Xo.jsx)("span",{children:"Obiettivi di apprendimento allineati"})]})]})]}),a&&s&&(0,Xo.jsxs)("div",{className:"buddy-result",children:[(0,Xo.jsx)("div",{className:"match-celebration",children:(0,Xo.jsx)("div",{className:"celebration-stars",children:"\u2728 MATCH PERFETTO! \u2728"})}),(0,Xo.jsxs)("div",{className:"buddy-card",children:[(0,Xo.jsxs)("div",{className:"buddy-avatar",children:[(0,Xo.jsx)("span",{className:"avatar-icon",children:s.avatar}),(0,Xo.jsxs)("div",{className:"compatibility-badge",children:[s.compatibility,"% compatibile"]})]}),(0,Xo.jsxs)("div",{className:"buddy-info",children:[(0,Xo.jsx)("h3",{children:s.name}),(0,Xo.jsx)("p",{className:"buddy-role",children:s.role}),(0,Xo.jsx)("p",{className:"buddy-description",children:s.description}),(0,Xo.jsxs)("div",{className:"compatibility-details",children:[(0,Xo.jsx)("h4",{children:"\ud83c\udfaf Cosa vi accomuna:"}),(0,Xo.jsx)("div",{className:"common-traits",children:s.commonTraits.map(((e,t)=>(0,Xo.jsxs)("div",{className:"trait-item",children:[(0,Xo.jsx)("span",{className:"trait-icon",children:"\u2713"}),(0,Xo.jsx)("span",{children:e})]},t)))})]}),(0,Xo.jsxs)("div",{className:"buddy-goals",children:[(0,Xo.jsx)("h4",{children:"\ud83d\ude80 I suoi obiettivi:"}),(0,Xo.jsxs)("p",{children:['"',s.goals,'"']})]})]})]}),(0,Xo.jsxs)("div",{className:"partnership-benefits",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udca1 Come il vostro partnership vi aiuter\xe0:"}),(0,Xo.jsxs)("div",{className:"benefits-grid",children:[(0,Xo.jsxs)("div",{className:"benefit-item",children:[(0,Xo.jsx)("span",{className:"benefit-icon",children:"\ud83d\udcc5"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Check-in settimanali"}),(0,Xo.jsx)("p",{children:"Condividete progressi e sfide"})]})]}),(0,Xo.jsxs)("div",{className:"benefit-item",children:[(0,Xo.jsx)("span",{className:"benefit-icon",children:"\ud83c\udf93"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Apprendimento reciproco"}),(0,Xo.jsx)("p",{children:"Scambiate trucchi e soluzioni"})]})]}),(0,Xo.jsxs)("div",{className:"benefit-item",children:[(0,Xo.jsx)("span",{className:"benefit-icon",children:"\ud83c\udfc6"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Motivazione costante"}),(0,Xo.jsx)("p",{children:"Celebrate insieme i successi"})]})]})]})]})]}),(0,Xo.jsx)("div",{className:"buddy-actions",children:a?(0,Xo.jsxs)("div",{className:"match-actions",children:[(0,Xo.jsx)(ss,{variant:"outline",onClick:()=>{o(!1),r(!0),setTimeout((()=>{const e=xs(t.userProfile,t.assessmentAnswers,!0);l(e),o(!0),r(!1),n({type:"SET_BUDDY",payload:e})}),2e3)},children:"\ud83d\udd04 Cerca un altro partner"}),(0,Xo.jsx)(ss,{variant:"primary",size:"large",onClick:()=>{n({type:"COMPLETE_ONBOARDING"})},children:"Perfetto! Iniziamo il Seminario \ud83d\ude80"})]}):(0,Xo.jsx)("div",{className:"waiting-actions",children:(0,Xo.jsx)(ss,{variant:"outline",onClick:()=>{n({type:"COMPLETE_ONBOARDING"})},children:"\u23ed\ufe0f Salta per ora"})})})]})})};const Ns=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(t.hasVoted);if((0,e.useEffect)((()=>{t.activePoll?o(t.hasVoted):(r(null),o(!1))}),[t.activePoll,t.hasVoted]),!t.activePoll)return null;if(t.facilitatorMode)return null;const s=()=>{r(null),o(!1),n({type:"END_POLL"})};return(0,Xo.jsx)("div",{className:"poll-overlay",children:(0,Xo.jsxs)("div",{className:"poll-container",children:[(0,Xo.jsxs)("div",{className:"poll-header",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcca Poll Live"}),(0,Xo.jsxs)("div",{className:"poll-header-actions",children:[(0,Xo.jsx)("div",{className:"connection-status",children:t.isConnected?(0,Xo.jsx)("span",{className:"connected",children:"\ud83d\udfe2 Connesso"}):(0,Xo.jsx)("span",{className:"disconnected",children:"\ud83d\udfe1 Locale"})}),(0,Xo.jsx)("button",{className:"poll-close-btn",onClick:s,children:"\xd7"})]})]}),(0,Xo.jsx)("div",{className:"poll-question",children:(0,Xo.jsx)("h4",{children:t.activePoll.question})}),a||t.hasVoted?(0,Xo.jsxs)("div",{className:"poll-submitted",children:[(0,Xo.jsx)("span",{className:"submitted-icon",children:"\u2705"}),(0,Xo.jsx)("span",{className:"submitted-text",children:"Risposta inviata!"})]}):(0,Xo.jsxs)("div",{className:"poll-options",children:[(0,Xo.jsxs)("button",{className:"poll-option ".concat("yes"===i?"selected":""),onClick:()=>r("yes"),children:[(0,Xo.jsx)("span",{className:"option-icon",children:"\u2705"}),(0,Xo.jsx)("span",{className:"option-text",children:"S\xec"})]}),(0,Xo.jsxs)("button",{className:"poll-option ".concat("no"===i?"selected":""),onClick:()=>r("no"),children:[(0,Xo.jsx)("span",{className:"option-icon",children:"\u274c"}),(0,Xo.jsx)("span",{className:"option-text",children:"No"})]})]}),!a&&!t.hasVoted&&i&&(0,Xo.jsx)("div",{className:"poll-actions",children:(0,Xo.jsx)("button",{className:"btn-primary poll-submit-btn",onClick:async()=>{if(null!==i&&!a&&!t.hasVoted)try{t.sessionId&&t.isConnected?await $o.votePoll(t.sessionId,i):n({type:"SUBMIT_POLL_RESPONSE",payload:i}),n({type:"SET_HAS_VOTED"}),o(!0)}catch(Lt){console.error("Error voting:",Lt),n({type:"SUBMIT_POLL_RESPONSE",payload:i}),n({type:"SET_HAS_VOTED"}),o(!0)}},children:"\u2728 Invia Risposta"})}),a&&(0,Xo.jsxs)("div",{className:"poll-results",children:[(0,Xo.jsx)("h5",{children:"\ud83d\udcc8 Risultati:"}),(0,Xo.jsxs)("div",{className:"results-display",children:[(0,Xo.jsx)("div",{className:"result-item",children:(0,Xo.jsxs)("span",{children:["\u2705 S\xec: ",t.pollResults.yes||0]})}),(0,Xo.jsx)("div",{className:"result-item",children:(0,Xo.jsxs)("span",{children:["\u274c No: ",t.pollResults.no||0]})})]}),(0,Xo.jsx)("div",{className:"poll-actions",children:(0,Xo.jsx)("button",{className:"btn-secondary",onClick:s,children:"\ud83d\udeaa Chiudi Poll"})})]})]})})},Is={NODE_ENV:"production",PUBLIC_URL:"/ia-confronto",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_OPENAI_API_KEY;const Es=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(!1),[s,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,p]=(0,e.useState)(null),h=t.workshopData.raceBuilder,m=(e,t)=>{n({type:"UPDATE_WORKSHOP_DATA",payload:{workshop:"raceBuilder",data:{[e]:t}}})},f=()=>{const{ruolo:e,azione:t,contesto:n,esempio:i}=h;return e&&t&&n&&i?"**RUOLO**: ".concat(e,"\n\n**AZIONE**: ").concat(t,"\n\n**CONTESTO**: ").concat(n,"\n\n**ESEMPIO/FORMATO**: ").concat(i):""},g=e=>{let t=0,n=[];const{ruolo:i,azione:r,contesto:a,esempio:o}=e;return i.length>20&&(t+=25),(i.includes("esperto")||i.includes("specializzato")||i.includes("anni"))&&(t+=15,n.push("Ruolo specifico")),r.length>30&&(t+=25),(r.includes("dettagliat")||r.includes("completo")||r.includes("professional"))&&(t+=10,n.push("Azione dettagliata")),a.length>50&&(t+=25),a.match(/\d+/)&&(t+=10,n.push("Dati specifici")),o.length>30&&(t+=25),(o.includes("formato")||o.includes("struttura")||o.includes("tono"))&&(t+=10,n.push("Formato specifico")),{score:Math.min(100,t),factors:n}},v=e=>{const t=e.toLowerCase(),n={lavori:{keywords:["lavori","manutenzione","ristrutturazione","cantiere","impermeabilizzazione","rifacimento","interventi"],weight:0},comunicazione:{keywords:["comunicazione","lettera","avviso","informare","comunicare","notificare"],weight:0},assemblea:{keywords:["assemblea","verbale","riunione","delibera","votazione","bilancio"],weight:0},preventivi:{keywords:["preventivo","preventivi","offerta","confronto","analisi","valutazione"],weight:0},conflitti:{keywords:["conflitto","disputa","mediazione","problema","risoluzione","tensioni"],weight:0},amministrativo:{keywords:["amministratore","condominio","cond\xf2mini","gestione","proprietari"],weight:0}};Object.keys(n).forEach((e=>{n[e].keywords.forEach((i=>{t.includes(i)&&(n[e].weight+=i.length>6?2:1)}))}));return{dominantTopic:Object.keys(n).reduce(((e,t)=>n[e].weight>n[t].weight?e:t)),allTopics:n}},y=e=>{const{ruolo:t,azione:n,contesto:i,esempio:r}=e,a="".concat(t," ").concat(n," ").concat(i," ").concat(r),o=g(e),s=v(a),l=[];return l.push({version:"Esperienza Professionale",priority:o.score<50?"alta":"media",ruolo:b(t,s.dominantTopic),azione:S(n,s.dominantTopic),contesto:N(i,s.dominantTopic),esempio:k(r,s.dominantTopic)}),l.push({version:"Metodologia Strutturata",priority:o.factors.includes("Azione dettagliata")?"media":"alta",ruolo:_(t,s.dominantTopic),azione:x(n,s.dominantTopic),contesto:I(i,s.dominantTopic),esempio:z(r,s.dominantTopic)}),o.score>60&&l.push({version:"Personalizzazione Avanzata",priority:"media",ruolo:C(t,s.dominantTopic),azione:w(n,s.dominantTopic),contesto:E(i,s.dominantTopic),esempio:T(r,s.dominantTopic)}),{improvements:l,qualityAnalysis:o,topicAnalysis:s}},b=(e,t)=>{const n={lavori:"con 15+ anni di esperienza nella gestione di cantieri condominiali e coordinamento lavori straordinari",comunicazione:"con expertise in comunicazione istituzionale e gestione relazioni condominiali da oltre 12 anni",assemblea:"specializzato in governance condominiale e facilitazione assembleare con certificazione professionale",preventivi:"con competenze in valutazione tecnico-economica e due decenni di esperienza nel settore edilizio",conflitti:"formato in mediazione e risoluzione conflitti, con specializzazione in dinamiche condominiali",amministrativo:"con qualifica professionale ANACI e esperienza pluriennale in amministrazione immobiliare"},i=e.replace(/^sei un/i,"").replace(/^sei una/i,"").trim();return"Sei un ".concat(i," ").concat(n[t]||n.amministrativo)},_=(e,t)=>{const n={lavori:"che applica metodologie di project management e protocolli di sicurezza avanzati",comunicazione:"che utilizza principi di comunicazione strategica e tecniche di engagement",assemblea:"che segue framework strutturati per la governance partecipativa",preventivi:"che applica criteri di valutazione multi-dimensionale e analisi costi-benefici",conflitti:"che utilizza tecniche di mediazione professionale e comunicazione non violenta"};return"".concat(e,", ").concat(n[t]||n.amministrativo)},C=(e,t)=>"".concat(e,", ").concat({lavori:"specializzato in innovazione tecnologica e sostenibilit\xe0 edilizia",comunicazione:"con expertise in digital communication e stakeholder engagement",assemblea:"certificato in facilitazione partecipativa e decision-making collettivo",preventivi:"con competenze in due diligence tecnica e risk assessment",conflitti:"specializzato in psicologia sociale e dinamiche di gruppo"}[t]||"con approccio innovativo e orientamento ai risultati"),S=(e,t)=>{const n={lavori:"utilizzando un approccio sistematico che integri pianificazione, comunicazione proattiva e gestione del rischio",comunicazione:"applicando principi di chiarezza, trasparenza e orientamento all'azione per massimizzare l'engagement",assemblea:"seguendo una metodologia strutturata che garantisca completezza, accuratezza e actionable insights",preventivi:"implementando un framework di valutazione multi-criterio che consideri tutti i fattori rilevanti",conflitti:"attraverso un processo strutturato di mediazione che promuova soluzioni win-win e sostenibili"};return"".concat(e,", ").concat(n[t]||n.lavori)},x=(e,t)=>"".concat(e,", ").concat({lavori:"seguendo un processo in 5 fasi: analisi preliminare, pianificazione dettagliata, comunicazione preventiva, monitoraggio execution, follow-up post-lavori",comunicazione:"strutturando il messaggio secondo il framework AIDA (Attention, Interest, Desire, Action) con personalizzazione per target specifici",assemblea:"organizzando il contenuto in sezioni logiche con executive summary, dettagli operativi e piano d'azione immediato",preventivi:"sviluppando un'analisi comparativa strutturata con scoring matrix, risk assessment e raccomandazioni prioritizzate"}[t]||"con approccio metodico e orientato ai risultati"),w=(e,t)=>"".concat(e,", personalizzando il contenuto per le specificit\xe0 del contesto e adattando il linguaggio al target di riferimento, con particolare attenzione agli aspetti psicologici e relazionali"),N=(e,t)=>{const n={lavori:". Include timeline dettagliata con milestone, budget approvato con breakdown costi, impatto previsto sui residenti, misure di mitigazione disagi, protocolli di sicurezza",comunicazione:". Considera target audience eterogeneo (et\xe0, competenze digitali, sensibilit\xe0), canali di distribuzione multipli, timing strategico per massimo impatto",assemblea:". Partecipazione: X/Y proprietari presenti, procure valide, quorum raggiunto. Decisioni con impatto economico e temporale significativo per la comunit\xe0"};return"".concat(e).concat(n[t]||n.lavori)},I=(e,t)=>"".concat(e,". Vincoli operativi: normative vigenti, budget approvato, tempistiche stringenti, necessit\xe0 di consenso, gestione aspettative multiple stakeholder"),E=(e,t)=>"".concat(e,". Scenario caratterizzato da dinamiche complesse, necessit\xe0 di bilanciare interessi diversi, opportunit\xe0 di creazione valore a lungo termine per la comunit\xe0 condominiale"),k=(e,t)=>{const n={lavori:". Struttura: header con info essenziali, timeline visuale, sezione FAQ proattiva, contatti emergenza 24/7, disclaimer responsabilit\xe0",comunicazione:". Formato: apertura empatica, corpo strutturato in bullet points, call-to-action chiara, sezione contatti, follow-up programmato",assemblea:". Layout: executive summary (1 pagina), dettagli per sezione, tabelle riepilogative, action items con owner e deadline"};return"".concat(e).concat(n[t]||n.lavori)},z=(e,t)=>"".concat(e,". Architettura del documento: introduzione coinvolgente, sviluppo logico-sequenziale, evidenziazione punti chiave, conclusione con next steps concreti"),T=(e,t)=>"".concat(e,". Personalizzazione: tone of voice adattato al target, esempi concreti e relatable, linguaggio accessibile ma professionale, considerazione aspetti emotivi"),A=()=>{const e=Object.values(h).filter((e=>e));return Math.round(e.length/4*100)},P=e=>e>=80?"#059669":e>=60?"#d97706":e>=40?"#dc2626":"#6b7280";if(!t.activeWorkshop||"race-builder"!==t.activeWorkshop)return null;const j=g(h);return(0,Xo.jsx)("div",{className:"workshop-overlay",children:(0,Xo.jsxs)("div",{className:"workshop-container",children:[(0,Xo.jsxs)("div",{className:"workshop-header",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h2",{children:"\ud83c\udfaf Workshop: Framework RACE"}),(0,Xo.jsx)("p",{children:"Costruisci prompt professionali con IA avanzata"})]}),(0,Xo.jsx)("button",{onClick:()=>{n({type:"CLOSE_WORKSHOP"})},className:"workshop-close",children:"\u2715"})]}),(0,Xo.jsxs)("div",{className:"workshop-content",children:[(0,Xo.jsxs)("div",{className:"workshop-left",children:[(0,Xo.jsxs)("div",{className:"race-framework-info",children:[(0,Xo.jsx)("h3",{children:"\ud83c\udfd7\ufe0f Framework RACE"}),(0,Xo.jsxs)("div",{className:"race-grid",children:[(0,Xo.jsxs)("div",{className:"race-item",children:[(0,Xo.jsx)("div",{className:"race-letter",children:"R"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"RUOLO"}),(0,Xo.jsx)("p",{children:"Chi deve essere l'IA"})]})]}),(0,Xo.jsxs)("div",{className:"race-item",children:[(0,Xo.jsx)("div",{className:"race-letter",children:"A"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"AZIONE"}),(0,Xo.jsx)("p",{children:"Cosa deve fare"})]})]}),(0,Xo.jsxs)("div",{className:"race-item",children:[(0,Xo.jsx)("div",{className:"race-letter",children:"C"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"CONTESTO"}),(0,Xo.jsx)("p",{children:"Situazione specifica"})]})]}),(0,Xo.jsxs)("div",{className:"race-item",children:[(0,Xo.jsx)("div",{className:"race-letter",children:"E"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"ESEMPIO"}),(0,Xo.jsx)("p",{children:"Formato desiderato"})]})]})]})]}),(0,Xo.jsxs)("div",{className:"template-section",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcda Template Predefiniti"}),(0,Xo.jsx)("div",{className:"template-list",children:[{id:"comunicazione-lavori",title:"Comunicazione Lavori Straordinari",scenario:"Informare i cond\xf2mini sui lavori di impermeabilizzazione terrazzo",ruolo:"Sei un amministratore di condominio esperto e professionale",azione:"Redigi una comunicazione formale per informare i cond\xf2mini sui lavori straordinari",contesto:"Lavori di impermeabilizzazione del terrazzo di copertura, preventivo approvato in assemblea, inizio lavori luned\xec prossimo, durata stimata 2 settimane",esempio:"Tono professionale ma rassicurante, includi tempistiche precise, contatti di emergenza e misure per ridurre i disagi"},{id:"verbale-assemblea",title:"Riassunto Verbale Assemblea",scenario:"Riassumere i punti salienti di un verbale lungo e complesso",ruolo:"Sei un assistente amministrativo specializzato in documentazione condominiale",azione:"Crea un riassunto esecutivo del verbale di assemblea",contesto:"Assemblea ordinaria con 15 punti all'ordine del giorno, discussioni su manutenzioni, bilancio preventivo e modifiche regolamento",esempio:"Formato bullet points, evidenzia delibere approvate, voti contrari/astenuti, prossime scadenze"},{id:"analisi-preventivi",title:"Analisi Preventivi Comparativa",scenario:"Confrontare pi\xf9 preventivi per lavori di manutenzione",ruolo:"Sei un consulente tecnico specializzato in valutazione preventivi edilizi",azione:"Analizza e confronta i preventivi forniti evidenziando pro, contro e raccomandazioni",contesto:"Tre preventivi per rifacimento facciata, prezzi da \u20ac45.000 a \u20ac62.000, tempistiche e materiali diversi",esempio:"Tabella comparativa, rapporto qualit\xe0-prezzo, fattori di rischio, raccomandazione motivata"},{id:"gestione-conflitti",title:"Mediazione Conflitti Condominiali",scenario:"Gestire una disputa tra cond\xf2mini",ruolo:"Sei un mediatore esperto in conflitti condominiali",azione:"Proponi una strategia di mediazione e una comunicazione per risolvere il conflitto",contesto:"Disputa su rumori molesti tra piano terra e primo piano, lamentele reciproche, tensioni in aumento",esempio:"Approccio diplomatico, soluzioni pratiche, regole chiare, coinvolgimento di terze parti se necessario"}].map((e=>(0,Xo.jsxs)("button",{onClick:()=>(e=>{r(e),m("ruolo",e.ruolo),m("azione",e.azione),m("contesto",e.contesto),m("esempio",e.esempio)})(e),className:"template-card ".concat((null===i||void 0===i?void 0:i.id)===e.id?"selected":""),children:[(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.scenario})]},e.id)))})]}),(0,Xo.jsxs)("div",{className:"builder-section",children:[(0,Xo.jsx)("h3",{children:"\u26a1 Prompt Builder"}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{children:"R - RUOLO"}),(0,Xo.jsx)("textarea",{value:h.ruolo,onChange:e=>m("ruolo",e.target.value),placeholder:"es. Sei un amministratore esperto...",rows:"2"})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{children:"A - AZIONE"}),(0,Xo.jsx)("textarea",{value:h.azione,onChange:e=>m("azione",e.target.value),placeholder:"es. Redigi una comunicazione...",rows:"2"})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{children:"C - CONTESTO"}),(0,Xo.jsx)("textarea",{value:h.contesto,onChange:e=>m("contesto",e.target.value),placeholder:"es. Lavori impermeabilizzazione...",rows:"3"})]}),(0,Xo.jsxs)("div",{className:"form-group",children:[(0,Xo.jsx)("label",{children:"E - ESEMPIO"}),(0,Xo.jsx)("textarea",{value:h.esempio,onChange:e=>m("esempio",e.target.value),placeholder:"es. Tono professionale...",rows:"2"})]})]})]}),(0,Xo.jsxs)("div",{className:"workshop-right",children:[(0,Xo.jsxs)("div",{className:"preview-section",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udc41\ufe0f Anteprima Live"}),c?(0,Xo.jsxs)("div",{className:"comparison-view",children:[(0,Xo.jsxs)("div",{className:"original-prompt",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcdd Versione Originale:"}),(0,Xo.jsx)("pre",{children:f()})]}),(0,Xo.jsxs)("div",{className:"improved-prompt",children:[(0,Xo.jsx)("h4",{children:"\ud83e\udd16 Migliorato con IA:"}),(0,Xo.jsx)("pre",{children:s})]}),d&&(0,Xo.jsxs)("div",{className:"improvement-stats",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcca Analisi Miglioramento:"}),(0,Xo.jsxs)("div",{className:"stats-grid",children:[(0,Xo.jsxs)("div",{className:"stat-item",children:[(0,Xo.jsx)("strong",{children:"Qualit\xe0 originale:"}),(0,Xo.jsxs)("span",{style:{color:P(d.originalQuality)},children:[d.originalQuality,"%"]})]}),(0,Xo.jsxs)("div",{className:"stat-item",children:[(0,Xo.jsx)("strong",{children:"Topic rilevato:"})," ",d.dominantTopic]}),(0,Xo.jsxs)("div",{className:"stat-item",children:[(0,Xo.jsx)("strong",{children:"Versione applicata:"})," ",d.selectedVersion]}),(0,Xo.jsxs)("div",{className:"stat-item",children:[(0,Xo.jsx)("strong",{children:"Tempo di elaborazione:"})," ",d.processingTime,"s"]})]})]})]}):(0,Xo.jsx)("div",{className:"prompt-preview",children:(0,Xo.jsx)("pre",{children:f()||"Il tuo prompt apparir\xe0 qui mentre scrivi..."})}),(0,Xo.jsx)("div",{className:"preview-actions",children:c?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("button",{onClick:()=>navigator.clipboard.writeText(s),className:"btn-copy",children:"\ud83d\udccb Copia Migliorato"}),(0,Xo.jsx)("button",{onClick:()=>u(!1),className:"btn-secondary",children:"\u2190 Torna al Builder"})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("button",{onClick:async()=>{o(!0);const e=3e3*Math.random()+1500;try{if(!Is)return void setTimeout((()=>{const t=y(h),n=t.improvements.find((e=>"alta"===e.priority))||t.improvements[0],i="**RUOLO**: ".concat(n.ruolo,"\n\n**AZIONE**: ").concat(n.azione,"\n\n**CONTESTO**: ").concat(n.contesto,"\n\n**ESEMPIO/FORMATO**: ").concat(n.esempio);l(i),p({originalQuality:t.qualityAnalysis.score,improvements:t.improvements.length,dominantTopic:t.topicAnalysis.dominantTopic,selectedVersion:n.version,processingTime:Math.round(e/1e3*10)/10}),u(!0),o(!1)}),e);const t=f(),n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Is)},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Sei un esperto di prompt engineering specializzato nel migliorare prompt per amministratori di condominio. Migliora il prompt seguendo il framework RACE (Ruolo, Azione, Contesto, Esempio) rendendo ogni sezione pi\xf9 specifica, dettagliata e professionale."},{role:"user",content:"Migliora questo prompt RACE per un amministratore di condominio: ".concat(t)}],max_tokens:1e3,temperature:.7})});if(!n.ok)throw new Error("Errore API OpenAI: ".concat(n.status));const i=(await n.json()).choices[0].message.content;l(i),p({originalQuality:g(h).score,improvements:1,dominantTopic:v("".concat(h.ruolo," ").concat(h.azione," ").concat(h.contesto," ").concat(h.esempio)).dominantTopic,selectedVersion:"OpenAI GPT-3.5-turbo",processingTime:Math.round(e/1e3*10)/10}),u(!0),o(!1)}catch(Lt){console.error("Errore API, uso simulazione avanzata:",Lt);const n=y(h),i=n.improvements[0],r="**RUOLO**: ".concat(i.ruolo,"\n\n**AZIONE**: ").concat(i.azione,"\n\n**CONTESTO**: ").concat(i.contesto,"\n\n**ESEMPIO/FORMATO**: ").concat(i.esempio);l(r),p({originalQuality:n.qualityAnalysis.score,improvements:n.improvements.length,dominantTopic:n.topicAnalysis.dominantTopic,selectedVersion:i.version,processingTime:Math.round(e/1e3*10)/10}),u(!0),o(!1)}},disabled:!f()||a,className:"btn-improve",children:a?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("span",{className:"spinner"}),"Elaborando..."]}):"\ud83e\udd16 Migliora con IA"}),(0,Xo.jsx)("button",{onClick:()=>{const e=f();navigator.clipboard.writeText(e).then((()=>{alert("Prompt copiato negli appunti!")}))},disabled:!f(),className:"btn-copy",children:"\ud83d\udccb Copia"})]})})]}),(0,Xo.jsxs)("div",{className:"quality-section",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcc8 Analisi Qualit\xe0 Prompt"}),(0,Xo.jsxs)("div",{className:"quality-score",children:[(0,Xo.jsx)("div",{className:"workshop-score-circle",children:(0,Xo.jsxs)("span",{className:"workshop-score-number",style:{color:P(j.score)},children:[j.score,"%"]})}),(0,Xo.jsx)("div",{className:"quality-factors",children:j.factors.length>0?j.factors.map(((e,t)=>(0,Xo.jsxs)("div",{className:"factor-item",children:["\u2713 ",e]},t))):(0,Xo.jsx)("div",{className:"factor-item",children:"\ud83d\udca1 Aggiungi pi\xf9 dettagli per migliorare"})})]})]}),(0,Xo.jsxs)("div",{className:"progress-section",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcca Completamento"}),(0,Xo.jsx)("div",{className:"progress-bar",children:(0,Xo.jsx)("div",{className:"workshop-progress-fill",style:{width:"".concat(A(),"%")}})}),(0,Xo.jsxs)("p",{children:[A(),"% completato"]}),(0,Xo.jsx)("div",{className:"progress-items",children:["ruolo","azione","contesto","esempio"].map((e=>(0,Xo.jsxs)("div",{className:"progress-item",children:[(0,Xo.jsx)("span",{className:"progress-dot ".concat(h[e]?"completed":"")}),(0,Xo.jsx)("span",{className:"field-name",children:e.toUpperCase()})]},e)))})]}),(0,Xo.jsxs)("div",{className:"tips-section",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udca1 Tips Avanzati"}),(0,Xo.jsxs)("div",{className:"tip-item",children:[(0,Xo.jsx)("strong",{children:"\ud83c\udfaf Specificity:"})," Pi\xf9 dettagli = risultati migliori"]}),(0,Xo.jsxs)("div",{className:"tip-item",children:[(0,Xo.jsx)("strong",{children:"\ud83d\udcca Data-Driven:"})," Includi numeri e metriche"]}),(0,Xo.jsxs)("div",{className:"tip-item",children:[(0,Xo.jsx)("strong",{children:"\ud83d\udd04 Iterative:"})," Testa e affina gradualmente"]}),(0,Xo.jsxs)("div",{className:"tip-item",children:[(0,Xo.jsx)("strong",{children:"\ud83e\udde0 Context-Aware:"})," L'IA adatta lo stile al topic"]})]}),(0,Xo.jsx)("button",{onClick:()=>{n({type:"RESET_WORKSHOP_DATA",payload:"raceBuilder"}),r(null),l(""),u(!1),p(null)},className:"btn-reset",children:"\ud83d\udd04 Reset Tutto"})]})]})]})})};const ks=function(){const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(null),[s,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)([]),[d,p]=(0,e.useState)(1),[h,m]=(0,e.useState)(""),f=(e,t)=>{var n;return(null===(n={"verbale-complesso":{"chain-of-thought":{quality:92,highlights:["Mappatura stakeholder completa","Analisi conflitti approfondita","Soluzioni step-by-step"],output:"**VERBALE ASSEMBLEA STRAORDINARIA - ANALISI STRUTTURATA**\n\n**STEP 1 - STAKEHOLDER ANALYSIS:**\n- Proprietari favorevoli: Verdi, Neri, Gialli (32%)\n- Fronte opposizione: Rossi (leader), Bianchi, Grigi (28%) \n- Indecisi/Astenuti: Blues, Viola (40%)\n\n**STEP 2 - FATTORI CRITICI:**\n- Budget limitato vs necessit\xe0 urgenti\n- Conflitto generazionale su investimenti\n- Pressione normativa efficienza energetica\n- Timeline serrato per incentivi statali\n\n**STEP 3 - SOLUZIONI GRADUATE:**\nOPZIONE A: Intervento graduale 3 anni (\u20ac60k/anno)\nOPZIONE B: Investimento completo con prestito (\u20ac180k subito)\nOPZIONE C: Soluzione ibrida con priorit\xe0 (\u20ac120k + \u20ac60k anno 2)\n\n**STEP 4 - RACCOMANDAZIONE FINALE:**\nApproccio ibrido (Opzione C): facciata + efficientamento anno 1 (\u20ac120k), \nresto anni 2-3. Finanziamento: 65% incentivi + prestito agevolato.\nMonitoraggio: assemblea trimestrale, report mensile avanzamento.",processingSteps:4,reasoning:"Dettagliato"},"role-playing-multiple":{quality:88,highlights:["Prospettive multiple","Bilanciamento interessi","Soluzione diplomatica"],output:'**VERBALE ASSEMBLEA - ANALISI MULTI-PROSPETTIVA**\n\n**\ud83c\udfe2 PROSPETTIVA AMMINISTRATORE:**\nNecessit\xe0 bilanciare urgenza tecnica con sostenibilit\xe0 economica. \nResponsabilit\xe0: garantire trasparenza, gestire conflitti, proporre soluzione fattibile.\nRisk: perdita mandato se gestione inadeguata tensioni.\n\n**\ud83d\udc65 PROSPETTIVA CONDOMINI:**\n- Favorevoli: "Investimento necessario, aumenta valore immobile, migliora comfort"\n- Contrari: "Costi eccessivi in periodo inflazione, alternative pi\xf9 economiche"\n- Indecisi: "Servono pi\xf9 informazioni, garanzie sui tempi, rateizzazione"\n\n**\u2696\ufe0f PROSPETTIVA LEGALE/NORMATIVA:**\nDelibera maggioranza qualificata richiesta (art. 1136 CC).\nObbligo efficienza energetica crescente (EU Green Deal).\nTutela minoranze vs interesse collettivo prevalente.\n\n**\ud83c\udfaf SINTESI BILANCIATA:**\nPiano pluriennale con prima fase minimale (\u20ac80k) per test efficacia,\npoi completamento condizionato a risultati positivi. \nTutela minoranze: opzione uscita volontaria dalla seconda fase.',processingSteps:4,reasoning:"Multidimensionale"},"iterative-refinement":{quality:93,highlights:["Sviluppo progressivo","Raffinamenti mirati","Versione ottimizzata"],output:'**VERBALE ASSEMBLEA - VERSIONE FINALE ITERATA**\n\n**ITERAZIONE 1 - DRAFT INIZIALE:**\nVerbale base con punti ODG e decisioni principali documentati.\n\n**ITERAZIONE 2 - ANALISI CRITICA:**\nIdentificati punti di miglioramento:\n- Mancanza dettagli votazioni specifiche per ogni punto\n- Linguaggio troppo tecnico per alcuni passaggi normativi\n- Necessit\xe0 maggior chiarezza su tempistiche e responsabilit\xe0\n\n**ITERAZIONE 3 - RAFFINAMENTO:**\nVersione migliorata incorporando:\n- Breakdown dettagliato voti (favorevoli/contrari/astenuti per ogni delibera)\n- Glossario termini tecnici in appendice per accessibilit\xe0\n- Timeline visual con milestone, responsabili e deadline\n\n**ITERAZIONE 4 - VERSIONE FINALE:**\n\n**ASSEMBLEA STRAORDINARIA DEL 15.06.2025**\nCondominio "Residenza Verde" - Via Roma 123\n\n**SINTESI ESECUTIVA:**\n\u2713 Delibere approvate: 8/12 punti ODG\n\u2713 Investimento totale autorizzato: \u20ac180.000\n\u2713 Partecipazione: 89% (32 presenti + 8 procure)\n\n**DECISIONI CHIAVE:**\n1. Rifacimento facciata: APPROVATO (35 voti favorevoli, 5 contrari)\n2. Prestito bancario: APPROVATO (32 favorevoli, 8 astenuti)  \n3. Timeline: Inizio lavori settembre 2025, fine marzo 2026\n\n**PROSSIMI STEP:**\n- Contrattualizzazione ditta entro 31 luglio 2025\n- Assemblea informativa pre-cantiere: 20 agosto 2025\n- Report avanzamento lavori: ogni 15 del mese',processingSteps:4,reasoning:"Iterativo"},"validation-framework":{quality:96,highlights:["Standard documentali elevati","Conformit\xe0 normativa","Tracciabilit\xe0 completa"],output:"**VERBALE ASSEMBLEA - VERSIONE VALIDATA**\n\n**PROPOSTA INIZIALE:**\nVerbale assemblea straordinaria con documentazione decisioni maggiori.\n\n**VALIDAZIONE SISTEMATICA:**\n\n\u2713 COMPLETEZZA: \u2705 VERIFICATA\n- Tutti i 12 punti ODG documentati integralmente\n- Presenze e procure registrate (32/45 + 8 procure = 89% capitale)\n- Votazioni dettagliate con maggioranze richieste per delibera\n\n\u2713 ACCURATEZZA: \u2705 CONFERMATA  \n- Cifre budget verificate: \u20ac180k rifacimento facciata\n- Quote millesimali applicate correttamente per ripartizione\n- Riferimenti normativi aggiornati (Codice Civile art. 1131-1139)\n\n\u2713 CHIAREZZA: \u2705 OTTIMIZZATA\n- Linguaggio tecnico spiegato in termini accessibili\n- Decisioni riassunte in executive summary\n- Timeline implementazione chiaramente definita\n\n\u2713 PROFESSIONALIT\xc0: \u2705 GARANTITA\n- Tono neutrale mantenuto anche per discussioni accese\n- Posizioni minoritarie documentate rispettosamente\n- Standard ANACI per verbali assembleari rispettati\n\n\u2713 FATTIBILIT\xc0: \u2705 VERIFICATA\n- Piano implementazione realistico e dettagliato\n- Budget e timeline sostenibili e verificati\n- Procedure di monitoraggio definite\n\n**VERBALE FINALE VALIDATO:**\nDocumento completo con sintesi esecutiva, delibere con dettaglio voti,\ncronoprogramma lavori e sistema monitoraggio implementazione.",processingSteps:5,reasoning:"Validato"}},"mediazione-conflitto":{"chain-of-thought":{quality:90,highlights:["Analisi cause profonde","Strategia strutturata","Prevenzione recidive"],output:"**PIANO MEDIAZIONE CONFLITTO - ANALISI STEP-BY-STEP**\n\n**STEP 1 - MAPPATURA STAKEHOLDER:**\n- Famiglia giovane: bisogni crescita bambini, socializzazione\n- Pensionato: necessit\xe0 quiete, rispetto riposo diurno\n- Altri condomini: 60% solidali con anziano, 40% comprensivi famiglia\n- Amministratore: equilibrio, prevenzione escalation legale\n\n**STEP 2 - ANALISI FATTORI CRITICI:**\n- Strutturali: scarso isolamento acustico edificio anni '80\n- Comportamentali: mancanza consapevolezza impatto rumore\n- Relazionali: comunicazione deteriorata, pregiudizi reciproci\n- Legali: regolamento condominiale generico su rumori\n\n**STEP 3 - GENERAZIONE SOLUZIONI:**\nA) Mediazione diretta: incontri facilitati + accordo comportamentale\nB) Interventi tecnici: isolamento acustico + regolamento dettagliato  \nC) Soluzione mista: mediazione + piccoli interventi + monitoraggio\n\n**STEP 4 - RACCOMANDAZIONE:**\nSoluzione C: mediazione strutturata + tappeti assorbenti + regolamento\naggiornato + sistema feedback mensile per primi 6 mesi.",processingSteps:4,reasoning:"Analitico"},"role-playing-multiple":{quality:87,highlights:["Empatia multi-stakeholder","Soluzioni equilibrate","Comprensione profonda"],output:'**MEDIAZIONE CONFLITTO - PROSPETTIVE MULTIPLE**\n\n**\ud83c\udfe0 PROSPETTIVA FAMIGLIA GIOVANE:**\n"Bambini hanno diritto a giocare in casa. Gi\xe0 limitiamo molto movimento.\nPensionato esagera, proteste anche per passi normali.\nDisponibili a soluzioni ragionevoli ma non rinunciare vivibilit\xe0."\n\n**\ud83d\udc74 PROSPETTIVA PENSIONATO:**\n"Rumori continui dalle 7 alle 22. Salute compromessa, stress accumulato.\nNon odio bambini ma serve rispetto fasce riposo.\nPagato appartamento per tranquillit\xe0, non chiedo troppo."\n\n**\ud83c\udfe2 PROSPETTIVA AMMINISTRATORE:**\nResponsabilit\xe0 mantenere armonia condominiale.\nEntrambe parti hanno ragioni valide.\nRisk: escalation legale costosa per tutti.\n\n**\ud83d\udc65 PROSPETTIVA ALTRI CONDOMINI:**\nPreoccupazione per clima generale, alcuni hanno bambini piccoli.\nNecessit\xe0 regole chiare per evitare conflitti futuri.\n\n**\ud83c\udfaf SINTESI EQUILIBRATA:**\nFasce orarie rispetto (8-14 e 16-20 gioco libero, 14-16 e 20-8 silenzio).\nTappeti area gioco + training comportamentale bambini.\nCheck-in mensili primi 3 mesi per aggiustamenti.',processingSteps:4,reasoning:"Empatico"},"iterative-refinement":{quality:90,highlights:["Approccio diplomatico","Soluzioni win-win","Piano monitoraggio"],output:"**PIANO MEDIAZIONE - VERSIONE FINALE ITERATA**\n\n**ITERAZIONE 1 - DRAFT INIZIALE:**\nProposta incontro mediato con regole base orari.\n\n**ITERAZIONE 2 - REVIEW CRITICA:**\nProblemi identificati:\n- Troppo generico su orari specifici\n- Mancano soluzioni tecniche immediate  \n- Assente sistema verifica efficacia\n\n**ITERAZIONE 3 - RAFFINAMENTO:**\nPiano dettagliato con:\n- Orari specifici per diverse attivit\xe0\n- Soluzioni pratiche immediate (tappeti, pantofole)\n- Sistema feedback strutturato\n\n**ITERAZIONE 4 - VERSIONE FINALE:**\n\n**FASE 1 - INCONTRI SEPARATI** (Settimana 1)\nAscolto attivo posizioni individuali:\n- Famiglia: mappatura esigenze sviluppo bambini vs spazi disponibili\n- Pensionato: identificazione momenti critici e soglie tolleranza\n\n**FASE 2 - SESSIONE MEDIATA** (Settimana 2)\nFacilitazione dialogo costruttivo:\n- Accordo fasce orarie: 21-8 silenzio assoluto, 14-16 rispetto riposo\n- Implementazione immediata: tappeti area gioco, pantofole interne\n- Training bambini: giochi silenziosi in ore sensibili\n\n**FASE 3 - ACCORDO SCRITTO** (Settimana 3)\nProtocollo firmato con impegni specifici:\n- Sanzioni progressive per violazioni ripetute\n- Sistema escalation: richiamo verbale \u2192 scritto \u2192 assemblea\n\n**MONITORAGGIO CONTINUATIVO:**\n- Check-in telefonico settimanale primo mese\n- Valutazione mensile efficacia successivi 2 mesi\n- Review trimestrale per aggiustamenti permanenti",processingSteps:4,reasoning:"Iterativo"},"validation-framework":{quality:94,highlights:["Controllo qualit\xe0 completo","Validazione sistematica","Standard professionali"],output:"**SOLUZIONE MEDIAZIONE - VALIDATA COMPLETAMENTE**\n\n**PROPOSTA INIZIALE:**\nPiano mediazione 3-fasi: incontri separati + sessione congiunta + monitoraggio.\n\n**VALIDAZIONE SISTEMATICA:**\n\n\u2713 COMPLETEZZA: \u2705 VERIFICATA\n- Tutti stakeholder coinvolti: famiglia, pensionato, altri condomini\n- Processo completo: diagnosi \u2192 mediazione \u2192 implementazione \u2192 follow-up\n- Soluzioni concrete per ogni fase identificata\n\n\u2713 ACCURATEZZA: \u2705 CONFERMATA\n- Approccio conforme best practice mediazione professionale\n- Tempistiche realistiche: 3 settimane + 3 mesi monitoraggio\n- Tecniche validate: ascolto attivo, comunicazione non violenta\n\n\u2713 CHIAREZZA: \u2705 OTTIMIZZATA\n- Linguaggio accessibile, evitata terminologia tecnica eccessiva\n- Step chiaramente definiti con obiettivi misurabili\n- Ruoli e responsabilit\xe0 specificate per ogni parte\n\n\u2713 PROFESSIONALIT\xc0: \u2705 GARANTITA\n- Tono neutrale e diplomatico mantenuto costantemente\n- Rispetto standard deontologici mediazione\n- Approccio bilanciato senza favoritismi verso alcuna parte\n\n\u2713 FATTIBILIT\xc0: \u2705 VERIFICATA\n- Implementazione pratica testata in casi similari\n- Costi contenuti: solo tempo amministratore + piccoli investimenti\n- Scalabilit\xe0: modello replicabile per conflitti analoghi\n\n**VERSIONE FINALE VALIDATA:**\nPiano mediazione strutturato con protocolli di sicurezza,\ncheck-point valutazione periodica e procedure escalation definite.\nProbabilit\xe0 successo stimata: 85% basata su precedenti similari.",processingSteps:5,reasoning:"Sistematico"}},"analisi-preventivi":{"chain-of-thought":{quality:94,highlights:["Analisi finanziaria dettagliata","Valutazione multi-criterio","ROI calcolato"],output:"**ANALISI PREVENTIVI IMPIANTO TERMICO - STEP-BY-STEP**\n\n**STEP 1 - MAPPATURA STAKEHOLDER:**\n- Condomini cost-conscious: priorit\xe0 risparmio immediato (40%)\n- Condomini eco-oriented: investimenti green long-term (35%)\n- Condomini neutrali: seguono raccomandazione tecnica (25%)\n\n**STEP 2 - ANALISI FATTORI CRITICI:**\n- Tecnici: efficienza energetica, affidabilit\xe0, manutenzione\n- Economici: CAPEX, OPEX, incentivi, payback period\n- Normativi: compliance efficienza, futuro AI Act edifici\n- Operativi: disruption installazione, learning curve\n\n**STEP 3 - VALUTAZIONE OPZIONI:**\nA) Tradizionale \u20ac85k: basso rischio, ROI negativo\nB) Condensazione \u20ac120k: equilibrio costi/benefici ottimo  \nC) Pompa calore \u20ac145k: massima efficienza, payback 7 anni\nD) Geotermico \u20ac170k: top performance, complessit\xe0 elevata\n\n**STEP 4 - RACCOMANDAZIONE FINALE:**\nOpzione B (Condensazione) con backup plan C.\nTCO 10 anni: \u20ac98k vs \u20ac165k attuale = 41% risparmio.\nImplementation: fase 1 caldaia, fase 2 ottimizzazione smart controls.",processingSteps:4,reasoning:"Finanziario"},"role-playing-multiple":{quality:89,highlights:["Analisi multi-stakeholder","Bilanciamento interessi","Compromesso ottimale"],output:'**ANALISI PREVENTIVI - PROSPETTIVE MULTIPLE**\n\n**\ud83d\udd27 PROSPETTIVA TECNICA:**\n"Caldaia condensazione rappresenta sweet spot: efficienza 95% vs 75% attuale,\ntecnologia matura, manutenzione standard. Pompa calore ottima ma richiede\nupgrade impianto distribuzione. Geotermico over-engineering per edificio."\n\n**\ud83d\udcb0 PROSPETTIVA FINANZIARIA:**\n"Con incentivi 65%, condensazione costa effettivamente \u20ac42k vs \u20ac85k tradizionale.\nPayback 3.2 anni. Pompa calore payback 5.8 anni. \nCash flow positivo da anno 4 con condensazione."\n\n**\ud83c\udf31 PROSPETTIVA SOSTENIBILIT\xc0:**\n"Condensazione: -40% emissioni CO2. Pompa calore: -65% emissioni.\nGeotermico: -80% ma impatto economico eccessivo.\nObiettivi UE 2030 raggiungibili con opzione B."\n\n**\ud83d\udc65 PROSPETTIVA CONDOMINI:**\n"Maggioranza preferisce sicurezza investimento vs performance massima.\nPreoccupazioni su tecnologie troppo innovative.\nConsenso su miglioramento efficienza con costi ragionevoli."\n\n**\ud83c\udfaf SINTESI BILANCIATA:**\nCondensazione con predisposizione upgrade futuro.\nSoddisfa: contenimento costi + miglioramento significativo + futuro-compatibile.\nPlan B: rivalutazione pompa calore tra 5 anni.',processingSteps:4,reasoning:"Strategico"},"iterative-refinement":{quality:91,highlights:["Analisi approfondita","Comparazione sistematica","Raccomandazione motivata"],output:"**ANALISI PREVENTIVI - VERSIONE FINALE ITERATA**\n\n**ITERAZIONE 1 - PRIMA ANALISI:**\nConfronto base prezzi listino e caratteristiche tecniche principali.\n\n**ITERAZIONE 2 - APPROFONDIMENTO:**\nIntegrazione analisi TCO 10 anni, calcolo incentivi effettivi,\nvalutazione track record fornitori, assessment impatto installation.\n\n**ITERAZIONE 3 - OTTIMIZZAZIONE:**\nInclusione feedback tecnico specialista, simulazione scenari energia,\nbenchmarking contro installazioni similari, risk assessment.\n\n**ITERAZIONE 4 - VERSIONE FINALE:**\n\n**COMPARATIVE ANALYSIS - IMPIANTO TERMICO CENTRALIZZATO**\n\n**OPZIONE A - Caldaia Tradizionale (\u20ac85k)**\n- Investimento: \u20ac85.000 (100% autofinanziamento)\n- TCO 10 anni: \u20ac165.000 (inclusi consumi stimati)\n- Efficienza: 75% (tecnologia standard)\n- Incentivi: \u20ac0 - ROI: Negativo (-15%)\n\n**OPZIONE B - Caldaia Condensazione (\u20ac120k)** \u2b50 RACCOMANDATA\n- Investimento lordo: \u20ac120.000\n- Incentivi Conto Termico 65%: -\u20ac78.000\n- Investimento netto: \u20ac42.000  \n- TCO 10 anni: \u20ac98.000 (vs \u20ac180k attuale)\n- Efficienza: 95% - Risparmio annuo: \u20ac8.200\n- ROI: +142% - Payback: 3.2 anni\n\n**OPZIONE C - Pompa Calore (\u20ac145k)**\n- Investimento netto: \u20ac50.750 (post-incentivi)\n- TCO 10 anni: \u20ac89.000\n- Efficienza: COP 4.5 - Risparmio: \u20ac9.100/anno\n- ROI: +98% - Payback: 5.8 anni\n- Note: richiede upgrade distribuzione (+\u20ac15k)\n\n**OPZIONE D - Geotermico (\u20ac170k)**\n- Investimento netto: \u20ac59.500\n- TCO 10 anni: \u20ac85.000 (performance massima)\n- Risk: complessit\xe0 installazione alta, permits complessi\n- Timeline: 8-12 mesi vs 2-3 mesi altre opzioni\n\n**RACCOMANDAZIONE FINALE:**\nOpzione B (Condensazione) per rapporto costi/benefici ottimale.\nImplementation plan: contratto entro luglio, installazione settembre,\ntest sistema ottobre, operativit\xe0 completa novembre 2025.",processingSteps:4,reasoning:"Iterativo"},"validation-framework":{quality:96,highlights:["Analisi finanziaria rigorosa","Compliance normativa","Due diligence completa"],output:"**ANALISI PREVENTIVI - COMPLETAMENTE VALIDATA**\n\n**PROPOSTA INIZIALE:**\nAnalisi comparativa 4 preventivi con raccomandazione investimento.\n\n**VALIDAZIONE SISTEMATICA:**\n\n\u2713 COMPLETEZZA: \u2705 VERIFICATA\n- Tutti i preventivi analizzati con metodologia uniforme\n- Fattori considerati: costi, performance, incentivi, manutenzione, rischi\n- Scenari temporali: payback, TCO 10 anni, cash flow analysis\n\n\u2713 ACCURATEZZA: \u2705 CONFERMATA\n- Cifre verificate con fornitori e enti erogatori incentivi\n- Calcoli TCO basati su consumi storici + proiezioni energetiche\n- Benchmark against installazioni comparabili nel territorio\n\n\u2713 CHIAREZZA: \u2705 OTTIMIZZATA\n- Terminology tecnica spiegata, tabelle comparative chiare\n- Executive summary con raccomandazione evidenziata\n- Appendice con dettagli calcoli per trasparenza\n\n\u2713 PROFESSIONALIT\xc0: \u2705 GARANTITA\n- Analisi neutrale basata su dati oggettivi\n- Metodologia conforme standard valutativi settore\n- Dichiarazione conflitti interesse e assumptions\n\n\u2713 FATTIBILIT\xc0: \u2705 VERIFICATA\n- Timeline implementazione realistic e dettagliata\n- Budget verificato con disponibilit\xe0 finanziarie condominio\n- Risk mitigation plan per opzione raccomandata\n\n**REPORT FINALE VALIDATO:**\nRaccomandazione Caldaia Condensazione con confidence level 92%.\nExpected savings: \u20ac82.000 su 10 anni, payback 3.2 anni.\nImplementation ready: contratti, permits, financing pre-arranged.",processingSteps:5,reasoning:"Validato"}}}[e.id])||void 0===n?void 0:n[t.id])||{quality:85,highlights:["Analisi approfondita","Approccio sistematico","Risultati ottimizzati"],output:"**ANALISI COMPLETATA CON ".concat(t.name.toUpperCase(),"**\n\nLa tecnica ").concat(t.name,' \xe8 stata applicata con successo al scenario "').concat(e.title,'".\n\n**APPROCCIO UTILIZZATO:**\n').concat(t.approach,'\n\n**RISULTATO OTTIMIZZATO:**\nSoluzione strutturata che affronta il problema "').concat(e.challenge,'" \nutilizzando la metodologia ').concat(t.name," per garantire:\n\n- Analisi approfondita del contesto specifico\n- Applicazione sistematica della tecnica selezionata  \n- Output ottimizzato per il caso d'uso professionale\n- Considerazione degli aspetti pratici e implementativi\n\n**CONTESTO ANALIZZATO:**\n").concat(e.context,"\n\n**RACCOMANDAZIONI:**\nLa soluzione proposta integra le specificit\xe0 del settore condominiale\ncon l'approccio metodologico della tecnica ").concat(t.name,"."),processingSteps:3,reasoning:"Strutturato"}},g=()=>{r(null),o(null),u([]),p(1),m("")};return t.activeWorkshop&&"prompt-optimizer"===t.activeWorkshop?(0,Xo.jsx)("div",{className:"workshop-overlay",children:(0,Xo.jsxs)("div",{className:"workshop-container",children:[(0,Xo.jsxs)("div",{className:"workshop-header",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h2",{children:"\ud83e\udde0 Prompt Optimizer Lab"}),(0,Xo.jsx)("p",{children:"Tecniche avanzate per problemi complessi"})]}),(0,Xo.jsx)("button",{onClick:()=>{n({type:"CLOSE_WORKSHOP"})},className:"workshop-close",children:"\u2715"})]}),(0,Xo.jsxs)("div",{className:"workshop-content-optimizer",children:[(0,Xo.jsxs)("div",{className:"optimizer-sidebar",children:[(0,Xo.jsxs)("div",{className:"progress-steps",children:[(0,Xo.jsxs)("div",{className:"progress-step ".concat(d>=1?"completed":""," ").concat(1===d?"active":""),children:[(0,Xo.jsx)("div",{className:"step-number",children:"1"}),(0,Xo.jsxs)("div",{className:"step-info",children:[(0,Xo.jsx)("span",{className:"step-title",children:"Scenario"}),(0,Xo.jsx)("span",{className:"step-desc",children:"Scegli caso d'uso"})]})]}),(0,Xo.jsxs)("div",{className:"progress-step ".concat(d>=2?"completed":""," ").concat(2===d?"active":""),children:[(0,Xo.jsx)("div",{className:"step-number",children:"2"}),(0,Xo.jsxs)("div",{className:"step-info",children:[(0,Xo.jsx)("span",{className:"step-title",children:"Tecnica"}),(0,Xo.jsx)("span",{className:"step-desc",children:"Metodo avanzato"})]})]}),(0,Xo.jsxs)("div",{className:"progress-step ".concat(d>=3?"completed":""," ").concat(3===d?"active":""),children:[(0,Xo.jsx)("div",{className:"step-number",children:"3"}),(0,Xo.jsxs)("div",{className:"step-info",children:[(0,Xo.jsx)("span",{className:"step-title",children:"Preview"}),(0,Xo.jsx)("span",{className:"step-desc",children:"Controllo finale"})]})]}),(0,Xo.jsxs)("div",{className:"progress-step ".concat(d>=4?"completed":""," ").concat(4===d?"active":""),children:[(0,Xo.jsx)("div",{className:"step-number",children:"4"}),(0,Xo.jsxs)("div",{className:"step-info",children:[(0,Xo.jsx)("span",{className:"step-title",children:"Risultati"}),(0,Xo.jsx)("span",{className:"step-desc",children:"Output ottimizzato"})]})]})]}),(0,Xo.jsxs)("div",{className:"current-selection",children:[i&&(0,Xo.jsxs)("div",{className:"selection-item",children:[(0,Xo.jsx)("div",{className:"selection-label",children:"\ud83d\udccb Scenario:"}),(0,Xo.jsx)("div",{className:"selection-value",children:i.title})]}),a&&(0,Xo.jsxs)("div",{className:"selection-item",children:[(0,Xo.jsx)("div",{className:"selection-label",children:"\u26a1 Tecnica:"}),(0,Xo.jsx)("div",{className:"selection-value",children:a.name})]}),c&&(0,Xo.jsxs)("div",{className:"selection-item",children:[(0,Xo.jsx)("div",{className:"selection-label",children:"\ud83d\udcca Qualit\xe0:"}),(0,Xo.jsxs)("div",{className:"selection-value",style:{color:c.quality>=90?"#059669":"#d97706"},children:[c.quality,"%"]})]})]}),(0,Xo.jsx)("div",{className:"quick-actions",children:(0,Xo.jsx)("button",{onClick:g,className:"btn-reset-quick",children:"\ud83d\udd04 Reset"})})]}),(0,Xo.jsxs)("div",{className:"optimizer-main",children:[1===d&&(0,Xo.jsxs)("div",{className:"main-step",children:[(0,Xo.jsxs)("div",{className:"main-step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83c\udfaf Seleziona Scenario Complesso"}),(0,Xo.jsx)("p",{children:"Scegli una situazione professionale che richiede analisi approfondita"})]}),(0,Xo.jsx)("div",{className:"scenarios-grid",children:[{id:"verbale-complesso",title:"Verbale Assemblea Complessa",description:"Assemblea straordinaria con 12 punti ODG, tensioni tra proprietari",context:"Assemblea straordinaria condominio 45 unit\xe0. Discussioni accese su: rifacimento facciata (\u20ac180k), cambio amministratore, nuovo regolamento pets, installazione colonnine elettriche. Presenti 32/45, 8 procure. Proprietario Rossi sempre contrario, signora Bianchi leader opposizione. Budget limitato, urgenze manutentive.",challenge:"Creare verbale che documenti tutto mantenendo tono neutrale e professionale",expectedOutput:"Verbale strutturato, sintesi decisioni, voti dettagliati, azioni follow-up"},{id:"mediazione-conflitto",title:"Mediazione Conflitto Vicinato",description:"Disputa rumorosa tra inquilino piano terra e proprietario primo piano",context:"Inquilino piano terra (famiglia giovane, 2 bambini) vs proprietario primo piano (pensionato 70 anni). Lamentele reciproche: bambini corrono (7-22), musica alta weekend, cane abbaia. Escalation: lettere legali, minacce sfratto. Altri condomini segnalano disagio.",challenge:"Proporre strategia mediazione diplomatica e sostenibile",expectedOutput:"Piano mediazione, regole condivise, meccanismo monitoraggio"},{id:"analisi-preventivi",title:"Analisi Comparative Preventivi",description:"Valutazione 4 preventivi rifacimento impianto termico centralizzato",context:"Impianto termico 25 anni, inefficiente, costi gas aumentati 40%. 4 preventivi: \u20ac85k (caldaia tradizionale), \u20ac120k (condensazione), \u20ac145k (pompa calore), \u20ac170k (geotermico). Incentivi disponibili 65%. Condomini divisi su investimento vs risparmio immediato.",challenge:"Analisi costi-benefici 10 anni, raccomandazione motivata",expectedOutput:"Report comparativo, TCO analysis, scenario risparmio, raccomandazione"}].map((e=>(0,Xo.jsxs)("div",{className:"scenario-card",children:[(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsxs)("div",{className:"scenario-details",children:[(0,Xo.jsxs)("div",{className:"detail-item",children:[(0,Xo.jsx)("strong",{children:"Contesto:"}),(0,Xo.jsxs)("span",{children:[e.context.substring(0,120),"..."]})]}),(0,Xo.jsxs)("div",{className:"detail-item",children:[(0,Xo.jsx)("strong",{children:"Challenge:"}),(0,Xo.jsx)("span",{children:e.challenge})]})]}),(0,Xo.jsx)("button",{onClick:()=>(e=>{r(e),p(2)})(e),className:"btn-select-scenario",children:"Seleziona Scenario"})]},e.id)))})]}),2===d&&i&&(0,Xo.jsxs)("div",{className:"main-step",children:[(0,Xo.jsxs)("div",{className:"main-step-header",children:[(0,Xo.jsx)("h3",{children:"\u26a1 Scegli Tecnica Avanzata"}),(0,Xo.jsxs)("p",{children:["Quale approccio vuoi testare per: ",(0,Xo.jsx)("strong",{children:i.title})]})]}),(0,Xo.jsx)("div",{className:"techniques-grid",children:[{id:"chain-of-thought",name:"Chain of Thought",description:"Guida l'IA step-by-step attraverso ragionamento complesso",approach:"Scomposizione problema \u2192 Analisi fase-by-fase \u2192 Sintesi finale",example:"Prima identifica stakeholder, poi analizza posizioni, infine proponi soluzione",useCase:"Problemi multi-dimensionali, decisioni complesse"},{id:"role-playing-multiple",name:"Role Playing Multiplo",description:"Analizza situazione da prospettive multiple stakeholder",approach:"Pi\xf9 ruoli \u2192 Confronto viewpoint \u2192 Bilanciamento interessi",example:"Analizza come amministratore, poi come condomino, poi come fornitore",useCase:"Conflitti, negoziazioni, decisioni collegiali"},{id:"iterative-refinement",name:"Iterazione Guidata",description:"Sviluppo progressivo attraverso raffinamenti successivi",approach:"Bozza iniziale \u2192 Feedback \u2192 Miglioramento \u2192 Ripetizione",example:"Draft comunicazione \u2192 Review critica \u2192 Versione migliorata",useCase:"Documenti complessi, comunicazioni sensibili"},{id:"validation-framework",name:"Validazione Automatica",description:"Auto-controllo output secondo criteri predefiniti",approach:"Output iniziale \u2192 Checklist validazione \u2192 Correzioni \u2192 Versione finale",example:"Verifica: completezza, tono, aspetti legali, chiarezza",useCase:"Documenti formali, controllo qualit\xe0"}].map((e=>(0,Xo.jsxs)("div",{className:"technique-card",children:[(0,Xo.jsx)("h4",{children:e.name}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsxs)("div",{className:"technique-details",children:[(0,Xo.jsxs)("div",{className:"approach",children:[(0,Xo.jsx)("strong",{children:"Approccio:"})," ",e.approach]}),(0,Xo.jsxs)("div",{className:"use-case",children:[(0,Xo.jsx)("strong",{children:"Ideale per:"})," ",e.useCase]})]}),(0,Xo.jsx)("button",{onClick:()=>(e=>{o(e),p(3)})(e),className:"btn-select-technique",children:"Usa Questa Tecnica"})]},e.id)))}),(0,Xo.jsx)("div",{className:"step-navigation",children:(0,Xo.jsx)("button",{onClick:()=>p(1),className:"btn-nav-back",children:"\u2190 Cambia Scenario"})})]}),3===d&&i&&a&&(0,Xo.jsxs)("div",{className:"main-step",children:[(0,Xo.jsxs)("div",{className:"main-step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udd2c Preview Prompt Ottimizzato"}),(0,Xo.jsxs)("p",{children:["Tecnica: ",(0,Xo.jsx)("strong",{children:a.name})," applicata a ",(0,Xo.jsx)("strong",{children:i.title})]})]}),(0,Xo.jsxs)("div",{className:"preview-layout",children:[(0,Xo.jsx)("div",{className:"prompt-preview-advanced",children:(0,Xo.jsx)("pre",{children:(v=i,y=a,{"chain-of-thought":"**ANALISI STRUTTURATA STEP-BY-STEP**\n\nScenario: ".concat(v.context,"\n\nProcedi seguendo questi step sequenziali:\n\nSTEP 1 - MAPPATURA STAKEHOLDER\n- Identifica tutti i soggetti coinvolti\n- Analizza interessi e preoccupazioni di ciascuno\n- Evidenzia potenziali conflitti di interesse\n\nSTEP 2 - ANALISI FATTORI CRITICI  \n- Fattori tecnici/normativi da considerare\n- Vincoli economici e temporali\n- Aspetti relazionali e comunicativi\n\nSTEP 3 - GENERAZIONE SOLUZIONI\n- Brainstorm 3 approcci diversi\n- Valuta pro/contro di ogni opzione\n- Considera sostenibilit\xe0 a lungo termine\n\nSTEP 4 - RACCOMANDAZIONE FINALE\n- Soluzione ottimale motivata\n- Piano implementazione concreto\n- Metriche per monitoraggio successo\n\nMantieni ragionamento esplicito tra ogni step."),"role-playing-multiple":"**ANALISI MULTI-PROSPETTIVA**\n\nScenario: ".concat(v.context,"\n\nAnalizza la situazione assumendo in sequenza questi ruoli:\n\n\ud83c\udfe2 PROSPETTIVA AMMINISTRATORE:\n- Responsabilit\xe0 legali e professionali\n- Equilibrio tra tutte le parti\n- Efficienza gestionale e reputazione\n\n\ud83d\udc65 PROSPETTIVA CONDOMINI COINVOLTI:\n- Interessi specifici di ogni parte\n- Preoccupazioni e aspettative\n- Disponibilit\xe0 a compromessi\n\n\u2696\ufe0f PROSPETTIVA LEGALE/NORMATIVA:\n- Compliance regolamentare\n- Potenziali rischi e responsabilit\xe0\n- Best practices settoriali\n\n\ud83c\udfaf SINTESI BILANCIATA:\n- Confronta le diverse prospettive\n- Identifica punti di convergenza\n- Proponi soluzione che bilanci tutti gli interessi"),"iterative-refinement":"**SVILUPPO ITERATIVO GUIDATO**\n\nScenario: ".concat(v.context,"\n\nITERAZIONE 1 - DRAFT INIZIALE:\nCrea una prima versione della soluzione focalizzandoti sui punti essenziali.\n\nITERAZIONE 2 - REVIEW CRITICA:\nAnalizza il draft chiedendoti:\n- Cosa manca o \xe8 poco chiaro?\n- Quali aspetti potrebbero creare problemi?\n- Come migliorare tono e comunicazione?\n\nITERAZIONE 3 - RAFFINAMENTO:\nSviluppa versione migliorata incorporando:\n- Dettagli mancanti identificati\n- Correzioni per problemi potenziali\n- Miglioramenti comunicativi\n\nITERAZIONE 4 - VALIDAZIONE FINALE:\nVerifica che la soluzione finale soddisfi:\n- Completezza e accuratezza\n- Chiarezza e professionalit\xe0\n- Fattibilit\xe0 e sostenibilit\xe0"),"validation-framework":"**FRAMEWORK DI VALIDAZIONE AUTOMATICA**\n\nScenario: ".concat(v.context,"\n\nSviluppa la soluzione e successivamente applicale questo controllo qualit\xe0:\n\nCHECKLIST VALIDAZIONE:\n\n\u2713 COMPLETEZZA:\n- Tutti gli aspetti del problema sono affrontati?\n- Mancano informazioni o passaggi cruciali?\n\n\u2713 ACCURATEZZA:\n- Le informazioni sono corrette e aggiornate?\n- I riferimenti normativi sono appropriati?\n\n\u2713 CHIAREZZA:\n- Il linguaggio \xe8 accessibile al target?\n- La struttura \xe8 logica e scorrevole?\n\n\u2713 PROFESSIONALIT\xc0:\n- Il tono \xe8 appropriato al contesto?\n- Rispetta standard professionali del settore?\n\n\u2713 FATTIBILIT\xc0:\n- La soluzione \xe8 realisticamente implementabile?\n- Considera vincoli pratici ed economici?\n\nPer ogni punto non validato, proponi correzione specifica.")}[y.id]||"")})}),(0,Xo.jsxs)("div",{className:"customization-panel",children:[(0,Xo.jsxs)("div",{className:"custom-input-section",children:[(0,Xo.jsx)("label",{children:"\ud83c\udfaf Personalizzazioni/Note aggiuntive (opzionale):"}),(0,Xo.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),placeholder:"es. Focus particolare su aspetti legali, tono pi\xf9 formale, budget massimo \u20acX...",rows:"4"})]}),(0,Xo.jsx)("div",{className:"launch-panel",children:(0,Xo.jsx)("button",{onClick:async()=>{l(!0);const e=3e3+4e3*Math.random();setTimeout((()=>{const e=f(i,a);u(e),p(4),l(!1)}),e)},disabled:s,className:"btn-launch-optimizer",children:s?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("span",{className:"spinner"}),"Elaborazione Avanzata..."]}):"\ud83d\ude80 Lancia Ottimizzazione"})})]})]}),(0,Xo.jsx)("div",{className:"step-navigation",children:(0,Xo.jsx)("button",{onClick:()=>p(2),className:"btn-nav-back",children:"\u2190 Cambia Tecnica"})})]}),4===d&&c&&(0,Xo.jsxs)("div",{className:"main-step",children:[(0,Xo.jsxs)("div",{className:"main-step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcca Risultati Ottimizzazione"}),(0,Xo.jsxs)("p",{children:["Analisi completata con tecnica: ",(0,Xo.jsx)("strong",{children:a.name})]})]}),(0,Xo.jsxs)("div",{className:"results-layout",children:[(0,Xo.jsxs)("div",{className:"results-sidebar",children:[(0,Xo.jsxs)("div",{className:"quality-metrics",children:[(0,Xo.jsxs)("div",{className:"metric-item",children:[(0,Xo.jsx)("span",{className:"metric-label",children:"Qualit\xe0 Output:"}),(0,Xo.jsxs)("span",{className:"metric-value",style:{color:c.quality>=90?"#059669":c.quality>=80?"#d97706":"#dc2626"},children:[c.quality,"%"]})]}),(0,Xo.jsxs)("div",{className:"metric-item",children:[(0,Xo.jsx)("span",{className:"metric-label",children:"Step Processati:"}),(0,Xo.jsx)("span",{className:"metric-value",children:c.processingSteps})]}),(0,Xo.jsxs)("div",{className:"metric-item",children:[(0,Xo.jsx)("span",{className:"metric-label",children:"Tipo Ragionamento:"}),(0,Xo.jsx)("span",{className:"metric-value",children:c.reasoning})]})]}),(0,Xo.jsxs)("div",{className:"highlights-section",children:[(0,Xo.jsx)("h4",{children:"\u2728 Punti di Forza:"}),(0,Xo.jsx)("div",{className:"highlights-list",children:c.highlights.map(((e,t)=>(0,Xo.jsxs)("div",{className:"highlight-item",children:[(0,Xo.jsx)("span",{className:"highlight-icon",children:"\u2713"}),e]},t)))})]}),(0,Xo.jsxs)("div",{className:"action-buttons",children:[(0,Xo.jsx)("button",{onClick:()=>navigator.clipboard.writeText(c.output),className:"btn-copy-result",children:"\ud83d\udccb Copia"}),(0,Xo.jsx)("button",{onClick:()=>p(3),className:"btn-refine",children:"\ud83d\udd27 Raffina"}),(0,Xo.jsx)("button",{onClick:g,className:"btn-new-optimization",children:"\ud83c\udd95 Nuovo"})]})]}),(0,Xo.jsx)("div",{className:"results-main",children:(0,Xo.jsxs)("div",{className:"output-section",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcc4 Output Ottimizzato:"}),(0,Xo.jsx)("div",{className:"optimized-output",children:(0,Xo.jsx)("pre",{children:c.output})})]})})]})]})]})]})]})}):null;var v,y},zs=()=>{const{state:t,dispatch:n}=is(),[i,r]=(0,e.useState)(!0);if(!i||"bias-simulator"!==t.activeWorkshop)return null;const a=t.workshopData.biasSimulator||{step:1,selectedScenario:null,userInput:"",simulationResults:null,biasDetected:[],checklistCompleted:!1},o=()=>{console.log("\ud83d\udd34 Closing workshop with force..."),r(!1),n({type:"CLOSE_WORKSHOP"}),n({type:"RESET_WORKSHOP_DATA",payload:"biasSimulator"}),console.log("\u2705 Workshop closed")},l=e=>{n({type:"UPDATE_WORKSHOP_DATA",payload:{workshop:"biasSimulator",data:e}})},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const t=u.find((t=>t.id===e.selectedScenario));if(!t)return;const n=t.simulateResults(e.userInput);l(s(s({},e),{},{simulationResults:n,biasDetected:n.biasesFound}))},u=[{id:"tenant-selection",title:"Selezione Inquilini Intelligente",description:"Sistema IA per valutazione affidabilit\xe0 inquilini basato su dati storici",icon:"\ud83c\udfe0",warningLevel:"alto",contexts:["Valutazione automatica domande affitto","Scoring rischio inquilino","Prioritizzazione candidati"],biasTypes:['Discriminazione geografica (CAP "sfavorevoli")',"Bias anagrafico (et\xe0 = rischio)","Stereotipi familiari (single = instabili)"],simulateResults:e=>{const t=[];let n=85,i="APPROVATO";return(e.toLowerCase().includes("zona")||e.toLowerCase().includes("cap")||e.toLowerCase().includes("periferia"))&&(t.push({type:"Bias Geografico",severity:"critico",description:"IA penalizza automaticamente CAP periferico (-15 punti)",impact:"Discriminazione sistematica zone economicamente svantaggiate"}),n-=15),(e.toLowerCase().includes("single")||e.toLowerCase().includes("giovane")||e.toLowerCase().includes("et\xe0"))&&(t.push({type:"Bias Anagrafico",severity:"moderato",description:'Correlazione et\xe0/stato civile con "instabilit\xe0" (-8 punti)',impact:"Penalizza demographic specifiche senza base oggettiva"}),n-=8),(e.toLowerCase().includes("famiglia")||e.toLowerCase().includes("bambini"))&&(t.push({type:"Bias Compositivo",severity:"lieve",description:'Preferenza per "famiglie tradizionali" (+5 punti)',impact:"Discrimina composizioni familiari non convenzionali"}),n+=5),n<70?i="RIFIUTATO":n<80&&(i="DA VALUTARE"),{originalScore:85,biasedScore:n,recommendation:i,processingTime:"1.2s",biasesFound:t,explanation:"Sistema ha elaborato ".concat(t.length," fattori discriminatori automaticamente"),corrections:["Rimuovere CAP dal calcolo score","Sostituire et\xe0 con criteri reddituali oggettivi","Standardizzare criteri indipendenti da composizione familiare"]}}},{id:"maintenance-priority",title:"Prioritizzazione Manutenzioni Smart",description:"IA gestisce priorit\xe0 interventi basandosi su storico e pattern comportamentali",icon:"\ud83d\udd27",warningLevel:"medio",contexts:["Gestione automatica work order","Ranking urgenza interventi","Allocazione risorse tecniche"],biasTypes:['Favoritismo verso proprietari "influenti"',"Bias di conferma su zone monitorate","Discriminazione per tipo problema segnalato"],simulateResults:e=>{const t=[];let n=5,i="7-10 giorni";return(e.toLowerCase().includes("piano alto")||e.toLowerCase().includes("attico")||e.toLowerCase().includes("proprietario importante"))&&(t.push({type:"Bias Socio-Economico",severity:"critico",description:'Priorit\xe0 automatica per appartamenti "prestigiosi" (+3 livelli)',impact:"Crea sistema a due velocit\xe0 basato su status percepito"}),n=Math.min(8,n+3),i="2-3 giorni"),(e.toLowerCase().includes("elettrico")||e.toLowerCase().includes("tecnico")||e.toLowerCase().includes("impianto"))&&(t.push({type:"Bias di Complessit\xe0",severity:"moderato",description:'Problemi "tecnici" sovraprioritizzati rispetto a habitabilit\xe0',impact:"Problemi semplici ma urgenti per inquilini vengono ritardati"}),n=Math.min(9,n+2)),(e.toLowerCase().includes("reclamo")||e.toLowerCase().includes("secondo")||e.toLowerCase().includes("ripetuto"))&&(t.push({type:"Bias di Frequenza",severity:"lieve",description:'Penalizzazione automatica per "reclamanti abituali" (-2 livelli)',impact:"Chi segnala legittimamente pi\xf9 problemi viene discriminato"}),n=Math.max(1,n-2),i="15-20 giorni"),{originalPriority:5,biasedPriority:n,estimatedTimeline:i,processingTime:"0.8s",biasesFound:t,explanation:"Algoritmo ha applicato ".concat(t.length," fattori di prioritizzazione impliciti"),corrections:["Criteri trasparenti: sicurezza > habitabilit\xe0 > comfort","Rotation sistematica per prevenire favoritismi","Tracking equit\xe0 distribuzione interventi per zona/proprietario"]}}},{id:"communication-personalization",title:"Comunicazioni Personalizzate AI",description:'Sistema genera comunicazioni adattate a profili condomini per "massima efficacia"',icon:"\ud83d\udcac",warningLevel:"alto",contexts:["Email automatiche personalizzate","Tonalit\xe0 adattiva per demografico",'Selezione contenuti per "rilevanza"'],biasTypes:["Linguaggio paternalistico per anziani",'Esclusione informazioni "complesse"',"Toni differenziati per status percepito"],simulateResults:e=>{const t=[];let n="professionale",i="completo";return(e.toLowerCase().includes("straniero")||e.toLowerCase().includes("stranieri")||e.toLowerCase().includes("straniera")||e.toLowerCase().includes("nazionalit\xe0")||e.toLowerCase().includes("paese")||e.toLowerCase().includes("lingua"))&&(t.push({type:"Bias Culturale/Linguistico",severity:"critico",description:'IA potrebbe adattare linguaggio per "facilitare comprensione" stranieri',impact:"Discriminazione paternalistica basata su nazionalit\xe0 percepita"}),n="semplificato-culturale",i="ridotto-culturale"),(e.toLowerCase().includes("anziano")||e.toLowerCase().includes("et\xe0")||e.toLowerCase().includes("senior"))&&(t.push({type:"Bias Paternalistico",severity:"critico",description:"Linguaggio automaticamente semplificato per over 65",impact:"Infantilizza persone competenti, limita autonomia decisionale"}),n="semplificato-protettivo",i="ridotto"),(e.toLowerCase().includes("assemblea")||e.toLowerCase().includes("convocazione"))&&(t.push({type:"Bias di Complessit\xe0 Normativa",severity:"moderato",description:'IA filtra informazioni legali per "semplicit\xe0"',impact:"Riduce trasparenza e comprensione diritti/doveri"}),i="selettivo-legale"),{originalTone:"professionale",biasedTone:n,contentFiltering:i,processingTime:"0.5s",biasesFound:t,explanation:"IA ha personalizzato messaggio con ".concat(t.length," adattamenti discriminatori"),corrections:["Standard comunicativi minimi uguali per tutti","Traduzioni disponibili invece di semplificazioni","Informazioni complete sempre accessibili","Review periodica per bias linguistici"]}}}],d=u.find((e=>e.id===a.selectedScenario));return(0,Xo.jsx)("div",{className:"workshop-overlay",children:(0,Xo.jsxs)("div",{className:"workshop-container bias-simulator-container",children:[(0,Xo.jsxs)("div",{className:"workshop-header bias-header",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h2",{children:"\u2696\ufe0f Bias Simulator"}),(0,Xo.jsx)("p",{children:"Riconoscere e mitigare bias algoritmici nella gestione condominiale"})]}),(0,Xo.jsx)("button",{onClick:o,className:"workshop-close",children:"\xd7"})]}),(0,Xo.jsxs)("div",{className:"bias-progress-container",children:[(0,Xo.jsx)("div",{className:"bias-progress-bar",children:(0,Xo.jsx)("div",{className:"bias-progress-fill",style:{width:"".concat(a.step/4*100,"%")}})}),(0,Xo.jsx)("div",{className:"bias-progress-steps",children:["Scenario","Input","Simulazione","Validazione"].map(((e,t)=>(0,Xo.jsxs)("div",{className:"bias-progress-step ".concat(t+1<=a.step?"active":""),children:[(0,Xo.jsx)("div",{className:"step-circle",children:t+1}),(0,Xo.jsx)("span",{children:e})]},t)))})]}),(0,Xo.jsxs)("div",{className:"bias-content",children:[1===a.step&&(0,Xo.jsxs)("div",{className:"bias-step",children:[(0,Xo.jsxs)("div",{className:"step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83c\udfaf Seleziona Scenario di Bias"}),(0,Xo.jsx)("p",{children:"Scegli una situazione condominiale dove l'IA potrebbe sviluppare comportamenti discriminatori"})]}),(0,Xo.jsx)("div",{className:"scenarios-grid-bias",children:u.map((e=>(0,Xo.jsxs)("div",{className:"scenario-card-bias",children:[(0,Xo.jsxs)("div",{className:"scenario-header",children:[(0,Xo.jsx)("div",{className:"scenario-icon",children:e.icon}),(0,Xo.jsx)("div",{className:"warning-badge ".concat(e.warningLevel),children:"alto"===e.warningLevel?"\ud83d\udd34 ALTO RISCHIO":"medio"===e.warningLevel?"\ud83d\udfe1 MEDIO RISCHIO":"\ud83d\udfe2 BASSO RISCHIO"})]}),(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsxs)("div",{className:"scenario-details",children:[(0,Xo.jsxs)("div",{className:"detail-section",children:[(0,Xo.jsx)("strong",{children:"Contesti di Utilizzo:"}),(0,Xo.jsx)("ul",{children:e.contexts.map(((e,t)=>(0,Xo.jsx)("li",{children:e},t)))})]}),(0,Xo.jsxs)("div",{className:"detail-section",children:[(0,Xo.jsx)("strong",{children:"Potenziali Bias:"}),(0,Xo.jsx)("ul",{className:"bias-list",children:e.biasTypes.map(((e,t)=>(0,Xo.jsx)("li",{className:"bias-warning",children:e},t)))})]})]}),(0,Xo.jsx)("button",{onClick:()=>{return t=e.id,void l({step:2,selectedScenario:t,userInput:"",simulationResults:null,biasDetected:[]});var t},className:"btn-select-scenario-bias",children:"\ud83d\udd0d Simula Questo Scenario"})]},e.id)))})]}),2===a.step&&(0,Xo.jsxs)("div",{className:"bias-step",children:[(0,Xo.jsxs)("div",{className:"step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcdd Configura Input del Sistema"}),(0,Xo.jsxs)("p",{children:["Descrivi una situazione specifica per ",(0,Xo.jsx)("strong",{children:null===d||void 0===d?void 0:d.title})]})]}),(0,Xo.jsxs)("div",{className:"input-layout",children:[(0,Xo.jsxs)("div",{className:"scenario-context",children:[(0,Xo.jsxs)("div",{className:"selected-scenario",children:[(0,Xo.jsxs)("div",{className:"scenario-badge",children:[null===d||void 0===d?void 0:d.icon," ",null===d||void 0===d?void 0:d.title]}),(0,Xo.jsx)("p",{children:null===d||void 0===d?void 0:d.description})]}),(0,Xo.jsxs)("div",{className:"input-examples",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udca1 Esempi di Input:"}),(0,Xo.jsxs)("div",{className:"example-inputs",children:["tenant-selection"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"example-input safe",children:[(0,Xo.jsx)("strong",{children:"\u2705 Input Neutrale:"}),(0,Xo.jsx)("p",{children:'"Valuta candidato: reddito \u20ac2.800/mese, contratto indeterminato, referenze positive"'})]}),(0,Xo.jsxs)("div",{className:"example-input risky",children:[(0,Xo.jsx)("strong",{children:"\u26a0\ufe0f Input a Rischio Bias:"}),(0,Xo.jsx)("p",{children:'"Valuta candidato: giovane single, zona periferica, primo affitto, famiglia straniera"'})]})]}),"maintenance-priority"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"example-input safe",children:[(0,Xo.jsx)("strong",{children:"\u2705 Input Neutrale:"}),(0,Xo.jsx)("p",{children:'"Perdita acqua bagno principale, appartamento 3B, segnalata oggi mattina"'})]}),(0,Xo.jsxs)("div",{className:"example-input risky",children:[(0,Xo.jsx)("strong",{children:"\u26a0\ufe0f Input a Rischio Bias:"}),(0,Xo.jsx)("p",{children:'"Reclamo elettrico, piano alto, proprietario importante, secondo reclamo questo mese"'})]})]}),"communication-personalization"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"example-input safe",children:[(0,Xo.jsx)("strong",{children:"\u2705 Input Neutrale:"}),(0,Xo.jsx)("p",{children:'"Invia comunicazione assemblea condominiale a tutti i condomini"'})]}),(0,Xo.jsxs)("div",{className:"example-input risky",children:[(0,Xo.jsx)("strong",{children:"\u26a0\ufe0f Input a Rischio Bias:"}),(0,Xo.jsx)("p",{children:'"Personalizza messaggio per anziano pensionato, argomento normativa tecnica complessa"'})]})]})]})]})]}),(0,Xo.jsxs)("div",{className:"input-form",children:[(0,Xo.jsx)("label",{children:"Il tuo scenario specifico:"}),(0,Xo.jsx)("textarea",{value:a.userInput,onChange:e=>{return t=e.target.value,void l(s(s({},a),{},{userInput:t}));var t},placeholder:"Descrivi la situazione che vuoi far elaborare al sistema IA...",rows:"6"}),(0,Xo.jsxs)("div",{className:"input-actions",children:[(0,Xo.jsx)("button",{onClick:()=>l(s(s({},a),{},{step:1})),className:"btn-back",children:"\u2190 Cambia Scenario"}),(0,Xo.jsx)("button",{onClick:()=>{const e=s(s({},a),{},{step:3});l(e),setTimeout((()=>{c(e)}),2e3)},className:"btn-simulate",disabled:!a.userInput.trim(),children:"\ud83d\ude80 Avvia Simulazione"})]})]})]})]}),3===a.step&&(0,Xo.jsx)("div",{className:"bias-step",children:a.simulationResults?(0,Xo.jsxs)("div",{className:"simulation-results",children:[(0,Xo.jsxs)("div",{className:"step-header",children:[(0,Xo.jsx)("h3",{children:"\u26a0\ufe0f Bias Rilevati nel Sistema"}),(0,Xo.jsx)("p",{children:"La simulazione ha identificato comportamenti discriminatori automatici"})]}),(0,Xo.jsxs)("div",{className:"results-layout-bias",children:[(0,Xo.jsxs)("div",{className:"bias-detection-panel",children:[(0,Xo.jsxs)("div",{className:"bias-alert",children:[(0,Xo.jsx)("div",{className:"alert-icon",children:"\ud83d\udea8"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsxs)("strong",{children:[a.simulationResults.biasesFound.length," Bias Rilevati"]}),(0,Xo.jsx)("p",{children:"Il sistema ha applicato discriminazioni automatiche"})]})]}),(0,Xo.jsx)("div",{className:"detected-biases",children:a.simulationResults.biasesFound.map(((e,t)=>(0,Xo.jsxs)("div",{className:"bias-item ".concat(e.severity),children:[(0,Xo.jsxs)("div",{className:"bias-header",children:[(0,Xo.jsx)("span",{className:"bias-type",children:e.type}),(0,Xo.jsxs)("span",{className:"severity-badge ".concat(e.severity),children:["critico"===e.severity?"\ud83d\udd34":"moderato"===e.severity?"\ud83d\udfe1":"\ud83d\udfe2",e.severity.toUpperCase()]})]}),(0,Xo.jsx)("div",{className:"bias-description",children:e.description}),(0,Xo.jsxs)("div",{className:"bias-impact",children:[(0,Xo.jsx)("strong",{children:"Impatto:"})," ",e.impact]})]},t)))})]}),(0,Xo.jsxs)("div",{className:"comparison-panel",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcca Confronto Risultati"}),(0,Xo.jsxs)("div",{className:"before-after",children:[(0,Xo.jsxs)("div",{className:"result-box neutral",children:[(0,Xo.jsx)("h5",{children:"\u2705 Decisione Neutra"}),"tenant-selection"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)("div",{className:"metric",children:["Score: ",(0,Xo.jsxs)("span",{className:"value",children:[a.simulationResults.originalScore,"/100"]})]}),"maintenance-priority"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)("div",{className:"metric",children:["Priorit\xe0: ",(0,Xo.jsxs)("span",{className:"value",children:[a.simulationResults.originalPriority,"/10"]})]}),"communication-personalization"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)("div",{className:"metric",children:["Tono: ",(0,Xo.jsx)("span",{className:"value",children:a.simulationResults.originalTone})]})]}),(0,Xo.jsxs)("div",{className:"result-box biased",children:[(0,Xo.jsx)("h5",{children:"\u26a0\ufe0f Decisione con Bias"}),"tenant-selection"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"metric",children:["Score: ",(0,Xo.jsxs)("span",{className:"value danger",children:[a.simulationResults.biasedScore,"/100"]})]}),(0,Xo.jsx)("div",{className:"recommendation",children:a.simulationResults.recommendation})]}),"maintenance-priority"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"metric",children:["Priorit\xe0: ",(0,Xo.jsxs)("span",{className:"value danger",children:[a.simulationResults.biasedPriority,"/10"]})]}),(0,Xo.jsx)("div",{className:"recommendation",children:a.simulationResults.estimatedTimeline})]}),"communication-personalization"===(null===d||void 0===d?void 0:d.id)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("div",{className:"metric",children:["Tono: ",(0,Xo.jsx)("span",{className:"value danger",children:a.simulationResults.biasedTone})]}),(0,Xo.jsxs)("div",{className:"recommendation",children:["Contenuto: ",a.simulationResults.contentFiltering]})]})]})]}),(0,Xo.jsxs)("div",{className:"corrections-preview",children:[(0,Xo.jsx)("h5",{children:"\ud83d\udee0\ufe0f Correzioni Suggerite"}),(0,Xo.jsx)("ul",{children:a.simulationResults.corrections.map(((e,t)=>(0,Xo.jsx)("li",{children:e},t)))})]}),(0,Xo.jsx)("button",{onClick:()=>{l(s(s({},a),{},{step:4,checklistCompleted:!0}))},className:"btn-proceed-validation",children:"\u2705 Procedi alla Validazione"})]})]})]}):(0,Xo.jsxs)("div",{className:"simulation-loading",children:[(0,Xo.jsxs)("div",{className:"ai-brain-animation",children:[(0,Xo.jsx)("div",{className:"brain-pulse",children:"\ud83e\udde0"}),(0,Xo.jsxs)("div",{className:"processing-dots",children:[(0,Xo.jsx)("span",{children:"."}),(0,Xo.jsx)("span",{children:"."}),(0,Xo.jsx)("span",{children:"."})]})]}),(0,Xo.jsx)("h3",{children:"\ud83d\udd0d IA in Elaborazione"}),(0,Xo.jsx)("p",{children:"Il sistema sta analizzando il tuo input e applicando i suoi algoritmi..."}),(0,Xo.jsxs)("div",{className:"processing-steps",children:[(0,Xo.jsx)("div",{className:"processing-step active",children:"\ud83d\udcca Analisi pattern storici"}),(0,Xo.jsx)("div",{className:"processing-step active",children:"\ud83c\udff7\ufe0f Classificazione automatica"}),(0,Xo.jsx)("div",{className:"processing-step active",children:"\u26a1 Applicazione bias impliciti"}),(0,Xo.jsx)("div",{className:"processing-step active",children:"\ud83d\udccb Generazione raccomandazione"})]})]})}),4===a.step&&(0,Xo.jsxs)("div",{className:"bias-step",children:[(0,Xo.jsxs)("div",{className:"step-header",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udee1\ufe0f Toolkit Anti-Bias"}),(0,Xo.jsx)("p",{children:"Framework pratico per riconoscere e prevenire bias algoritmici"})]}),(0,Xo.jsxs)("div",{className:"validation-layout",children:[(0,Xo.jsxs)("div",{className:"checklist-section",children:[(0,Xo.jsx)("h4",{children:'\ud83d\udccb Checklist "Bias Detection"'}),(0,Xo.jsx)("p",{children:(0,Xo.jsx)("em",{children:"Prima di implementare qualsiasi decisione IA, verifica:"})}),(0,Xo.jsx)("div",{className:"checklist-items",children:["L'IA ha trattato tutti i soggetti equamente?","Le raccomandazioni favoriscono qualche gruppo specifico?","I criteri di decisione sono trasparenti e giustificabili?","Avresti preso la stessa decisione con metodo tradizionale?","Puoi spiegare il ragionamento a un terzo neutrale?"].map(((e,t)=>{var n;const i=null===(n=a.checkedItems)||void 0===n?void 0:n.includes(t);return(0,Xo.jsxs)("div",{className:"checklist-item ".concat(i?"checked":""),onClick:()=>(e=>{const t=a.checkedItems||[],n=t.includes(e)?t.filter((t=>t!==e)):[...t,e];l(s(s({},a),{},{checkedItems:n}))})(t),children:[(0,Xo.jsx)("div",{className:"checkbox",children:i?"\u2713":"\u25a1"}),(0,Xo.jsx)("span",{children:e})]},t)}))})]}),(0,Xo.jsxs)("div",{className:"perspective-section",children:[(0,Xo.jsx)("h4",{children:'\ud83d\udd04 Tecnica "Perspective Shifting"'}),(0,Xo.jsxs)("div",{className:"perspective-box",children:[(0,Xo.jsxs)("div",{className:"perspective-quote",children:['"Prima di implementare decisione IA, chiedetevi:',(0,Xo.jsx)("strong",{children:"Come la vedrebbe il condomino pi\xf9 svantaggiato? Il pi\xf9 critico? Il pi\xf9 vulnerabile?"}),'"']}),(0,Xo.jsxs)("div",{className:"perspective-examples",children:[(0,Xo.jsx)("h5",{children:"\ud83d\udcad Applica al tuo scenario:"}),d&&(0,Xo.jsxs)("div",{className:"scenario-reflection",children:[(0,Xo.jsxs)("strong",{children:["Scenario: ",d.title]}),(0,Xo.jsxs)("div",{className:"reflection-questions",children:["tenant-selection"===d.id&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("p",{children:["\ud83d\udc65 ",(0,Xo.jsx)("strong",{children:"Dal punto di vista del candidato rifiutato:"}),' "Sono stato discriminato per la mia zona di provenienza?"']}),(0,Xo.jsxs)("p",{children:["\ud83c\udfd8\ufe0f ",(0,Xo.jsx)("strong",{children:"Dal punto di vista della comunit\xe0:"}),' "Questo sistema perpetua segregazione territoriale?"']}),(0,Xo.jsxs)("p",{children:["\u2696\ufe0f ",(0,Xo.jsx)("strong",{children:"Dal punto di vista legale:"}),' "Questi criteri violano normative anti-discriminazione?"']})]}),"maintenance-priority"===d.id&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("p",{children:["\ud83d\udd27 ",(0,Xo.jsx)("strong",{children:"Dal punto di vista dell'inquilino penalizzato:"}),' "Perch\xe9 il mio problema \xe8 sempre meno prioritario?"']}),(0,Xo.jsxs)("p",{children:["\ud83c\udfe0 ",(0,Xo.jsx)("strong",{children:"Dal punto di vista di equit\xe0 condominiale:"}),' "Tutti i condomini ricevono stesso livello di servizio?"']}),(0,Xo.jsxs)("p",{children:["\ud83d\udcca ",(0,Xo.jsx)("strong",{children:"Dal punto di vista della trasparenza:"}),' "I criteri di priorit\xe0 sono chiari e giusti?"']})]}),"communication-personalization"===d.id&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("p",{children:["\ud83d\udc74 ",(0,Xo.jsx)("strong",{children:'Dal punto di vista dell\'anziano "protetto":'}),' "Sono trattato come incapace di capire?"']}),(0,Xo.jsxs)("p",{children:["\ud83d\udcda ",(0,Xo.jsx)("strong",{children:"Dal punto di vista dell'autonomia:"}),' "Ho diritto alle stesse informazioni di tutti?"']}),(0,Xo.jsxs)("p",{children:["\ud83c\udfaf ",(0,Xo.jsx)("strong",{children:"Dal punto di vista dell'inclusione:"}),' "Questa personalizzazione mi isola o mi integra?"']})]})]})]})]})]})]}),(0,Xo.jsxs)("div",{className:"action-framework",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udee0\ufe0f Framework Implementazione"}),(0,Xo.jsxs)("div",{className:"framework-steps",children:[(0,Xo.jsxs)("div",{className:"framework-step",children:[(0,Xo.jsx)("div",{className:"step-number",children:"1"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Audit Preliminare"}),(0,Xo.jsx)("p",{children:"Test sistema con dataset diversificati prima del deploy"})]})]}),(0,Xo.jsxs)("div",{className:"framework-step",children:[(0,Xo.jsx)("div",{className:"step-number",children:"2"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Monitoring Continuo"}),(0,Xo.jsx)("p",{children:"Tracking pattern discriminatori su base mensile"})]})]}),(0,Xo.jsxs)("div",{className:"framework-step",children:[(0,Xo.jsx)("div",{className:"step-number",children:"3"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Supervisione Umana"}),(0,Xo.jsx)("p",{children:"Review manuale decisioni IA ad alto impatto"})]})]}),(0,Xo.jsxs)("div",{className:"framework-step",children:[(0,Xo.jsx)("div",{className:"step-number",children:"4"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{children:"Feedback Loop"}),(0,Xo.jsx)("p",{children:"Canale per segnalazione bias e correzione algoritmi"})]})]})]})]})]}),(0,Xo.jsxs)("div",{className:"final-actions",children:[(0,Xo.jsx)("button",{onClick:()=>{l({step:1,selectedScenario:null,userInput:"",simulationResults:null,biasDetected:[],checklistCompleted:!1})},className:"btn-new-simulation",children:"\ud83d\udd04 Nuova Simulazione"}),(0,Xo.jsx)("button",{onClick:o,className:"btn-complete-workshop",children:"\u2705 Completa Workshop"})]})]})]})]})})},Ts=()=>{const{state:e,dispatch:t}=is();if("roi-planner"!==e.activeWorkshop)return null;const n=e.workshopData.roiPlanner||{step:1,businessProfile:{},selectedTools:[],timeline:"12months",investmentLevel:"starter",calculations:null,reportGenerated:!1};console.log("\ud83d\udd35 roiData:",n),console.log("\ud83d\udd35 roiData.step:",n.step);const i=()=>{t({type:"CLOSE_WORKSHOP"}),t({type:"RESET_WORKSHOP_DATA",payload:"roiPlanner"})},r=e=>{t({type:"UPDATE_WORKSHOP_DATA",payload:{workshop:"roiPlanner",data:e}})},a=[{id:"solo",title:"Amministratore Solo",icon:"\ud83d\udc64",description:"Studio individuale, 5-15 condomini",characteristics:["1 persona","5-15 condomini","Budget limitato","Focus efficienza"],baseRevenue:45e3,timeSpent:45,painPoints:["Sovraccarico lavoro","Comunicazioni ripetitive","Poco tempo sviluppo business"]},{id:"small-team",title:"Studio Piccolo",icon:"\ud83d\udc65",description:"Team 2-4 persone, 15-35 condomini",characteristics:["2-4 persone","15-35 condomini","Budget moderato","Crescita sostenuta"],baseRevenue:12e4,timeSpent:50,painPoints:["Coordinamento team","Standardizzazione processi","Qualit\xe0 costante output"]},{id:"established",title:"Studio Affermato",icon:"\ud83c\udfe2",description:"Team 5+ persone, 35+ condomini",characteristics:["5+ persone","35+ condomini","Budget significativo","Leadership mercato"],baseRevenue:25e4,timeSpent:55,painPoints:["Scalabilit\xe0 processi","Innovazione competitiva","Differenziazione premium"]}],o=[{id:"chatgpt-plus",name:"ChatGPT Plus",category:"Generative AI",monthlyCost:20,setupCost:0,timeSaving:8,useCases:["Comunicazioni","Email","Documenti base"],complexity:"low",roi:"immediate"},{id:"claude-pro",name:"Claude Pro",category:"Document Analysis",monthlyCost:20,setupCost:0,timeSaving:12,useCases:["Analisi contratti","Capitolati","Documenti complessi"],complexity:"low",roi:"immediate"},{id:"office-copilot",name:"Microsoft 365 Copilot",category:"Workflow Integration",monthlyCost:30,setupCost:200,timeSaving:15,useCases:["Office integration","Email auto","Scheduling"],complexity:"medium",roi:"medium-term"},{id:"property-ai",name:"Property Management AI",category:"Specialized Tools",monthlyCost:150,setupCost:1500,timeSaving:25,useCases:["Manutenzione predittiva","Reporting auto","Analytics"],complexity:"high",roi:"long-term"},{id:"smart-building",name:"Smart Building Platform",category:"IoT + AI",monthlyCost:300,setupCost:5e3,timeSaving:35,useCases:["Building automation","Energy optimization","Predictive maintenance"],complexity:"high",roi:"long-term"}],l=()=>{const e=a.find((e=>e.id===n.businessProfile.id));if(!e||0===n.selectedTools.length)return null;const t=n.selectedTools.map((e=>o.find((t=>t.id===e)))),i=t.reduce(((e,t)=>e+t.monthlyCost),0),r=t.reduce(((e,t)=>e+t.setupCost),0),s=12*i+r,l=t.reduce(((e,t)=>e+t.timeSaving),0),c=e.baseRevenue/(52*e.timeSpent),u=52*l,d=u*c,p=1.15,h=.95,m=s*p,f=52*(l*.75)*c*.8,g=(d-s)/s*100,v=s/(d/12),y=(f-m)/m*100,b=m/(f/12),_=d-s,C=d-12*i,S=d-12*i,x=_+C+S,w=f-m,N=f*h-12*i*p,I=f*Math.pow(h,2)-12*i*p,E=w+N+I,k=((e,t)=>{let n=70;return e.timeSpent>50&&(n+=10),t.some((e=>"low"===e.complexity))&&(n+=10),t.length<=2&&(n+=5),t.some((e=>"high"===e.complexity))&&(n-=15),t.length>3&&(n-=10),e.baseRevenue<5e4&&(n-=10),Math.max(40,Math.min(90,n))})(e,t),z=((e,t)=>{const n=[];return t.some((e=>"high"===e.complexity))&&n.push("Strumenti complessi richiedono formazione estesa"),t.length>3&&n.push("Gestione multipla di strumenti pu\xf2 creare inefficienze"),e.baseRevenue<8e4&&n.push("Budget limitato pu\xf2 compromettere implementazione completa"),e.timeSpent<40&&n.push("Tempo limitato pu\xf2 rallentare adozione dei nuovi strumenti"),n})(e,t);return{annualCost:s,monthlyCosts:i,setupCosts:r,timeSaving:l,annualTimeSavings:u,monetaryBenefit:d,roi:g,paybackMonths:v,year1:_,year2:C,year3:S,threeYearNet:x,hourlyRate:c,adjustedAnnualCost:m,adjustedBenefit:f,realisticROI:y,realisticPayback:b,realisticYear1:w,realisticYear2:N,realisticYear3:I,realisticThreeYear:E,confidenceLevel:k,riskFactors:z,roiRange:{pessimistic:.8*y,optimistic:1.1*g}}};return(0,Xo.jsx)("div",{className:"workshop-overlay",children:(0,Xo.jsxs)("div",{className:"workshop-container roi-planner-container",children:[(0,Xo.jsxs)("div",{className:"workshop-header roi-header",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h2",{children:"\ud83d\udcca ROI Planner IA"}),(0,Xo.jsx)("p",{children:"Pianifica investimenti IA con analisi costi-benefici professionale"})]}),(0,Xo.jsx)("button",{onClick:i,className:"workshop-close",children:"\xd7"})]}),(0,Xo.jsx)("div",{className:"roi-progress",children:(0,Xo.jsx)("div",{className:"roi-progress-steps",children:["Profilo","Strumenti","Budget","Risultati"].map(((e,t)=>(0,Xo.jsxs)("div",{className:"roi-progress-step ".concat(t+1<=n.step?"active":""),children:[(0,Xo.jsx)("div",{className:"roi-step-number",children:t+1}),(0,Xo.jsx)("span",{children:e})]},t)))})}),(0,Xo.jsxs)("div",{className:"roi-content",children:[1===n.step&&(0,Xo.jsxs)("div",{className:"roi-step",children:[(0,Xo.jsx)("h3",{children:"\ud83c\udfaf Seleziona il Tuo Profilo Business"}),(0,Xo.jsx)("p",{children:"Identifica la categoria che meglio descrive il tuo studio"}),(0,Xo.jsx)("div",{className:"business-profiles",children:a.map((e=>(0,Xo.jsxs)("div",{className:"profile-card ".concat(n.businessProfile.id===e.id?"selected":""),onClick:()=>r(s(s({},n),{},{businessProfile:e})),children:[(0,Xo.jsxs)("div",{className:"profile-header",children:[(0,Xo.jsx)("div",{className:"profile-icon",children:e.icon}),(0,Xo.jsx)("h4",{children:e.title})]}),(0,Xo.jsx)("p",{className:"profile-description",children:e.description}),(0,Xo.jsx)("div",{className:"profile-characteristics",children:e.characteristics.map(((e,t)=>(0,Xo.jsx)("span",{className:"characteristic-tag",children:e},t)))}),(0,Xo.jsxs)("div",{className:"profile-metrics",children:[(0,Xo.jsxs)("div",{className:"metric",children:[(0,Xo.jsx)("strong",{children:"Fatturato medio:"})," \u20ac",e.baseRevenue.toLocaleString()]}),(0,Xo.jsxs)("div",{className:"metric",children:[(0,Xo.jsx)("strong",{children:"Ore lavoro/settimana:"})," ",e.timeSpent,"h"]})]}),(0,Xo.jsxs)("div",{className:"pain-points",children:[(0,Xo.jsx)("strong",{children:"Pain Points Principali:"}),(0,Xo.jsx)("ul",{children:e.painPoints.map(((e,t)=>(0,Xo.jsx)("li",{children:e},t)))})]})]},e.id)))}),n.businessProfile.id&&(0,Xo.jsx)("button",{onClick:()=>r(s(s({},n),{},{step:2})),className:"btn-next-step",children:"Continua \u2192 Selezione Strumenti"})]}),2===n.step&&(0,Xo.jsxs)("div",{className:"roi-step",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udee0\ufe0f Seleziona Strumenti IA"}),(0,Xo.jsx)("p",{children:"Scegli gli strumenti che vuoi valutare per il tuo investimento"}),(0,Xo.jsx)("div",{className:"tools-grid",children:o.map((e=>(0,Xo.jsxs)("div",{className:"tool-card ".concat(n.selectedTools.includes(e.id)?"selected":""),onClick:()=>{const t=n.selectedTools.includes(e.id)?n.selectedTools.filter((t=>t!==e.id)):[...n.selectedTools,e.id];r(s(s({},n),{},{selectedTools:t}))},children:[(0,Xo.jsxs)("div",{className:"tool-header",children:[(0,Xo.jsx)("h4",{children:e.name}),(0,Xo.jsx)("span",{className:"tool-category",children:e.category})]}),(0,Xo.jsxs)("div",{className:"tool-cost",children:[(0,Xo.jsxs)("div",{className:"monthly-cost",children:["\u20ac",e.monthlyCost,"/mese"]}),e.setupCost>0&&(0,Xo.jsxs)("div",{className:"setup-cost",children:["Setup: \u20ac",e.setupCost]})]}),(0,Xo.jsxs)("div",{className:"tool-benefits",children:[(0,Xo.jsxs)("div",{className:"time-saving",children:["\u23f0 Risparmio: ",e.timeSaving,"h/settimana"]}),(0,Xo.jsxs)("div",{className:"complexity complexity-".concat(e.complexity),children:["\ud83d\udcc8 Complessit\xe0: ",e.complexity]})]}),(0,Xo.jsxs)("div",{className:"use-cases",children:[(0,Xo.jsx)("strong",{children:"Casi d'uso:"}),(0,Xo.jsx)("ul",{children:e.useCases.map(((e,t)=>(0,Xo.jsx)("li",{children:e},t)))})]})]},e.id)))}),(0,Xo.jsxs)("div",{className:"step-actions",children:[(0,Xo.jsx)("button",{onClick:()=>r(s(s({},n),{},{step:1})),className:"btn-back",children:"\u2190 Torna al Profilo"}),n.selectedTools.length>0&&(0,Xo.jsx)("button",{onClick:()=>r(s(s({},n),{},{step:3})),className:"btn-next-step",children:"Continua \u2192 Configurazione Budget"})]})]}),3===n.step&&(0,Xo.jsxs)("div",{className:"roi-step",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcb0 Livello Investimento"}),(0,Xo.jsx)("p",{children:"Seleziona il range di budget per la tua strategia IA"}),(0,Xo.jsx)("div",{className:"investment-levels",children:[{id:"starter",title:"Starter Package",budget:"\u20ac500-2.000/anno",description:"Tools base per iniziare",icon:"\ud83c\udf31"},{id:"professional",title:"Professional Suite",budget:"\u20ac2.000-8.000/anno",description:"Integrazione workflow completa",icon:"\u26a1"},{id:"enterprise",title:"Enterprise Solution",budget:"\u20ac8.000+/anno",description:"Trasformazione digitale totale",icon:"\ud83d\ude80"}].map((e=>(0,Xo.jsxs)("div",{className:"investment-card ".concat(n.investmentLevel===e.id?"selected":""),onClick:()=>r(s(s({},n),{},{investmentLevel:e.id})),children:[(0,Xo.jsx)("div",{className:"investment-icon",children:e.icon}),(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("div",{className:"investment-budget",children:e.budget}),(0,Xo.jsx)("p",{children:e.description})]},e.id)))}),(0,Xo.jsxs)("div",{className:"timeline-selection",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcc5 Timeline Analisi"}),(0,Xo.jsx)("div",{className:"timeline-options",children:[{id:"6months",label:"6 Mesi",desc:"Quick wins focus"},{id:"12months",label:"1 Anno",desc:"Standard planning"},{id:"24months",label:"2 Anni",desc:"Strategic view"},{id:"36months",label:"3 Anni",desc:"Long-term ROI"}].map((e=>(0,Xo.jsxs)("label",{className:"timeline-option",children:[(0,Xo.jsx)("input",{type:"radio",name:"timeline",value:e.id,checked:n.timeline===e.id,onChange:e=>r(s(s({},n),{},{timeline:e.target.value}))}),(0,Xo.jsxs)("span",{className:"timeline-label",children:[(0,Xo.jsx)("strong",{children:e.label}),(0,Xo.jsx)("small",{children:e.desc})]})]},e.id)))})]}),(0,Xo.jsxs)("div",{className:"step-actions",children:[(0,Xo.jsx)("button",{onClick:()=>r(s(s({},n),{},{step:2})),className:"btn-back",children:"\u2190 Modifica Strumenti"}),(0,Xo.jsx)("button",{onClick:()=>{const e=l();r(s(s({},n),{},{step:4,calculations:e}))},className:"btn-calculate",children:"\ud83e\uddee Calcola ROI"})]})]}),4===n.step&&n.calculations&&(0,Xo.jsxs)("div",{className:"roi-step",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcc8 Analisi ROI Completa"}),(0,Xo.jsxs)("div",{className:"roi-results-dashboard",children:[(0,Xo.jsxs)("div",{className:"key-metrics",children:[(0,Xo.jsxs)("div",{className:"metric-card primary",children:[(0,Xo.jsx)("h4",{children:"ROI Annuale"}),(0,Xo.jsxs)("div",{className:"metric-value",children:[n.calculations.roi>0?"+":"",n.calculations.roi.toFixed(1),"%"]}),(0,Xo.jsx)("div",{className:"metric-trend",children:n.calculations.roi>100?"Eccellente":n.calculations.roi>50?"Molto Buono":n.calculations.roi>0?"Positivo":"Da rivedere"})]}),(0,Xo.jsxs)("div",{className:"metric-card",children:[(0,Xo.jsx)("h4",{children:"Payback Period"}),(0,Xo.jsxs)("div",{className:"metric-value",children:[n.calculations.paybackMonths.toFixed(1)," mesi"]})]}),(0,Xo.jsxs)("div",{className:"metric-card",children:[(0,Xo.jsx)("h4",{children:"Risparmio Tempo"}),(0,Xo.jsxs)("div",{className:"metric-value",children:[n.calculations.timeSaving,"h/settimana"]})]}),(0,Xo.jsxs)("div",{className:"metric-card",children:[(0,Xo.jsx)("h4",{children:"Costo Annuale"}),(0,Xo.jsxs)("div",{className:"metric-value",children:["\u20ac",n.calculations.annualCost.toLocaleString()]})]})]}),(0,Xo.jsxs)("div",{className:"scenario-comparison",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcca Confronto Scenari"}),(0,Xo.jsxs)("div",{className:"roi-comparison-grid",children:[(0,Xo.jsxs)("div",{className:"roi-scenario-card optimistic",children:[(0,Xo.jsx)("h5",{children:"\ud83c\udfaf Scenario Ottimistico"}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"ROI"}),(0,Xo.jsxs)("span",{className:"value",children:[n.calculations.roi.toFixed(1),"%"]})]}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"Payback"}),(0,Xo.jsxs)("span",{className:"value",children:[n.calculations.paybackMonths.toFixed(1)," mesi"]})]}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"3 anni"}),(0,Xo.jsxs)("span",{className:"value",children:["\u20ac",n.calculations.threeYearNet.toLocaleString()]})]})]}),(0,Xo.jsxs)("div",{className:"scenario-card realistic",children:[(0,Xo.jsx)("h5",{children:"\u2696\ufe0f Scenario Realistico"}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"ROI"}),(0,Xo.jsxs)("span",{className:"value",children:[n.calculations.realisticROI.toFixed(1),"%"]})]}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"Payback"}),(0,Xo.jsxs)("span",{className:"value",children:[n.calculations.realisticPayback.toFixed(1)," mesi"]})]}),(0,Xo.jsxs)("div",{className:"scenario-metric",children:[(0,Xo.jsx)("span",{children:"3 anni"}),(0,Xo.jsxs)("span",{className:"value",children:["\u20ac",n.calculations.realisticThreeYear.toLocaleString()]})]})]})]}),(0,Xo.jsxs)("div",{className:"confidence-indicator",children:[(0,Xo.jsx)("div",{className:"confidence-bar",children:(0,Xo.jsx)("div",{className:"confidence-fill",style:{width:"".concat(n.calculations.confidenceLevel,"%")}})}),(0,Xo.jsxs)("p",{children:["Livello di Confidenza: ",(0,Xo.jsxs)("strong",{children:[n.calculations.confidenceLevel,"%"]})]})]})]}),n.calculations.riskFactors.length>0&&(0,Xo.jsxs)("div",{className:"risk-analysis",children:[(0,Xo.jsx)("h4",{children:"\u26a0\ufe0f Fattori di Rischio"}),(0,Xo.jsx)("div",{className:"risk-list",children:n.calculations.riskFactors.map(((e,t)=>(0,Xo.jsxs)("div",{className:"risk-item",children:[(0,Xo.jsx)("span",{className:"risk-icon",children:"\u26a0\ufe0f"}),(0,Xo.jsx)("span",{className:"risk-text",children:e})]},t)))})]}),(0,Xo.jsxs)("div",{className:"cost-breakdown",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcb8 Breakdown Costi"}),(0,Xo.jsxs)("div",{className:"roi-breakdown-items",children:[(0,Xo.jsxs)("div",{className:"roi-breakdown-item",children:[(0,Xo.jsx)("span",{children:"Costi Setup Iniziali"}),(0,Xo.jsxs)("span",{children:["\u20ac",n.calculations.setupCosts.toLocaleString()]})]}),(0,Xo.jsxs)("div",{className:"breakdown-item",children:[(0,Xo.jsx)("span",{children:"Costi Mensili"}),(0,Xo.jsxs)("span",{children:["\u20ac",n.calculations.monthlyCosts,"/mese"]})]}),(0,Xo.jsxs)("div",{className:"breakdown-item total",children:[(0,Xo.jsx)("span",{children:"Totale Anno 1"}),(0,Xo.jsxs)("span",{children:["\u20ac",n.calculations.annualCost.toLocaleString()]})]})]})]}),(0,Xo.jsxs)("div",{className:"benefits-analysis",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcb0 Analisi Benefici"}),(0,Xo.jsxs)("div",{className:"roi-benefit-items",children:[(0,Xo.jsxs)("div",{className:"roi-benefit-item",children:[(0,Xo.jsx)("span",{children:"Ore risparmiate/anno"}),(0,Xo.jsxs)("span",{children:[n.calculations.annualTimeSavings,"h"]})]}),(0,Xo.jsxs)("div",{className:"benefit-item",children:[(0,Xo.jsx)("span",{children:"Valore orario stimato"}),(0,Xo.jsxs)("span",{children:["\u20ac",n.calculations.hourlyRate.toFixed(0),"/h"]})]}),(0,Xo.jsxs)("div",{className:"benefit-item total",children:[(0,Xo.jsx)("span",{children:"Beneficio Monetario"}),(0,Xo.jsxs)("span",{children:["\u20ac",n.calculations.monetaryBenefit.toLocaleString()]})]})]})]}),(0,Xo.jsxs)("div",{className:"projection-chart",children:[(0,Xo.jsx)("h4",{children:"\ud83d\udcca Proiezione Triennale"}),(0,Xo.jsxs)("div",{className:"year-projections",children:[(0,Xo.jsxs)("div",{className:"year-projection",children:[(0,Xo.jsx)("div",{className:"year-label",children:"Anno 1"}),(0,Xo.jsxs)("div",{className:"year-value ".concat(n.calculations.year1>0?"positive":"negative"),children:["\u20ac",n.calculations.year1.toLocaleString()]})]}),(0,Xo.jsxs)("div",{className:"year-projection",children:[(0,Xo.jsx)("div",{className:"year-label",children:"Anno 2"}),(0,Xo.jsxs)("div",{className:"year-value ".concat(n.calculations.year2>0?"positive":"negative"),children:["\u20ac",n.calculations.year2.toLocaleString()]})]}),(0,Xo.jsxs)("div",{className:"year-projection",children:[(0,Xo.jsx)("div",{className:"year-label",children:"Anno 3"}),(0,Xo.jsxs)("div",{className:"year-value ".concat(n.calculations.year3>0?"positive":"negative"),children:["\u20ac",n.calculations.year3.toLocaleString()]})]})]}),(0,Xo.jsx)("div",{className:"total-projection",children:(0,Xo.jsxs)("strong",{children:["Guadagno Netto 3 Anni: \u20ac",n.calculations.threeYearNet.toLocaleString()]})})]}),(0,Xo.jsxs)("div",{className:"recommendations",children:[(0,Xo.jsx)("h4",{children:"\ud83c\udfaf Raccomandazioni"}),(0,Xo.jsxs)("div",{className:"roi-recommendation-list",children:[n.calculations.roi>100&&(0,Xo.jsxs)("div",{className:"roi-recommendation success",children:[(0,Xo.jsx)("strong",{children:"\u2705 Investimento Fortemente Consigliato"}),(0,Xo.jsx)("p",{children:"ROI eccellente con payback rapido. Implementa subito!"})]}),n.calculations.roi>50&&n.calculations.roi<=100&&(0,Xo.jsxs)("div",{className:"recommendation good",children:[(0,Xo.jsx)("strong",{children:"\ud83d\udc4d Investimento Valido"}),(0,Xo.jsx)("p",{children:"Buon ROI con rischi contenuti. Procedi con implementazione graduale."})]}),n.calculations.roi>0&&n.calculations.roi<=50&&(0,Xo.jsxs)("div",{className:"recommendation caution",children:[(0,Xo.jsx)("strong",{children:"\u26a0\ufe0f Valuta Attentamente"}),(0,Xo.jsx)("p",{children:"ROI positivo ma moderato. Considera benefici qualitativi aggiuntivi."})]}),n.calculations.roi<=0&&(0,Xo.jsxs)("div",{className:"recommendation warning",children:[(0,Xo.jsx)("strong",{children:"\ud83d\udd04 Rivedi Strategia"}),(0,Xo.jsx)("p",{children:"ROI negativo. Riduci strumenti o cerca alternative pi\xf9 economiche."})]}),n.calculations.paybackMonths<=6&&(0,Xo.jsxs)("div",{className:"recommendation info",children:[(0,Xo.jsx)("strong",{children:"\u26a1 Quick Wins"}),(0,Xo.jsx)("p",{children:"Payback molto rapido. Inizia con questi strumenti per risultati immediati."})]})]})]})]}),(0,Xo.jsxs)("div",{className:"roi-disclaimer",children:[(0,Xo.jsx)("h4",{children:"\u26a0\ufe0f Limitazioni dell'Analisi"}),(0,Xo.jsxs)("div",{className:"disclaimer-content",children:[(0,Xo.jsxs)("p",{children:[(0,Xo.jsx)("strong",{children:"IMPORTANTE:"})," I calcoli sono basati su stime e medie di settore"]}),(0,Xo.jsxs)("ul",{children:[(0,Xo.jsx)("li",{children:"I risultati effettivi possono variare del \xb120-30%"}),(0,Xo.jsx)("li",{children:"Non considera costi di formazione e integrazione"}),(0,Xo.jsx)("li",{children:"Assume disponibilit\xe0 immediate delle competenze"}),(0,Xo.jsx)("li",{children:"Consigliamo un progetto pilota prima dell'investimento completo"})]}),(0,Xo.jsxs)("div",{className:"confidence-badge",children:["\ud83d\udcca LIVELLO DI CONFIDENZA: ",(0,Xo.jsxs)("strong",{children:[n.calculations.confidenceLevel,"%"]})]})]})]}),(0,Xo.jsxs)("div",{className:"step-actions",children:[(0,Xo.jsx)("button",{onClick:()=>r(s(s({},n),{},{step:3})),className:"btn-back",children:"\u2190 Modifica Configurazione"}),(0,Xo.jsx)("button",{onClick:()=>{r(s(s({},n),{},{reportGenerated:!0}));const e=a.find((e=>e.id===n.businessProfile.id)),t=n.selectedTools.map((e=>o.find((t=>t.id===e)))),i="\n  === ROI ANALYSIS REPORT - IA CONFRONTO ===\n  Data generazione: ".concat((new Date).toLocaleDateString("it-IT"),"\n\n  PROFILO BUSINESS\n  \u2022 Tipo: ").concat(e.title,"\n  \u2022 Descrizione: ").concat(e.description,"\n  \u2022 Fatturato medio: \u20ac").concat(e.baseRevenue.toLocaleString(),"\n  \u2022 Ore lavoro/settimana: ").concat(e.timeSpent,"h\n\n  STRUMENTI SELEZIONATI\n  ").concat(t.map((e=>"\u2022 ".concat(e.name," (").concat(e.category,") - \u20ac").concat(e.monthlyCost,"/mese"))).join("\n"),"\n\nANALISI ROI\n- ROI Ottimistico: ").concat(n.calculations.roi.toFixed(1),"%\n- ROI Realistico: ").concat(n.calculations.realisticROI.toFixed(1),"%\n- Payback Ottimistico: ").concat(n.calculations.paybackMonths.toFixed(1)," mesi\n- Payback Realistico: ").concat(n.calculations.realisticPayback.toFixed(1)," mesi\n- Livello di Confidenza: ").concat(n.calculations.confidenceLevel,"%\n- Costi Aggiustati: \u20ac").concat(n.calculations.adjustedAnnualCost.toLocaleString(),"\n\n  PROIEZIONE TRIENNALE\n  \u2022 Anno 1: \u20ac").concat(n.calculations.year1.toLocaleString(),"\n  \u2022 Anno 2: \u20ac").concat(n.calculations.year2.toLocaleString(),"\n  \u2022 Anno 3: \u20ac").concat(n.calculations.year3.toLocaleString(),"\n  \u2022 Totale 3 anni: \u20ac").concat(n.calculations.threeYearNet.toLocaleString(),"\n\n  RACCOMANDAZIONI\n  ").concat(n.calculations.roi>100?"\u2705 Investimento Fortemente Consigliato - ROI eccellente con payback rapido":n.calculations.roi>50?"\ud83d\udc4d Investimento Valido - Buon ROI con rischi contenuti":n.calculations.roi>0?"\u26a0\ufe0f Valuta Attentamente - ROI positivo ma moderato":"\ud83d\udd04 Rivedi Strategia - ROI negativo, considera alternative","\n\n    \u26a0\ufe0f IMPORTANTE - LIMITAZIONI DELL'ANALISI:\n- I calcoli sono basati su stime e medie di settore\n- I risultati effettivi possono variare del \xb120-30%\n- Non considera costi di formazione e integrazione\n- Assume disponibilit\xe0 immediate delle competenze\n- Consigliamo un progetto pilota prima dell'investimento completo\n\n\ud83d\udcca LIVELLO DI CONFIDENZA: ").concat(n.calculations.confidenceLevel,"%\n\n  ---\n  Report generato da IA CONFRONTO - Seminario Interattivo\n  www.ia-confronto.it\n  "),l=new Blob([i],{type:"text/plain;charset=utf-8"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="ROI_Analysis_Report_".concat((new Date).toISOString().split("T")[0],".txt"),document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c),alert("\ud83d\udcc4 Report generato e scaricato con successo!\n\nTrova il file nella cartella Downloads del tuo computer.")},className:"btn-generate-report",children:"\ud83d\udcc4 Genera Report Completo"}),(0,Xo.jsx)("button",{onClick:i,className:"btn-complete",children:"\u2705 Completa Analisi"})]})]})]})]})})};const As=function(){const{state:e,dispatch:t}=is();if(!e.currentModule)return null;const n=function(e){const t={1:{title:"Dall'Euforia alla Strategia",subtitle:"L'Evoluzione dell'IA nell'Amministrazione Condominiale",icon:"\ud83d\ude80",duration:75,sections:[{title:"Apertura e Riconnessione: Dal 'Se' al 'Come' Strategico",description:"L'evoluzione della conversazione sull'IA: non pi\xf9 sperimentazione, ma confronto strategico quotidiano.",keyPoints:["Velocit\xe0 evolutiva dell'IA: ogni fase dura la met\xe0 della precedente","Dall'approccio occasionale al partner strategico quotidiano","Focus shift: dal 'se usare l'IA' al 'come usarla strategicamente'"],duration:"5 minuti"},{title:"Aggiornamenti Express: Le Rivoluzioni degli Ultimi Mesi",description:"Panoramica delle innovazioni significative che impattano direttamente la professione dell'amministratore.",keyPoints:["Claude Sonnet 4: analisi documenti voluminosi (capitolati 100+ pagine)","ChatGPT Search Integration: normative aggiornate in tempo reale","Gemini 2.0 + Deep Research: IA come consulente senior per analisi complesse","Il cambio di paradigma: da strumento occasionale a partner strategico"],duration:"10 minuti"},{title:"L'IA Oltre l'Automazione: Impatto Strategico e Trasformativo",description:"Esplorare il potenziale dell'IA come partner strategico per ridefinire il ruolo dell'amministratore.",keyPoints:["Livello 1 - Automazione: comunicazioni standard, template, FAQ","Livello 2 - Augmentation: analisi predittiva, consulenza supportata, gestione proattiva","Livello 3 - Transformation: partner strategico, facilitatore comunit\xe0 intelligenti"],duration:"15 minuti"},{title:"Workshop Flash: Il Framework RACE per Prompt Efficaci",description:"Metodologia pratica per costruire prompt professionali che garantiscono risultati consistenti.",keyPoints:["R - Ruolo: Chi deve essere l'IA per voi","A - Azione: Cosa deve fare esattamente","C - Contesto: Situazione specifica","E - Esempio/Formato: Come deve essere l'output"],duration:"45 minuti"}]},2:{title:"L'Amministratore Aumentato",subtitle:"Nuove Competenze e Prompt Engineering Avanzato",icon:"\ud83e\udde0",duration:90,sections:[{title:"Dall'Operativit\xe0 alla Strategia: Il Nuovo Focus dell'Amministratore",description:"L'IA come 'collaboratore digitale' che gestisce attivit\xe0 operative, liberando tempo per consulenza strategica.",keyPoints:["Da mero esecutore a manager e consulente strategico del 'bene condominio'","L'efficienza guadagnata deve tradursi in riqualificazione verso attivit\xe0 di maggior valore","Focus su problem solving complesso e gestione relazioni umane"],duration:"15 minuti"},{title:"I Nuovi Volti dell'Amministratore del Futuro",description:"Evoluzione del ruolo in figure complementari per affrontare la complessit\xe0 crescente.",keyPoints:["Manager del Patrimonio Digitale: gestisce e protegge dati condominiali IoT","Analista Predittivo: interpreta output IA per anticipare problemi","Facilitatore di Comunit\xe0 Intelligenti: promuove tecnologie sostenibili","Consulente Proattivo: offre consulenza mirata basata su analisi dati","Innovatore del Mercato: identifica nuovi servizi a valore aggiunto"],duration:"15 minuti"},{title:"Il Fattore Umano Insostituibile",description:"Competenze umane che rimangono cruciali nell'era dell'IA.",keyPoints:["Empatia e Intelligenza Emotiva: gestire situazioni delicate","Negoziazione e Mediazione: dinamiche interpersonali complesse","Pensiero Critico: valutare output IA, considerare implicazioni etiche","Costruzione di Fiducia: il rapporto fiduciario si basa sull'interazione umana"],duration:"20 minuti"},{title:"Prompt Engineering Avanzato: Oltre il Framework RACE",description:"Tecniche sofisticate per problemi complessi e casi d'uso avanzati.",keyPoints:["Chain of Thought: guidare l'IA step-by-step per problemi multi-fase","Role Playing Multiplo: analizzare situazioni da pi\xf9 prospettive","Iterazione Guidata: sviluppo progressivo documenti complessi","Validazione Automatica: auto-controllo output secondo criteri predefiniti"],duration:"25 minuti"},{title:"Laboratorio Pratico: Costruisci il Tuo Prompt Perfetto",description:"Personalizzazione estrema delle tecniche apprese su casi reali individuali.",keyPoints:["Self-reflection guidata: identificazione necessit\xe0 ricorrente","Applicazione framework RACE al caso specifico","Test e iterazione su scenario reale del proprio lavoro","Peer review e raffinamento collaborativo"],duration:"15 minuti"}]},3:{title:"Navigare il Labirinto dell'IA",subtitle:"Etica, Normativa e Gestione Responsabile",icon:"\u2696\ufe0f",duration:75,sections:[{title:"Data Governance per l'IA in Condominio",description:"Fondamenta per un uso responsabile: policy, ruoli, processi e controlli per gestione dati.",keyPoints:["Principi chiave: accountability, trasparenza, sicurezza, qualit\xe0, minimizzazione","Identificazione dati critici: personali condomini, relativi all'immobile","Gestione ciclo di vita dati: accessi, finalit\xe0, conservazione","Qualit\xe0 input = qualit\xe0 output IA"],duration:"15 minuti"},{title:"Privacy by Design e by Default nell'Era dell'IA",description:"Applicazione principi GDPR specificamente per sistemi IA condominiali.",keyPoints:["Valutazione ogni applicazione IA per protezione dati personali","Basi giuridiche: consenso, contratto, legittimo interesse, obbligo legale","DPIA obbligatoria per trattamenti ad alto rischio","Caso emblematico: videosorveglianza intelligente"],duration:"15 minuti"},{title:"L'AI Act Europeo e DDL Italiano S.1146",description:"Prepararsi ai nuovi adempimenti normativi con approccio pratico.",keyPoints:["Classificazione rischi: Inaccettabile, Alto, Limitato, Minimo","Obblighi formativi specifici per professionisti iscritti ordini","Modulazione equo compenso basata su competenze IA","Responsabilit\xe0 professionale evoluta: duty of care tecnologico"],duration:"20 minuti"},{title:"Bias Algoritmici e Cybersecurity",description:"Riconoscere e mitigare rischi emergenti nella gestione condominiale.",keyPoints:["Bias settore-specifici: selezione inquilini, prioritizzazione manutenzioni","Strategie mitigazione: diversificazione dati, audit algoritmici, supervisione umana","Cybersecurity edifici intelligenti: vulnerabilit\xe0 IoT, contromisure essenziali","Piano di Risposta Incidenti per sistemi IA"],duration:"25 minuti"}]},4:{title:"Implementare l'IA con Saggezza",subtitle:"Gestione del Cambiamento e Visione Futura",icon:"\ud83c\udfaf",duration:60,sections:[{title:"Dall'Idea all'Azione: Metodologia Pratica per Valutare e Adottare Soluzioni IA",description:"Framework strutturato in 5 fasi per adozione strategica e sostenibile.",keyPoints:["1. Identificazione bisogni e opportunit\xe0 specifiche","2. Analisi soluzioni IA disponibili","3. Valutazione approfondita rischi e benefici (TCO)","4. Pianificazione dettagliata implementazione","5. Monitoraggio continuo e ottimizzazione"],duration:"20 minuti"},{title:"Change Management: Guidare l'Adozione dell'IA",description:"Gestione efficace del cambiamento nei processi e nella cultura organizzativa.",keyPoints:["Superare resistenza staff: coinvolgimento, formazione, rassicurazioni","Comunicare valore ai condomini: trasparenza, benefici, tutela privacy","Creare cultura innovazione: curiosit\xe0, sperimentazione, apprendimento continuo","Leadership change management rafforza reputazione amministratore"],duration:"15 minuti"},{title:"Tendenze Emergenti e Prospettive Future",description:"Panoramica evoluzione settore e posizionamento strategico per dominare il futuro.",keyPoints:["Sistemi IA sempre pi\xf9 integrati e autonomi","Cognitive Buildings: apprendimento e adattamento dinamico","Ruolo crescente IA nella sostenibilit\xe0 e reportistica ESG","Iper-personalizzazione spinta servizi predittivi"],duration:"10 minuti"},{title:"Costruire il 'Condominio del Futuro'",description:"L'amministratore come agente di innovazione e facilitatore di comunit\xe0 intelligenti.",keyPoints:["Guidare adozione soluzioni per qualit\xe0 vita, efficienza, sostenibilit\xe0","Cogliere opportunit\xe0 iniziative territoriali e finanziamenti","Posizionamento come pioniere trasformazione settoriale","Vision: condominio intelligente, sostenibile, resiliente, iper-connesso"],duration:"15 minuti"}]}};return t[e]||null}(e.currentModule),i=e=>{const t=e.title.toLowerCase();return t.includes("workshop")||t.includes("laboratorio")||t.includes("bias")&&t.includes("algoritmici")||t.includes("costruire")},r=e=>{switch(e){case"race-builder":return"\ud83c\udfaf Prompt Builder RACE";case"prompt-optimizer":return"\ud83e\udde0 Prompt Optimizer Lab";case"bias-simulator":return"\u2696\ufe0f Simula Bias Algoritmici";case"roi-planner":return"\ud83d\udcca Pianifica ROI Implementazione";default:return"\u26a1 Apri Workshop"}};return(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("div",{className:"module-content-detail",children:(0,Xo.jsxs)("div",{className:"container",children:[(0,Xo.jsxs)("div",{className:"module-header",children:[(0,Xo.jsxs)("h2",{children:[n.icon," ",n.title]}),(0,Xo.jsx)("p",{className:"module-subtitle",children:n.subtitle}),(0,Xo.jsxs)("div",{className:"module-meta",children:[(0,Xo.jsxs)("span",{children:["\u23f1\ufe0f ",n.duration," minuti"]}),(0,Xo.jsxs)("span",{children:["\ud83d\udccd Modulo ",e.currentModule,"/4"]})]})]}),(0,Xo.jsx)("div",{className:"module-sections",children:n.sections.map(((n,a)=>{const o=((e,t)=>{const n=e.title.toLowerCase();return n.includes("framework race")||1===t&&n.includes("workshop")?"race-builder":n.includes("laboratorio")||2===t&&n.includes("laboratorio")?"prompt-optimizer":n.includes("bias")&&n.includes("algoritmici")?"bias-simulator":4===t&&n.includes("costruire")?"roi-planner":null})(n,e.currentModule);return(0,Xo.jsxs)("div",{className:"module-section",children:[(0,Xo.jsx)("h3",{children:n.title}),(0,Xo.jsx)("p",{children:n.description}),n.keyPoints&&(0,Xo.jsx)("ul",{className:"key-points",children:n.keyPoints.map(((e,t)=>(0,Xo.jsx)("li",{children:e},t)))}),i(n)&&o&&(0,Xo.jsxs)("div",{className:"workshop-trigger",children:[(0,Xo.jsx)("button",{onClick:()=>(e=>{t({type:"OPEN_WORKSHOP",payload:e})})(o),className:"btn-workshop",children:r(o)}),(0,Xo.jsx)("p",{className:"workshop-hint",children:"\ud83d\udca1 Sessione interattiva per mettere in pratica i concetti appena appresi"})]})]},a)}))})]})}),(0,Xo.jsx)(Es,{}),(0,Xo.jsx)(ks,{}),(0,Xo.jsx)(zs,{}),(0,Xo.jsx)(Ts,{})]})},Ps={framework:[{id:"race-framework",title:"Framework RACE per Prompt Efficaci",description:"Metodologia strutturata per costruire prompt professionali che ottengono risultati precisi e coerenti.",content:'# Framework RACE per Prompt Efficaci\n\n## Cos\'\xe8 il Framework RACE?\n\nIl Framework RACE \xe8 una metodologia strutturata per costruire prompt che ottengono risultati professionali dall\'IA. Ogni lettera rappresenta un elemento essenziale:\n\n**R - RUOLO**: Chi deve essere l\'IA per te\n**A - AZIONE**: Cosa deve fare esattamente  \n**C - CONTESTO**: La situazione specifica\n**E - ESEMPIO**: Come deve essere l\'output\n\n## Come Applicarlo\n\n### R - RUOLO\nDefinisci chi deve "essere" l\'IA:\n- "Sei un amministratore condominiale esperto"\n- "Agisci come un consulente legale specializzato"\n- "Comportati come un mediatore professionale"\n\n### A - AZIONE  \nSpecifica cosa deve fare:\n- "Redigi una comunicazione formale"\n- "Analizza questo contratto"\n- "Riassumi i punti chiave"\n\n### C - CONTESTO\nFornisci la situazione completa:\n- Tipo di condominio\n- Problema specifico\n- Stakeholder coinvolti\n- Vincoli temporali\n\n### E - ESEMPIO\nIndica formato e stile desiderati:\n- "Tono professionale ma empatico"\n- "Formato email con oggetto chiaro"\n- "Massimo 200 parole"\n\n## Esempio Pratico\n\n**PROMPT SENZA RACE:**\n"Scrivi una lettera per rumori molesti"\n\n**PROMPT CON RACE:**\n**R**: Sei un amministratore condominiale esperto in gestione diplomatica\n**A**: Redigi comunicazione formale per disturbi acustici recidivi\n**C**: Condominio 14 unit\xe0, terza segnalazione stesso appartamento, rumori serali 22-24, necessit\xe0 escalation ma preservando clima\n**E**: Tono autorevole ma diplomatico, formato lettera ufficiale, 250-300 parole, include riferimenti normativi\n\n## Risultati Attesi\n\nCon RACE otterrai:\n- \u2705 Output pi\xf9 precisi e professionali\n- \u2705 Riduzione tempo di revisione\n- \u2705 Maggiore coerenza nei risultati\n- \u2705 Comunicazioni pi\xf9 efficaci'},{id:"change-management",title:"Guida al Change Management per l'IA",description:"Metodologia per gestire l'introduzione dell'IA nello studio e superare le resistenze al cambiamento.",content:"# Change Management per l'Adozione dell'IA\n\n## Perch\xe9 il Change Management \xe8 Cruciale\n\nL'introduzione dell'IA non \xe8 solo una questione tecnologica, ma comporta un cambiamento culturale e organizzativo che richiede una gestione strategica.\n\n## Le 4 Fasi del Change Management\n\n### 1. PREPARAZIONE\n**Obiettivo**: Creare le basi per il cambiamento\n\n**Azioni chiave:**\n- Analisi dei bisogni reali dello studio\n- Identificazione dei benefici concreti dell'IA\n- Mappatura degli stakeholder (staff, condomini)\n- Definizione della vision del cambiamento\n\n**Strumenti:**\n- Audit interno dei processi\n- Questionari di autovalutazione\n- Workshop di sensibilizzazione\n\n### 2. COINVOLGIMENTO\n**Obiettivo**: Superare le resistenze e creare alleanze\n\n**Strategie per lo staff:**\n- Comunicazione trasparente sui benefici personali\n- Rassicurazioni sulla sicurezza del lavoro\n- Coinvolgimento nelle decisioni\n- Formazione graduale e supportiva\n\n**Strategie per i condomini:**\n- Informazione chiara sui miglioramenti del servizio\n- Dimostrazione dei benefici concreti\n- Garanzie sulla privacy e sicurezza\n- Mantenimento dei canali di comunicazione tradizionali\n\n### 3. IMPLEMENTAZIONE\n**Obiettivo**: Introdurre l'IA in modo controllato\n\n**Approccio consigliato:**\n- Pilota su un processo specifico\n- Monitoraggio costante dei risultati\n- Raccolta feedback continua\n- Aggiustamenti in tempo reale\n\n**Metriche di successo:**\n- Tempo risparmiato per task specifici\n- Livello di soddisfazione staff\n- Qualit\xe0 output percepita\n- Riduzione errori/problemi\n\n### 4. CONSOLIDAMENTO\n**Obiettivo**: Rendere il cambiamento permanente\n\n**Attivit\xe0:**\n- Celebrazione dei successi ottenuti\n- Condivisione di storie di successo\n- Formazione continua\n- Evoluzione verso nuove applicazioni\n\n## Gestire le Resistenze Comuni\n\n### \"L'IA ci sostituir\xe0\"\n**Risposta**: Mostra come l'IA libera tempo per attivit\xe0 pi\xf9 qualificate e strategiche\n\n### \"\xc8 troppo complicata\"\n**Risposta**: Inizia con strumenti semplici e fornisci formazione graduale\n\n### \"Costa troppo\"\n**Risposta**: Calcola e comunica il ROI concreto in termini di tempo e qualit\xe0\n\n### \"I condomini non la accetteranno\"\n**Risposta**: Focalizza sui benefici per loro (risposte pi\xf9 rapide, servizio migliore)\n\n## Checklist per il Success\n\n\u25a1 Vision chiara del cambiamento comunicata\n\u25a1 Benefici concreti identificati e comunicati\n\u25a1 Team formato e supportato\n\u25a1 Pilota avviato con successo\n\u25a1 Feedback raccolto e utilizzato\n\u25a1 Primi risultati celebrati\n\u25a1 Piano di espansione definito\n\n## Consigli Pratici\n\n1. **Inizia piccolo**: Un solo processo, poi espandi\n2. **Comunica spesso**: Aggiornamenti regolari sui progressi\n3. **Sii paziente**: Il cambiamento richiede tempo\n4. **Ascolta**: Il feedback \xe8 oro per migliorare\n5. **Celebra**: Riconosci i successi, anche piccoli\n\nIl change management efficace trasforma la paura in curiosit\xe0 e la resistenza in collaborazione."}],guide:[{id:"gdpr-ai-guide",title:"GDPR e IA: Guida Pratica per Amministratori",description:"Guida completa per utilizzare l'IA nel rispetto del GDPR e delle normative sulla privacy.",content:"# GDPR e IA: Guida Pratica per Amministratori\n\n## Principi Fondamentali\n\nL'uso dell'IA deve rispettare tutti i principi del GDPR. Non sono normative separate, ma interconnesse.\n\n### I 7 Principi GDPR nell'Era dell'IA\n\n1. **Liceit\xe0, Correttezza e Trasparenza**\n   - Base giuridica solida per ogni trattamento IA\n   - Informativa chiara su come l'IA usa i dati\n   - Trasparenza algoritmica quando possibile\n\n2. **Limitazione della Finalit\xe0**\n   - L'IA pu\xf2 usare i dati solo per scopi dichiarati\n   - No \"riuso creativo\" dei dati senza consenso\n\n3. **Minimizzazione dei Dati**\n   - Solo i dati strettamente necessari all'IA\n   - Anonimizzazione quando possibile\n\n4. **Esattezza**\n   - Dati accurati per evitare decisioni errate dell'IA\n   - Correzione rapida di errori\n\n5. **Limitazione della Conservazione**\n   - Tempi di conservazione definiti per dati IA\n   - Cancellazione automatica quando possibile\n\n6. **Integrit\xe0 e Riservatezza**\n   - Sicurezza rafforzata per sistemi IA\n   - Crittografia e controlli accesso\n\n7. **Accountability**\n   - Documentazione uso IA\n   - Responsabilit\xe0 sempre umana\n\n## Basi Giuridiche per l'IA\n\n### Consenso\n**Quando usarlo:**\n- Servizi IA opzionali\n- Analisi comportamentali non necessarie\n- Personalizzazioni avanzate\n\n**Caratteristiche:**\n- Libero, specifico, informato\n- Facilmente revocabile\n- Documentato\n\n### Contratto (Mandato)\n**Quando usarlo:**\n- IA strettamente necessaria al mandato\n- Automazione contabilit\xe0\n- Gestione comunicazioni essenziali\n\n**Attenzione:** Deve essere davvero necessaria, non solo utile\n\n### Legittimo Interesse\n**Quando usarlo:**\n- Efficienza operativa\n- Sicurezza (videosorveglianza)\n- Prevenzione frodi\n\n**Requisiti:**\n- Test di bilanciamento (LIA)\n- Diritto di opposizione sempre garantito\n- Impatto limitato sui diritti\n\n## Data Governance Pratica\n\n### 1. Classificazione Dati\n**\ud83d\udd34 DATI VIETATI per IA:**\n- Nomi/cognomi reali\n- Codici fiscali, IBAN\n- Indirizzi specifici\n- Dati sanitari/giudiziari\n\n**\ud83d\udfe1 DATI CON CAUTELA:**\n- Situazioni anonimizzate\n- Importi generici\n- Tipologie problemi\n\n**\ud83d\udfe2 DATI LIBERI:**\n- Template generici\n- Normative pubbliche\n- Casi ipotetici\n\n### 2. Registro Trattamenti IA\nPer ogni uso IA documentare:\n- Finalit\xe0 specifica\n- Categorie dati trattati\n- Base giuridica\n- Misure sicurezza\n- Tempi conservazione\n- Terze parti coinvolte\n\n### 3. DPIA per IA\n**Obbligatoria quando:**\n- Videosorveglianza IA su larga scala\n- Decisioni automatizzate con impatti significativi\n- Trattamento dati biometrici\n- Profilazione estensiva\n\n**Contenuti DPIA:**\n- Descrizione trattamento IA\n- Necessit\xe0 e proporzionalit\xe0\n- Rischi per diritti/libert\xe0\n- Misure mitigazione rischi\n\n## Gestire i Diritti degli Interessati\n\n### Diritto di Accesso\n- Spiegare che dati usa l'IA\n- Come vengono processati\n- Logica delle decisioni automatizzate\n\n### Diritto alla Spiegazione\n- Per decisioni completamente automatizzate\n- Logica algoritmica in termini comprensibili\n- Significato e conseguenze per l'interessato\n\n### Diritto di Opposizione\n- Sempre garantito per legittimo interesse\n- Procedure semplici per esercitarlo\n- Alternative non automatizzate quando possibile\n\n## Checklist GDPR per IA\n\n### Prima di Adottare un Sistema IA\n\u25a1 Base giuridica identificata e solida\n\u25a1 Informativa privacy aggiornata\n\u25a1 DPIA condotta se necessaria\n\u25a1 Misure sicurezza adeguate pianificate\n\u25a1 Procedure diritti interessati definite\n\n### Durante l'Implementazione\n\u25a1 Configurazione privacy-friendly attivata\n\u25a1 Staff formato su aspetti privacy\n\u25a1 Documentazione uso IA avviata\n\u25a1 Monitoraggio sicurezza attivo\n\u25a1 Canali reclami/opposizione funzionanti\n\n### Monitoraggio Continuo\n\u25a1 Audit periodici conformit\xe0\n\u25a1 Verifica efficacia misure sicurezza\n\u25a1 Aggiornamento documentazione\n\u25a1 Formazione continua staff\n\u25a1 Review periodica basi giuridiche\n\n## Consigli Pratici\n\n1. **Privacy by Design**: Integra privacy fin dall'inizio\n2. **Documentazione**: Traccia tutto l'uso dell'IA\n3. **Trasparenza**: Comunica chiaramente ai condomini\n4. **Sicurezza**: Proteggi i dati come il bene pi\xf9 prezioso\n5. **Formazione**: Mantieni aggiornate le competenze\n\nLa conformit\xe0 GDPR non \xe8 un ostacolo all'innovazione, ma il fondamento per un'IA etica e sostenibile."},{id:"ai-act-compliance",title:"AI Act Europeo: Compliance per Amministratori",description:"Guida alla conformit\xe0 con il Regolamento UE sull'Intelligenza Artificiale.",content:"# AI Act Europeo: Compliance per Amministratori\n\n## Cos'\xe8 l'AI Act\n\nIl Regolamento UE 2024/1689 sull'Intelligenza Artificiale \xe8 la prima legislazione al mondo che regola l'IA in modo comprensivo, basandosi su un approccio risk-based.\n\n## I 4 Livelli di Rischio\n\n### \ud83d\udd34 RISCHIO INACCETTABILE (Vietati)\n**Sistemi proibiti:**\n- Social scoring dei condomini\n- Manipolazione comportamentale subliminale\n- Sfruttamento vulnerabilit\xe0 specifiche\n- Riconoscimento emozioni sul lavoro (limitato)\n\n**Impatto condominio:** Bassissimo, sono vietati per natura\n\n### \ud83d\udfe0 RISCHIO ALTO (Obblighi Stringenti)\n**Sistemi che potrebbero riguardarci:**\n- Gestione IA di infrastrutture critiche (ascensori smart, antincendio)\n- Identificazione biometrica remota in tempo reale\n- Sistemi controllo accessi con IA per aree vitali\n- IA per gestione sicurezza con decisioni automatiche\n\n**Obblighi del Deployer (Amministratore):**\n1. **Conformit\xe0 alle istruzioni del fornitore**\n2. **Qualit\xe0 dei dati di input** (sotto vostro controllo)\n3. **Supervisione umana robusta**\n   - Personale competente\n   - Capacit\xe0 di monitorare\n   - Possibilit\xe0 di intervenire\n4. **Conservazione log di funzionamento**\n5. **Informazione trasparente agli utenti**\n6. **Segnalazione incidenti gravi**\n\n### \ud83d\udfe1 RISCHIO LIMITATO (Trasparenza)\n**Sistemi comuni in condominio:**\n- **Chatbot e assistenti virtuali**\n  - Obbligo: Informare chiaramente che si interagisce con IA\n- **Contenuti generati dall'IA**\n  - Comunicazioni, verbali, analisi create da IA\n  - Obbligo: Indicare chiaramente l'origine IA\n- **Deepfake o contenuti sintetici**\n  - Obbligo: Marcatura chiara\n\n### \ud83d\udfe2 RISCHIO MINIMO (Libero)\n**La maggior parte degli usi quotidiani:**\n- LLM per redazione documenti (ChatGPT, Claude)\n- IA per analisi dati aggregati\n- Automazioni semplici workflow\n- Filtri spam\n\n## Checklist Pratica AI Act\n\n### Per Ogni Sistema IA che Adottate\n\n#### 1. Classificazione del Rischio\n\u25a1 Ho identificato la categoria di rischio del sistema?\n\u25a1 Ho consultato la documentazione del fornitore?\n\u25a1 Ho valutato l'uso specifico nel contesto condominiale?\n\n#### 2. Conformit\xe0 Base\n\u25a1 Il fornitore ha certificazione CE (se alto rischio)?\n\u25a1 \xc8 disponibile la documentazione tecnica?\n\u25a1 Esistono istruzioni d'uso chiare?\n\n#### 3. Supervisione Umana (se richiesta)\n\u25a1 Ho identificato chi supervisioner\xe0 il sistema?\n\u25a1 Il supervisore ha competenze adeguate?\n\u25a1 Esistono procedure di intervento/override?\n\u25a1 \xc8 possibile monitorare le decisioni dell'IA?\n\n#### 4. Trasparenza (sempre)\n\u25a1 Gli utenti sanno di interagire con IA?\n\u25a1 Le comunicazioni generate da IA sono marcate?\n\u25a1 Esiste informativa chiara sul funzionamento?\n\n#### 5. Gestione Dati\n\u25a1 I dati di input sono di qualit\xe0 adeguata?\n\u25a1 Esistono procedure di verifica/correzione?\n\u25a1 La conservazione rispetta i tempi previsti?\n\n#### 6. Sicurezza e Incidenti\n\u25a1 Esistono misure di cybersecurity adeguate?\n\u25a1 \xc8 definito un piano di risposta agli incidenti?\n\u25a1 So come segnalare malfunzionamenti gravi?\n\n## Esempi Pratici\n\n### Chatbot per FAQ Condominiali\n**Categoria:** Rischio Limitato\n**Obblighi:**\n- Messaggio chiaro: \"Stai chattando con un assistente IA\"\n- Possibilit\xe0 di contatto umano\n- Informativa su dati trattati\n\n### Sistema Manutenzione Predittiva Ascensori\n**Categoria:** Potenzialmente Alto Rischio\n**Obblighi:**\n- Supervisione tecnico qualificato\n- Conservazione log predizioni\n- Procedure intervento manuale\n- Segnalazione anomalie gravi\n\n### Videosorveglianza con Analisi IA\n**Categoria:** Alto Rischio (probabile)\n**Obblighi:**\n- DPIA completa\n- Supervisione umana continua\n- Marcatura chiaramente visibile\n- Conservazione registri decisioni\n\n## Tempistiche di Adeguamento\n\n- **Agosto 2024:** Divieti sistemi inaccettabili\n- **Agosto 2025:** Modelli IA fondazione generale\n- **Agosto 2026:** Sistemi alto rischio\n- **Agosto 2027:** Piena applicazione\n\n## Consigli Strategici\n\n1. **Valutazione Precoce**: Classifica tutti i sistemi IA attuali\n2. **Documentazione**: Inizia subito a documentare l'uso dell'IA\n3. **Formazione**: Investi in competenze AI Act\n4. **Fornitori**: Chiedi garanzie di conformit\xe0 ai vendor\n5. **Consulenza**: Considera supporto legale specializzato\n\n## Opportunit\xe0 dall'AI Act\n\n- **Vantaggio competitivo**: Conformit\xe0 precoce come differenziatore\n- **Fiducia clienti**: Trasparenza costruisce reputazione\n- **Risk management**: Approccio strutturato riduce rischi\n- **Innovation framework**: Regole chiare facilitano investimenti\n\nL'AI Act non \xe8 un ostacolo, ma un framework per innovare responsabilmente."}],strumenti:[{id:"prompt-library",title:"Libreria Prompt Pronti all'Uso",description:"Collezione di prompt testati e ottimizzati per le situazioni pi\xf9 comuni dell'amministratore.",content:'# Libreria Prompt Pronti all\'Uso\n\n## Comunicazioni Condominiali\n\n### Sollecito Pagamento Diplomatico\n```\nRUOLO: Sei un amministratore condominiale esperto in comunicazione diplomatica\nAZIONE: Redigi un sollecito di pagamento formale ma cortese\nCONTESTO: [Condomino nome], [importo], [scadenza], [tipo spesa], [eventuali precedenti]\nESEMPIO: Tono professionale ma comprensivo, formato email, riferimenti normativi, modalit\xe0 pagamento, conseguenze progressive\n```\n\n### Comunicazione Lavori Straordinari\n```\nRUOLO: Sei un amministratore esperto in gestione lavori condominiali\nAZIONE: Redigi comunicazione per lavori straordinari con gestione disagi\nCONTESTO: [Tipo lavori], [durata], [orari], [aree interessate], [misure sicurezza]\nESEMPIO: Informativo ma rassicurante, cronoprogramma chiaro, contatti emergenza, benefici finali, 200-300 parole\n```\n\n### Risposta a Reclamo Complesso\n```\nRUOLO: Sei un mediatore professionale specializzato in conflitti condominiali\nAZIONE: Rispondi a reclamo gestendo aspetti emotivi e fornendo soluzioni\nCONTESTO: [Natura reclamo], [stakeholder coinvolti], [precedenti], [vincoli normativi]\nESEMPIO: Emp\xe1tico ma autorevole, riconoscimento problema, proposta soluzione concreta, passi successivi\n```\n\n## Analisi Documenti\n\n### Riassunto Verbale Assemblea\n```\nRUOLO: Sei un segretario assembleare esperto in sintesi documentale\nAZIONE: Riassumi questo verbale evidenziando decisioni e scadenze\nCONTESTO: [Testo verbale completo]\nESEMPIO: Bullet points per argomento, decisioni prese con maggioranze, azioni assegnate con scadenze, 150-200 parole\n```\n\n### Analisi Contratto/Preventivo\n```\nRUOLO: Sei un consulente legale specializzato in contratti condominiali\nAZIONE: Analizza questo contratto identificando punti critici e opportunit\xe0\nCONTESTO: [Testo contratto/preventivo]\nESEMPIO: Tabella con: clausole importanti, rischi identificati, vantaggi, raccomandazioni, domande da porre al fornitore\n```\n\n### Comparazione Preventivi\n```\nRUOLO: Sei un analista esperto in valutazione fornitori\nAZIONE: Confronta questi preventivi per [servizio] evidenziando differenze chiave\nCONTESTO: [Preventivo 1], [Preventivo 2], [Preventivo 3], [criteri prioritari]\nESEMPIO: Tabella comparativa: costi, servizi inclusi/esclusi, vantaggi/svantaggi, raccomandazione motivata\n```\n\n## Gestione Assemblee\n\n### Preparazione Ordine del Giorno\n```\nRUOLO: Sei un amministratore esperto in gestione assemblee\nAZIONE: Struttura ordine del giorno ottimale per assemblea [ordinaria/straordinaria]\nCONTESTO: [Argomenti da trattare], [bilancio/lavori/questioni], [tempo disponibile], [criticit\xe0 previste]\nESEMPIO: Sequenza logica, tempi stimati, documentazione allegata, strategie per punti controversi\n```\n\n### Gestione Conflitti in Assemblea\n```\nRUOLO: Sei un mediatore esperto in dinamiche assembleari\nAZIONE: Suggerisci strategie per gestire conflitto su [argomento specifico]\nCONTESTO: [Natura conflitto], [posizioni in campo], [interessi sottostanti], [vincoli normativi]\nESEMPIO: Tecniche de-escalation, opzioni compromesso, framing positivo, gestione tempo, alternative creative\n```\n\n## Questioni Legali e Normative\n\n### Interpretazione Normativa\n```\nRUOLO: Sei un esperto in normativa condominiale aggiornata\nAZIONE: Spiega implicazioni pratiche di [normativa/sentenza] per amministrazione condominiale\nCONTESTO: [Testo normativo], [situazione specifica del condominio]\nESEMPIO: Linguaggio accessibile, implicazioni operative concrete, azioni richieste, scadenze, rischi non conformit\xe0\n```\n\n### Gestione Morosit\xe0\n```\nRUOLO: Sei un esperto in recupero crediti condominiali\nAZIONE: Sviluppa strategia recupero per condomino moroso\nCONTESTO: [Importo], [durata morosit\xe0], [situazione finanziaria nota], [rapporti precedenti]\nESEMPIO: Piano graduale: comunicazioni, tempistiche, procedure legali, alternative, documentazione necessaria\n```\n\n## Innovazione e Sostenibilit\xe0\n\n### Proposta Efficientamento Energetico\n```\nRUOLO: Sei un consulente esperto in efficienza energetica condominiale\nAZIONE: Sviluppa proposta efficientamento per presentazione assemblea\nCONTESTO: [Tipo edificio], [anno costruzione], [consumi attuali], [budget disponibile]\nESEMPIO: Analisi costi-benefici, incentivi disponibili, ROI stimato, impatto ambientale, fasi implementazione\n```\n\n### Valutazione Tecnologie Smart\n```\nRUOLO: Sei un esperto in tecnologie smart building per condomini\nAZIONE: Valuta opportunit\xe0 implementazione [tecnologia specifica]\nCONTESTO: [Caratteristiche condominio], [esigenze abitanti], [budget], [competenze tecniche disponibili]\nESEMPIO: Pro/contro, costi implementazione/gestione, benefici concreti, tempistiche, fornitori raccomandati\n```\n\n## Tips per Ottimizzare i Prompt\n\n### 1. Personalizzazione del Contesto\n- Aggiungi sempre dettagli specifici del tuo condominio\n- Menziona caratteristiche uniche (et\xe0 edificio, composizione condomini)\n- Includi vincoli normativi locali se rilevanti\n\n### 2. Iterazione e Raffinamento\n- Usa il primo output come base\n- Chiedi modifiche specifiche: "Rendi il tono pi\xf9 formale"\n- Richiedi varianti: "Dammi 3 versioni diverse"\n\n### 3. Controllo Qualit\xe0\n- Sempre prompt di verifica: "Controlla questo testo per errori"\n- Chiedi check conformit\xe0: "Verifica aderenza a normativa XYZ"\n- Valida logica: "Questo ragionamento \xe8 corretto?"\n\n### 4. Adattamento al Pubblico\n- Specifica sempre il destinatario\n- Adatta linguaggio e registro\n- Considera livello di conoscenza tecnica\n\nRicorda: questi prompt sono template da personalizzare. Adattali sempre alla tua situazione specifica!'},{id:"evaluation-checklist",title:"Checklist Valutazione Strumenti IA",description:"Guida strutturata per valutare e selezionare strumenti IA per il tuo studio.",content:"# Checklist Valutazione Strumenti IA\n\n## \ud83d\udccb Valutazione Pre-Acquisto\n\n### 1. ANALISI BISOGNI\nPrima di valutare qualsiasi strumento, definisci:\n\n**Bisogni Attuali**\n\u25a1 Quali processi richiedono pi\xf9 tempo?\n\u25a1 Dove si verificano pi\xf9 errori?\n\u25a1 Quali attivit\xe0 sono pi\xf9 ripetitive?\n\u25a1 Che tipo di documenti gestisci di pi\xf9?\n\n**Obiettivi Specifici**\n\u25a1 Risparmio tempo quantificato (es. 5 ore/settimana)\n\u25a1 Miglioramento qualit\xe0 output\n\u25a1 Riduzione errori\n\u25a1 Aumento soddisfazione condomini\n\u25a1 Differenziazione competitiva\n\n**Vincoli da Considerare**\n\u25a1 Budget massimo disponibile\n\u25a1 Tempo per implementazione\n\u25a1 Competenze tecniche team\n\u25a1 Resistenza al cambiamento prevista\n\n### 2. CRITERI FUNZIONALI\n\n**Capacit\xe0 Core**\n\u25a1 Lo strumento risolve il problema identificato?\n\u25a1 \xc8 adatto al settore condominiale italiano?\n\u25a1 Supporta i documenti/formati che usi?\n\u25a1 Ha funzionalit\xe0 specifiche per la tua tipologia di condomini?\n\n**Usabilit\xe0**\n\u25a1 Interfaccia intuitiva per il tuo team?\n\u25a1 Curva di apprendimento accettabile?\n\u25a1 Documentazione/tutorial disponibili?\n\u25a1 Versione trial/demo funzionante?\n\n**Integrazione**\n\u25a1 Si integra con il tuo gestionale attuale?\n\u25a1 Compatibile con Office/Google Workspace?\n\u25a1 API disponibili per integrazioni future?\n\u25a1 Supporta importazione dati esistenti?\n\n### 3. CONFORMIT\xc0 E SICUREZZA\n\n**GDPR Compliance**\n\u25a1 Il fornitore \xe8 certificato GDPR?\n\u25a1 Dove vengono processati/archiviati i dati?\n\u25a1 Accordo DPA (Data Processing Agreement) disponibile?\n\u25a1 Procedure per gestione diritti interessati?\n\u25a1 Possibilit\xe0 cancellazione dati su richiesta?\n\n**AI Act Compliance**\n\u25a1 Il fornitore dichiara conformit\xe0 AI Act?\n\u25a1 Classificazione rischio del sistema?\n\u25a1 Documentazione tecnica disponibile?\n\u25a1 Misure bias mitigation implementate?\n\u25a1 Supervisione umana garantita?\n\n**Cybersecurity**\n\u25a1 Crittografia dati in transito e a riposo?\n\u25a1 Autenticazione a due fattori disponibile?\n\u25a1 Certificazioni sicurezza (ISO 27001, SOC 2)?\n\u25a1 Audit di sicurezza regolari?\n\u25a1 Piano di risposta incidenti documentato?\n\n### 4. VALUTAZIONE ECONOMICA\n\n**Costi Diretti**\n\u25a1 Licenza/abbonamento mensile/annuale: \u20ac_____\n\u25a1 Setup/implementazione: \u20ac_____\n\u25a1 Formazione team: \u20ac_____\n\u25a1 Migrazione dati: \u20ac_____\n\u25a1 Hardware aggiuntivo necessario: \u20ac_____\n\n**Costi Indiretti**\n\u25a1 Tempo interno per implementazione: ___ore\n\u25a1 Riduzione produttivit\xe0 durante transizione\n\u25a1 Supporto tecnico aggiuntivo\n\u25a1 Aggiornamenti/manutenzione future\n\n**ROI Atteso**\n\u25a1 Tempo risparmiato: ___ore/settimana \xd7 \u20ac__/ora = \u20ac___/mese\n\u25a1 Riduzione errori: risparmio stimato \u20ac___/mese  \n\u25a1 Nuovi servizi possibili: fatturato aggiuntivo \u20ac___/mese\n\u25a1 Payback period: ___mesi\n\n### 5. SUPPORTO E AFFIDABILIT\xc0\n\n**Supporto Tecnico**\n\u25a1 Orari supporto compatibili con le tue esigenze?\n\u25a1 Supporto in italiano disponibile?\n\u25a1 Canali di contatto (chat, email, telefono)?\n\u25a1 SLA (Service Level Agreement) definiti?\n\u25a1 Documentazione tecnica completa?\n\n**Affidabilit\xe0 Fornitore**\n\u25a1 Da quanto tempo opera nel settore?\n\u25a1 Referenze da clienti italiani?\n\u25a1 Stabilit\xe0 finanziaria dell'azienda?\n\u25a1 Roadmap prodotto trasparente?\n\u25a1 Track record aggiornamenti/miglioramenti?\n\n**Continuit\xe0 Servizio**\n\u25a1 Uptime garantito (SLA)?\n\u25a1 Backup e disaster recovery?\n\u25a1 Piano di migrazione dati se cambi fornitore?\n\u25a1 Possibilit\xe0 export dati in formati standard?\n\n## \ud83d\udd0d Valutazione Comparativa\n\n### Matrice di Scoring\nPer ogni criterio, assegna un punteggio 1-5:\n\n| Criterio | Peso | Strumento A | Strumento B | Strumento C |\n|----------|------|-------------|-------------|-------------|\n| Funzionalit\xe0 | 30% | ___/5 | ___/5 | ___/5 |\n| Usabilit\xe0 | 20% | ___/5 | ___/5 | ___/5 |\n| Conformit\xe0 | 25% | ___/5 | ___/5 | ___/5 |\n| Costi/ROI | 15% | ___/5 | ___/5 | ___/5 |\n| Supporto | 10% | ___/5 | ___/5 | ___/5 |\n| **TOTALE** | 100% | ___/5 | ___/5 | ___/5 |\n\n### Red Flags - Quando Dire NO\n\n\ud83d\udea8 **Evita se:**\n\u25a1 Nessuna prova gratuita disponibile\n\u25a1 Prezzi non trasparenti\n\u25a1 No referenze verificabili\n\u25a1 Supporto solo in inglese (se non parli inglese)\n\u25a1 No compliance GDPR dichiarata\n\u25a1 Clausole contrattuali poco chiare\n\u25a1 Lock-in tecnologico estremo\n\u25a1 Startup senza track record\n\n## \u2705 Processo di Decisione\n\n### Fase 1: Screening Iniziale\n1. Applica i Red Flags\n2. Verifica fit funzionale base\n3. Controlla budget compatibility\n4. Riduci a 2-3 opzioni\n\n### Fase 2: Valutazione Approfondita\n1. Trial esteso (almeno 2 settimane)\n2. Test con dati reali (anonimizzati)\n3. Coinvolgimento team utilizzo\n4. Verifica conformit\xe0 con consulente privacy\n\n### Fase 3: Decisione Finale\n1. Completa matrice scoring\n2. Analisi ROI dettagliata\n3. Check referenze clienti\n4. Negoziazione condizioni contrattuali\n\n### Fase 4: Implementazione Pianificata\n1. Piano di rollout graduale\n2. Formazione team strutturata\n3. Monitoraggio KPI primi 90 giorni\n4. Review e ottimizzazione\n\n## \ud83d\udcca KPI di Successo Post-Implementazione\n\n**Efficienza Operativa**\n\u25a1 Tempo medio per task specifici\n\u25a1 Numero errori per periodo\n\u25a1 Volumi documenti processati\n\u25a1 Tempo risposta ai condomini\n\n**Qualit\xe0 Servizio**\n\u25a1 Soddisfazione condomini (survey)\n\u25a1 Net Promoter Score\n\u25a1 Tasso reclami/problemi\n\u25a1 Feedback qualitativo\n\n**ROI Finanziario**\n\u25a1 Costi operativi vs baseline\n\u25a1 Fatturato per ora lavorata\n\u25a1 Nuovi clienti acquisiti\n\u25a1 Retention clienti esistenti\n\n**Adozione Interna**\n\u25a1 % utilizzo strumento da parte team\n\u25a1 Tempo formazione vs pianificato\n\u25a1 Livello competenza raggiunto\n\u25a1 Resistenze/problemi emersi\n\n## \ud83d\udca1 Consigli Finali\n\n1. **Non farti prendere dall'hype**: Valuta sempre il business case\n2. **Inizia piccolo**: Pilota prima di investimenti grandi\n3. **Pensa al futuro**: Lo strumento \xe8 scalabile?\n4. **Coinvolgi il team**: La migliore tecnologia inutilizzata non serve\n5. **Misura sempre**: Se non puoi misurarlo, non puoi migliorarlo\n\nRicorda: Il migliore strumento IA \xe8 quello che usi davvero, non quello pi\xf9 avanzato!"}]},js=(e,t)=>{const n=document.createElement("a"),i=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(i),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)};const Os=function(){return(0,Xo.jsxs)("div",{className:"resource-area",children:[(0,Xo.jsxs)("div",{className:"resource-disclaimer",children:[(0,Xo.jsx)("strong",{children:"Disclaimer:"})," I contenuti di quest'area sono forniti a scopo informativo e formativo. Non costituiscono consulenza legale, tecnica o professionale specifica. \xc8 sempre necessario verificare le informazioni con fonti ufficiali e consultare professionisti qualificati per situazioni specifiche. L'uso di questi materiali \xe8 sotto la responsabilit\xe0 dell'utilizzatore."]}),(0,Xo.jsxs)("div",{className:"resource-categories",children:[(0,Xo.jsxs)("div",{className:"resource-category",children:[(0,Xo.jsx)("h3",{children:"\ud83e\udded Framework e Metodologie"}),(0,Xo.jsx)("div",{className:"resource-grid",children:Ps.framework.map((e=>(0,Xo.jsxs)("div",{className:"resource-card",children:[(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsx)("button",{className:"download-button",onClick:()=>js(e.content,"".concat(e.id,".txt")),children:"\ud83d\udcc4 Scarica TXT"})]},e.id)))})]}),(0,Xo.jsxs)("div",{className:"resource-category",children:[(0,Xo.jsx)("h3",{children:"\u2696\ufe0f Guide Normative"}),(0,Xo.jsx)("div",{className:"resource-grid",children:Ps.guide.map((e=>(0,Xo.jsxs)("div",{className:"resource-card",children:[(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsx)("button",{className:"download-button",onClick:()=>js(e.content,"".concat(e.id,".txt")),children:"\ud83d\udcc4 Scarica TXT"})]},e.id)))})]}),(0,Xo.jsxs)("div",{className:"resource-category",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udd27 Strumenti Pratici"}),(0,Xo.jsx)("div",{className:"resource-grid",children:Ps.strumenti.map((e=>(0,Xo.jsxs)("div",{className:"resource-card",children:[(0,Xo.jsx)("h4",{children:e.title}),(0,Xo.jsx)("p",{children:e.description}),(0,Xo.jsx)("button",{className:"download-button",onClick:()=>js(e.content,"".concat(e.id,".txt")),children:"\ud83d\udcc4 Scarica TXT"})]},e.id)))})]})]})]})};const Rs=function(){var t;const{state:n,dispatch:i}=is();e.useEffect((()=>{n.facilitatorMode&&"modules"!==n.currentStep&&!n.progress.onboardingComplete&&i({type:"COMPLETE_ONBOARDING"})}),[n.facilitatorMode,n.currentStep,n.progress.onboardingComplete,i]);const r=[{id:1,title:"Dall'Euforia alla Strategia",subtitle:"L'Evoluzione dell'IA nell'Amministrazione Condominiale",duration:75,icon:"\ud83d\ude80"},{id:2,title:"L'Amministratore Aumentato",subtitle:"Nuove Competenze e Prompt Engineering Avanzato",duration:90,icon:"\ud83e\udde0"},{id:3,title:"Navigare il Labirinto dell'IA",subtitle:"Etica, Normativa e Gestione Responsabile",duration:75,icon:"\u2696\ufe0f"},{id:4,title:"Implementare l'IA con Saggezza",subtitle:"Gestione del Cambiamento e Visione Futura",duration:60,icon:"\ud83c\udfaf"}],[a,o]=e.useState("modules"),s=function(e){i({type:"START_POLL",payload:{question:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yesno",timestamp:(new Date).toISOString()}})},l=()=>{i({type:"END_POLL"})},c=["Avete mai usato ChatGPT per lavoro?","Vi sentite pronti ad adottare l'IA nel vostro studio?","Pensate che l'IA migliorer\xe0 il vostro lavoro?","Avete preoccupazioni sulla privacy dei dati con l'IA?","Implementerete almeno uno strumento IA nei prossimi 3 mesi?"];return n.facilitatorMode?(0,Xo.jsx)("div",{className:"facilitator-dashboard",children:(0,Xo.jsxs)("div",{className:"container",children:[(0,Xo.jsx)("h2",{children:"\ud83c\udf9b\ufe0f Dashboard Facilitatore"}),(0,Xo.jsxs)("div",{className:"session-controls",children:[(0,Xo.jsxs)("div",{className:"session-status",children:["Sessione: ",n.sessionActive?"\ud83d\udfe2 Attiva":"\ud83d\udd34 Non attiva"]}),(0,Xo.jsxs)("div",{className:"module-control",children:[(0,Xo.jsx)("label",{children:"Modulo Corrente:"}),(0,Xo.jsxs)("select",{value:n.currentModule,onChange:e=>i({type:"SET_CURRENT_MODULE",payload:parseInt(e.target.value)}),children:[(0,Xo.jsx)("option",{value:0,children:"Nessun modulo"}),r.map((e=>(0,Xo.jsxs)("option",{value:e.id,children:[e.icon," Modulo ",e.id,": ",e.title]},e.id)))]})]}),(0,Xo.jsxs)("div",{className:"module-navigation",children:[(0,Xo.jsx)("button",{onClick:()=>i({type:"SET_CURRENT_MODULE",payload:Math.max(0,n.currentModule-1)}),disabled:n.currentModule<=1,className:"btn-secondary",children:"\u2b05\ufe0f Modulo Precedente"}),(0,Xo.jsx)("button",{onClick:()=>i({type:"SET_CURRENT_MODULE",payload:Math.min(4,n.currentModule+1)}),disabled:n.currentModule>=4,className:"btn-secondary",children:"Modulo Successivo \u27a1\ufe0f"})]}),(0,Xo.jsxs)("div",{className:"session-buttons",children:[(0,Xo.jsx)("button",{onClick:()=>i({type:"START_SESSION"}),disabled:n.sessionActive,className:"btn-primary",children:"\u25b6\ufe0f Avvia Sessione"}),(0,Xo.jsx)("button",{onClick:()=>i({type:"END_SESSION"}),disabled:!n.sessionActive,className:"btn-secondary",children:"\u23f9\ufe0f Termina Sessione"})]}),(0,Xo.jsxs)("div",{className:"poll-controls",children:[(0,Xo.jsx)("h3",{children:"\ud83d\udcca Controlli Polling"}),n.activePoll?(0,Xo.jsxs)("div",{className:"active-poll-control",children:[(0,Xo.jsxs)("div",{className:"poll-info",children:[(0,Xo.jsx)("strong",{children:"Poll Attivo:"})," ",n.activePoll.question]}),(0,Xo.jsxs)("div",{className:"poll-results-live",children:[(0,Xo.jsxs)("span",{children:["\u2705 S\xec: ",n.pollResults.yes||0]}),(0,Xo.jsxs)("span",{children:["\u274c No: ",n.pollResults.no||0]}),(0,Xo.jsxs)("span",{children:["\ud83d\udcca Totale: ",(n.pollResults.yes||0)+(n.pollResults.no||0)]})]}),(0,Xo.jsx)("button",{onClick:l,className:"btn-secondary",children:"\ud83d\uded1 Termina Poll"})]}):(0,Xo.jsxs)("div",{className:"poll-start-controls",children:[(0,Xo.jsxs)("div",{className:"quick-polls",children:[(0,Xo.jsx)("h4",{children:"Poll Rapidi:"}),c.map(((e,t)=>(0,Xo.jsxs)("button",{onClick:()=>s(e),className:"btn-poll-quick",disabled:!n.sessionActive,children:["\ud83d\udccb ",e]},t)))]}),(0,Xo.jsxs)("div",{className:"custom-poll",children:[(0,Xo.jsx)("h4",{children:"Poll Personalizzato:"}),(0,Xo.jsx)("input",{type:"text",placeholder:"Scrivi la tua domanda...",id:"customPollInput",onKeyPress:e=>{"Enter"===e.key&&e.target.value.trim()&&(s(e.target.value.trim()),e.target.value="")},disabled:!n.sessionActive}),(0,Xo.jsx)("button",{onClick:()=>{const e=document.getElementById("customPollInput");e.value.trim()&&(s(e.value.trim()),e.value="")},className:"btn-primary",disabled:!n.sessionActive,children:"\ud83d\ude80 Lancia Poll"})]})]})]})]})]})}):n.sessionActive?(0,Xo.jsxs)("div",{className:"module-overview",children:[(0,Xo.jsxs)("div",{className:"container",children:[(0,Xo.jsxs)("div",{className:"session-header",children:[(0,Xo.jsxs)("div",{className:"session-info",children:[(0,Xo.jsx)("span",{className:"live-badge",children:"\ud83d\udd34 LIVE"}),(0,Xo.jsx)("h2",{children:"Seminario in Corso"})]}),n.currentModule>0&&(0,Xo.jsxs)("div",{className:"current-module",children:[(0,Xo.jsx)("span",{className:"current-label",children:"Modulo Attuale:"}),(0,Xo.jsxs)("div",{className:"module-indicator",children:[null===(t=r.find((e=>e.id===n.currentModule)))||void 0===t?void 0:t.icon,"Modulo ",n.currentModule]})]})]}),(0,Xo.jsxs)("div",{className:"tab-navigation",children:[(0,Xo.jsx)("button",{className:"tab-button ".concat("modules"===a?"active":""),onClick:()=>o("modules"),children:"\ud83d\udcca Panoramica Moduli"}),(0,Xo.jsx)("button",{className:"tab-button ".concat("resources"===a?"active":""),onClick:()=>o("resources"),children:"\ud83d\udcda Area Risorse"})]}),"modules"===a?n.currentModule>0?(0,Xo.jsx)(As,{}):(0,Xo.jsx)("div",{className:"modules-grid",children:r.map((e=>(0,Xo.jsxs)("div",{className:"module-card",children:[(0,Xo.jsxs)("div",{className:"module-header",children:[(0,Xo.jsx)("span",{className:"module-icon",children:e.icon}),(0,Xo.jsxs)("div",{className:"module-info",children:[(0,Xo.jsxs)("h3",{children:["Modulo ",e.id]}),(0,Xo.jsx)("h4",{children:e.title})]})]}),(0,Xo.jsxs)("div",{className:"module-content",children:[(0,Xo.jsx)("p",{children:e.subtitle}),(0,Xo.jsx)("div",{className:"module-meta",children:(0,Xo.jsxs)("span",{className:"duration",children:["\u23f1\ufe0f ",e.duration," min"]})})]})]},e.id)))}):(0,Xo.jsx)(Os,{})]}),(0,Xo.jsx)(Ns,{})]}):(0,Xo.jsx)("div",{className:"waiting-screen",children:(0,Xo.jsx)("div",{className:"container",children:(0,Xo.jsxs)("div",{className:"waiting-content",children:[(0,Xo.jsx)("h2",{children:"\u23f3 In Attesa dell'Inizio"}),(0,Xo.jsx)("p",{children:"Il seminario inizier\xe0 a breve. Rimani in attesa che il facilitatore avvii la sessione."}),(0,Xo.jsxs)("div",{className:"modules-preview",children:[(0,Xo.jsx)("h3",{children:"Oggi affronteremo:"}),(0,Xo.jsx)("div",{className:"modules-grid",children:r.map((e=>(0,Xo.jsxs)("div",{className:"module-preview-card",children:[(0,Xo.jsx)("div",{className:"module-icon",children:e.icon}),(0,Xo.jsxs)("h4",{children:["Modulo ",e.id]}),(0,Xo.jsx)("h5",{children:e.title}),(0,Xo.jsx)("p",{children:e.subtitle}),(0,Xo.jsxs)("span",{className:"duration",children:["\u23f1\ufe0f ",e.duration," minuti"]})]},e.id)))})]})]})})})};function Ls(){const{state:e}=is();return(0,Xo.jsx)(as,{children:(()=>{switch(e.currentStep){case"welcome":default:return(0,Xo.jsx)(cs,{});case"assessment":return(0,Xo.jsx)(ms,{});case"score":return(0,Xo.jsx)(Ss,{});case"buddy":return(0,Xo.jsx)(ws,{});case"modules":return(0,Xo.jsx)(Rs,{})}})()})}const Ds=function(){return(0,Xo.jsx)(ns,{children:(0,Xo.jsx)("div",{className:"app",children:(0,Xo.jsx)(Ls,{})})})},Ms=document.getElementById("root");(0,t.createRoot)(Ms).render((0,Xo.jsx)(e.StrictMode,{children:(0,Xo.jsx)(Ds,{})}))})()})();
//# sourceMappingURL=main.cf35a87f.js.map